var $m=e=>{throw TypeError(e)};var Bu=(e,t,r)=>t.has(e)||$m("Cannot "+r);var O=(e,t,r)=>(Bu(e,t,"read from private field"),r?r.call(e):t.get(e)),ue=(e,t,r)=>t.has(e)?$m("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ne=(e,t,r,n)=>(Bu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(Bu(e,t,"access private method"),r);var Qa=(e,t,r,n)=>({set _(s){ne(e,t,s,r)},get _(){return O(e,t,n)}});function By(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function zy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Vy={exports:{}},$c={},Wy={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),aC=Symbol.for("react.portal"),lC=Symbol.for("react.fragment"),cC=Symbol.for("react.strict_mode"),uC=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),hC=Symbol.for("react.forward_ref"),pC=Symbol.for("react.suspense"),mC=Symbol.for("react.memo"),gC=Symbol.for("react.lazy"),Lm=Symbol.iterator;function vC(e){return e===null||typeof e!="object"?null:(e=Lm&&e[Lm]||e["@@iterator"],typeof e=="function"?e:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qy=Object.assign,Ky={};function ti(e,t,r){this.props=e,this.context=t,this.refs=Ky,this.updater=r||Hy}ti.prototype.isReactComponent={};ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gy(){}Gy.prototype=ti.prototype;function _h(e,t,r){this.props=e,this.context=t,this.refs=Ky,this.updater=r||Hy}var Sh=_h.prototype=new Gy;Sh.constructor=_h;qy(Sh,ti.prototype);Sh.isPureReactComponent=!0;var Fm=Array.isArray,Yy=Object.prototype.hasOwnProperty,Eh={current:null},Qy={key:!0,ref:!0,__self:!0,__source:!0};function Jy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Yy.call(t,n)&&!Qy.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Pa,type:e,key:o,ref:i,props:s,_owner:Eh.current}}function yC(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function wC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Um=/\/+/g;function zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wC(""+e.key):t.toString(36)}function Al(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pa:case aC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+zu(i,0):n,Fm(s)?(r="",e!=null&&(r=e.replace(Um,"$&/")+"/"),Al(s,t,r,"",function(u){return u})):s!=null&&(jh(s)&&(s=yC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Um,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Fm(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+zu(o,a);i+=Al(o,t,r,c,s)}else if(c=vC(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+zu(o,a++),i+=Al(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ja(e,t,r){if(e==null)return e;var n=[],s=0;return Al(e,n,"","",function(o){return t.call(r,o,s++)}),n}function xC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Ol={transition:null},bC={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:Eh};function Xy(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Ja,forEach:function(e,t,r){Ja(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ja(e,function(){t++}),t},toArray:function(e){return Ja(e,function(t){return t})||[]},only:function(e){if(!jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ti;ce.Fragment=lC;ce.Profiler=uC;ce.PureComponent=_h;ce.StrictMode=cC;ce.Suspense=pC;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bC;ce.act=Xy;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Eh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Yy.call(t,c)&&!Qy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Pa,type:e.type,key:s,ref:o,props:n,_owner:i}};ce.createContext=function(e){return e={$$typeof:fC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dC,_context:e},e.Consumer=e};ce.createElement=Jy;ce.createFactory=function(e){var t=Jy.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:hC,render:e}};ce.isValidElement=jh;ce.lazy=function(e){return{$$typeof:gC,_payload:{_status:-1,_result:e},_init:xC}};ce.memo=function(e,t){return{$$typeof:mC,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Ol.transition;Ol.transition={};try{e()}finally{Ol.transition=t}};ce.unstable_act=Xy;ce.useCallback=function(e,t){return gt.current.useCallback(e,t)};ce.useContext=function(e){return gt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return gt.current.useEffect(e,t)};ce.useId=function(){return gt.current.useId()};ce.useImperativeHandle=function(e,t,r){return gt.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return gt.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return gt.current.useReducer(e,t,r)};ce.useRef=function(e){return gt.current.useRef(e)};ce.useState=function(e){return gt.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return gt.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return gt.current.useTransition()};ce.version="18.3.1";Wy.exports=ce;var h=Wy.exports;const U=zy(h),Lc=By({__proto__:null,default:U},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=h,SC=Symbol.for("react.element"),EC=Symbol.for("react.fragment"),jC=Object.prototype.hasOwnProperty,CC=_C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function Zy(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)jC.call(t,n)&&!kC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:SC,type:e,key:o,ref:i,props:s,_owner:CC.current}}$c.Fragment=EC;$c.jsx=Zy;$c.jsxs=Zy;Vy.exports=$c;var l=Vy.exports,ew={exports:{}},Ft={},tw={exports:{}},rw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var I=T.length;T.push(P);e:for(;0<I;){var V=I-1>>>1,z=T[V];if(0<s(z,P))T[V]=P,T[I]=z,I=V;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var P=T[0],I=T.pop();if(I!==P){T[0]=I;e:for(var V=0,z=T.length,ee=z>>>1;V<ee;){var W=2*(V+1)-1,le=T[W],ve=W+1,B=T[ve];if(0>s(le,I))ve<z&&0>s(B,le)?(T[V]=B,T[ve]=I,V=ve):(T[V]=le,T[W]=I,V=W);else if(ve<z&&0>s(B,I))T[V]=B,T[ve]=I,V=ve;else break e}}return P}function s(T,P){var I=T.sortIndex-P.sortIndex;return I!==0?I:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,b=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=T)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function _(T){if(g=!1,x(T),!b)if(r(c)!==null)b=!0,F(S);else{var P=r(u);P!==null&&Y(_,P.startTime-T)}}function S(T,P){b=!1,g&&(g=!1,w(k),k=-1),p=!0;var I=m;try{for(x(P),f=r(c);f!==null&&(!(f.expirationTime>P)||T&&!N());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var z=V(f.expirationTime<=P);P=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),x(P)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var W=r(u);W!==null&&Y(_,W.startTime-P),ee=!1}return ee}finally{f=null,m=I,p=!1}}var E=!1,j=null,k=-1,A=5,C=-1;function N(){return!(e.unstable_now()-C<A)}function R(){if(j!==null){var T=e.unstable_now();C=T;var P=!0;try{P=j(!0,T)}finally{P?D():(E=!1,j=null)}}else E=!1}var D;if(typeof y=="function")D=function(){y(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,G=M.port2;M.port1.onmessage=R,D=function(){G.postMessage(null)}}else D=function(){v(R,0)};function F(T){j=T,E||(E=!0,D())}function Y(T,P){k=v(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,F(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var I=m;m=P;try{return T()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=m;m=T;try{return P()}finally{m=I}},e.unstable_scheduleCallback=function(T,P,I){var V=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?V+I:V):I=V,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=I+z,T={id:d++,callback:P,priorityLevel:T,startTime:I,expirationTime:z,sortIndex:-1},I>V?(T.sortIndex=I,t(u,T),r(c)===null&&T===r(u)&&(g?(w(k),k=-1):g=!0,Y(_,I-V))):(T.sortIndex=z,t(c,T),b||p||(b=!0,F(S))),T},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(T){var P=m;return function(){var I=m;m=P;try{return T.apply(this,arguments)}finally{m=I}}}})(rw);tw.exports=rw;var NC=tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=h,Lt=NC;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nw=new Set,Yi={};function Fs(e,t){Wo(e,t),Wo(e+"Capture",t)}function Wo(e,t){for(Yi[e]=t,e=0;e<t.length;e++)nw.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,TC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},zm={};function RC(e){return Ud.call(zm,e)?!0:Ud.call(Bm,e)?!1:TC.test(e)?zm[e]=!0:(Bm[e]=!0,!1)}function AC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OC(e,t,r,n){if(t===null||typeof t>"u"||AC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ch=/[\-:]([a-z])/g;function kh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ch,kh);tt[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ch,kh);tt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ch,kh);tt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nh(e,t,r,n){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OC(t,r,s,n)&&(r=null),n||s===null?RC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nn=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),uo=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),Bd=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),ow=Symbol.for("react.context"),Th=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),Vd=Symbol.for("react.suspense_list"),Rh=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),iw=Symbol.for("react.offscreen"),Vm=Symbol.iterator;function xi(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Vu;function Ti(e){if(Vu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vu=t&&t[1]||""}return`
`+Vu+e}var Wu=!1;function Hu(e,t){if(!e||Wu)return"";Wu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Wu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ti(e):""}function IC(e){switch(e.tag){case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 2:case 15:return e=Hu(e.type,!1),e;case 11:return e=Hu(e.type.render,!1),e;case 1:return e=Hu(e.type,!0),e;default:return""}}function Wd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fo:return"Fragment";case uo:return"Portal";case Bd:return"Profiler";case Ph:return"StrictMode";case zd:return"Suspense";case Vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ow:return(e.displayName||"Context")+".Consumer";case sw:return(e._context.displayName||"Context")+".Provider";case Th:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rh:return t=e.displayName||null,t!==null?t:Wd(e.type)||"Memo";case yn:t=e._payload,e=e._init;try{return Wd(e(t))}catch{}}return null}function MC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wd(t);case 8:return t===Ph?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DC(e){var t=aw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Za(e){e._valueTracker||(e._valueTracker=DC(e))}function lw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hd(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cw(e,t){t=t.checked,t!=null&&Nh(e,"checked",t,!1)}function qd(e,t){cw(e,t);var r=zn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kd(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kd(e,t,r){(t!=="number"||Yl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ri=Array.isArray;function So(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Ri(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zn(r)}}function uw(e,t){var r=zn(t.value),n=zn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var el,fw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=el.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(e){$C.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$i[t]=$i[e]})});function hw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$i.hasOwnProperty(e)&&$i[e]?(""+t).trim():t+"px"}function pw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var LC=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(e,t){if(t){if(LC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Jd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function Ah(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zd=null,Eo=null,jo=null;function Gm(e){if(e=Aa(e)){if(typeof Zd!="function")throw Error($(280));var t=e.stateNode;t&&(t=Vc(t),Zd(e.stateNode,e.type,t))}}function mw(e){Eo?jo?jo.push(e):jo=[e]:Eo=e}function gw(){if(Eo){var e=Eo,t=jo;if(jo=Eo=null,Gm(e),t)for(e=0;e<t.length;e++)Gm(t[e])}}function vw(e,t){return e(t)}function yw(){}var qu=!1;function ww(e,t,r){if(qu)return e(t,r);qu=!0;try{return vw(e,t,r)}finally{qu=!1,(Eo!==null||jo!==null)&&(yw(),gw())}}function Ji(e,t){var r=e.stateNode;if(r===null)return null;var n=Vc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var ef=!1;if(Jr)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){ef=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{ef=!1}function FC(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Li=!1,Ql=null,Jl=!1,tf=null,UC={onError:function(e){Li=!0,Ql=e}};function BC(e,t,r,n,s,o,i,a,c){Li=!1,Ql=null,FC.apply(UC,arguments)}function zC(e,t,r,n,s,o,i,a,c){if(BC.apply(this,arguments),Li){if(Li){var u=Ql;Li=!1,Ql=null}else throw Error($(198));Jl||(Jl=!0,tf=u)}}function Us(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ym(e){if(Us(e)!==e)throw Error($(188))}function VC(e){var t=e.alternate;if(!t){if(t=Us(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Ym(s),e;if(o===n)return Ym(s),t;o=o.sibling}throw Error($(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function bw(e){return e=VC(e),e!==null?_w(e):null}function _w(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_w(e);if(t!==null)return t;e=e.sibling}return null}var Sw=Lt.unstable_scheduleCallback,Qm=Lt.unstable_cancelCallback,WC=Lt.unstable_shouldYield,HC=Lt.unstable_requestPaint,Le=Lt.unstable_now,qC=Lt.unstable_getCurrentPriorityLevel,Oh=Lt.unstable_ImmediatePriority,Ew=Lt.unstable_UserBlockingPriority,Xl=Lt.unstable_NormalPriority,KC=Lt.unstable_LowPriority,jw=Lt.unstable_IdlePriority,Fc=null,Mr=null;function GC(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Fc,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:JC,YC=Math.log,QC=Math.LN2;function JC(e){return e>>>=0,e===0?32:31-(YC(e)/QC|0)|0}var tl=64,rl=4194304;function Ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Ai(a):(o&=i,o!==0&&(n=Ai(o)))}else i=r&~s,i!==0?n=Ai(i):o!==0&&(n=Ai(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mr(t),s=1<<r,n|=e[r],t&=~s;return n}function XC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-mr(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=XC(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function rf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cw(){var e=tl;return tl<<=1,!(tl&4194240)&&(tl=64),e}function Ku(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ta(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=r}function ek(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ih(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var we=0;function kw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nw,Mh,Pw,Tw,Rw,nf=!1,nl=[],An=null,On=null,In=null,Xi=new Map,Zi=new Map,xn=[],tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(t.pointerId)}}function _i(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Aa(t),t!==null&&Mh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rk(e,t,r,n,s){switch(t){case"focusin":return An=_i(An,e,t,r,n,s),!0;case"dragenter":return On=_i(On,e,t,r,n,s),!0;case"mouseover":return In=_i(In,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Xi.set(o,_i(Xi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Zi.set(o,_i(Zi.get(o)||null,e,t,r,n,s)),!0}return!1}function Aw(e){var t=gs(e.target);if(t!==null){var r=Us(t);if(r!==null){if(t=r.tag,t===13){if(t=xw(r),t!==null){e.blockedOn=t,Rw(e.priority,function(){Pw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xd=n,r.target.dispatchEvent(n),Xd=null}else return t=Aa(r),t!==null&&Mh(t),e.blockedOn=r,!1;t.shift()}return!0}function Xm(e,t,r){Il(e)&&r.delete(t)}function nk(){nf=!1,An!==null&&Il(An)&&(An=null),On!==null&&Il(On)&&(On=null),In!==null&&Il(In)&&(In=null),Xi.forEach(Xm),Zi.forEach(Xm)}function Si(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,nk)))}function ea(e){function t(s){return Si(s,e)}if(0<nl.length){Si(nl[0],e);for(var r=1;r<nl.length;r++){var n=nl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(An!==null&&Si(An,e),On!==null&&Si(On,e),In!==null&&Si(In,e),Xi.forEach(t),Zi.forEach(t),r=0;r<xn.length;r++)n=xn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xn.length&&(r=xn[0],r.blockedOn===null);)Aw(r),r.blockedOn===null&&xn.shift()}var Co=nn.ReactCurrentBatchConfig,ec=!0;function sk(e,t,r,n){var s=we,o=Co.transition;Co.transition=null;try{we=1,Dh(e,t,r,n)}finally{we=s,Co.transition=o}}function ok(e,t,r,n){var s=we,o=Co.transition;Co.transition=null;try{we=4,Dh(e,t,r,n)}finally{we=s,Co.transition=o}}function Dh(e,t,r,n){if(ec){var s=sf(e,t,r,n);if(s===null)nd(e,t,n,tc,r),Jm(e,n);else if(rk(s,e,t,r,n))n.stopPropagation();else if(Jm(e,n),t&4&&-1<tk.indexOf(e)){for(;s!==null;){var o=Aa(s);if(o!==null&&Nw(o),o=sf(e,t,r,n),o===null&&nd(e,t,n,tc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else nd(e,t,n,null,r)}}var tc=null;function sf(e,t,r,n){if(tc=null,e=Ah(n),e=gs(e),e!==null)if(t=Us(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tc=e,null}function Ow(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qC()){case Oh:return 1;case Ew:return 4;case Xl:case KC:return 16;case jw:return 536870912;default:return 16}default:return 16}}var Pn=null,$h=null,Ml=null;function Iw(){if(Ml)return Ml;var e,t=$h,r=t.length,n,s="value"in Pn?Pn.value:Pn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ml=s.slice(e,1<n?1-n:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function Zm(){return!1}function Ut(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sl:Zm,this.isPropagationStopped=Zm,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=Ut(ri),Ra=Me({},ri,{view:0,detail:0}),ik=Ut(Ra),Gu,Yu,Ei,Uc=Me({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Gu=e.screenX-Ei.screenX,Yu=e.screenY-Ei.screenY):Yu=Gu=0,Ei=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),eg=Ut(Uc),ak=Me({},Uc,{dataTransfer:0}),lk=Ut(ak),ck=Me({},Ra,{relatedTarget:0}),Qu=Ut(ck),uk=Me({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),dk=Ut(uk),fk=Me({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hk=Ut(fk),pk=Me({},ri,{data:0}),tg=Ut(pk),mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vk[e])?!!t[e]:!1}function Fh(){return yk}var wk=Me({},Ra,{key:function(e){if(e.key){var t=mk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xk=Ut(wk),bk=Me({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=Ut(bk),_k=Me({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),Sk=Ut(_k),Ek=Me({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),jk=Ut(Ek),Ck=Me({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kk=Ut(Ck),Nk=[9,13,27,32],Uh=Jr&&"CompositionEvent"in window,Fi=null;Jr&&"documentMode"in document&&(Fi=document.documentMode);var Pk=Jr&&"TextEvent"in window&&!Fi,Mw=Jr&&(!Uh||Fi&&8<Fi&&11>=Fi),ng=" ",sg=!1;function Dw(e,t){switch(e){case"keyup":return Nk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $w(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ho=!1;function Tk(e,t){switch(e){case"compositionend":return $w(t);case"keypress":return t.which!==32?null:(sg=!0,ng);case"textInput":return e=t.data,e===ng&&sg?null:e;default:return null}}function Rk(e,t){if(ho)return e==="compositionend"||!Uh&&Dw(e,t)?(e=Iw(),Ml=$h=Pn=null,ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mw&&t.locale!=="ko"?null:t.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ak[e.type]:t==="textarea"}function Lw(e,t,r,n){mw(n),t=rc(t,"onChange"),0<t.length&&(r=new Lh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ui=null,ta=null;function Ok(e){Yw(e,0)}function Bc(e){var t=go(e);if(lw(t))return e}function Ik(e,t){if(e==="change")return t}var Fw=!1;if(Jr){var Ju;if(Jr){var Xu="oninput"in document;if(!Xu){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Xu=typeof ig.oninput=="function"}Ju=Xu}else Ju=!1;Fw=Ju&&(!document.documentMode||9<document.documentMode)}function ag(){Ui&&(Ui.detachEvent("onpropertychange",Uw),ta=Ui=null)}function Uw(e){if(e.propertyName==="value"&&Bc(ta)){var t=[];Lw(t,ta,e,Ah(e)),ww(Ok,t)}}function Mk(e,t,r){e==="focusin"?(ag(),Ui=t,ta=r,Ui.attachEvent("onpropertychange",Uw)):e==="focusout"&&ag()}function Dk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bc(ta)}function $k(e,t){if(e==="click")return Bc(t)}function Lk(e,t){if(e==="input"||e==="change")return Bc(t)}function Fk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:Fk;function ra(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ud.call(t,s)||!yr(e[s],t[s]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,t){var r=lg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lg(r)}}function Bw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zw(){for(var e=window,t=Yl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yl(e.document)}return t}function Bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uk(e){var t=zw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Bw(r.ownerDocument.documentElement,r)){if(n!==null&&Bh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=cg(r,o);var i=cg(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bk=Jr&&"documentMode"in document&&11>=document.documentMode,po=null,of=null,Bi=null,af=!1;function ug(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;af||po==null||po!==Yl(n)||(n=po,"selectionStart"in n&&Bh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bi&&ra(Bi,n)||(Bi=n,n=rc(of,"onSelect"),0<n.length&&(t=new Lh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=po)))}function ol(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mo={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},Zu={},Vw={};Jr&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function zc(e){if(Zu[e])return Zu[e];if(!mo[e])return e;var t=mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vw)return Zu[e]=t[r];return e}var Ww=zc("animationend"),Hw=zc("animationiteration"),qw=zc("animationstart"),Kw=zc("transitionend"),Gw=new Map,dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){Gw.set(e,t),Fs(t,[e])}for(var ed=0;ed<dg.length;ed++){var td=dg[ed],zk=td.toLowerCase(),Vk=td[0].toUpperCase()+td.slice(1);qn(zk,"on"+Vk)}qn(Ww,"onAnimationEnd");qn(Hw,"onAnimationIteration");qn(qw,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Kw,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function fg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zC(n,t,void 0,e),e.currentTarget=null}function Yw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;fg(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;fg(s,a,u),o=c}}}if(Jl)throw e=tf,Jl=!1,tf=null,e}function Ne(e,t){var r=t[ff];r===void 0&&(r=t[ff]=new Set);var n=e+"__bubble";r.has(n)||(Qw(t,e,2,!1),r.add(n))}function rd(e,t,r){var n=0;t&&(n|=4),Qw(r,e,n,t)}var il="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[il]){e[il]=!0,nw.forEach(function(r){r!=="selectionchange"&&(Wk.has(r)||rd(r,!1,e),rd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[il]||(t[il]=!0,rd("selectionchange",!1,t))}}function Qw(e,t,r,n){switch(Ow(t)){case 1:var s=sk;break;case 4:s=ok;break;default:s=Dh}r=s.bind(null,t,r,e),s=void 0,!ef||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nd(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=gs(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}ww(function(){var u=o,d=Ah(r),f=[];e:{var m=Gw.get(e);if(m!==void 0){var p=Lh,b=e;switch(e){case"keypress":if(Dl(r)===0)break e;case"keydown":case"keyup":p=xk;break;case"focusin":b="focus",p=Qu;break;case"focusout":b="blur",p=Qu;break;case"beforeblur":case"afterblur":p=Qu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Sk;break;case Ww:case Hw:case qw:p=dk;break;case Kw:p=jk;break;case"scroll":p=ik;break;case"wheel":p=kk;break;case"copy":case"cut":case"paste":p=hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rg}var g=(t&4)!==0,v=!g&&e==="scroll",w=g?m!==null?m+"Capture":null:m;g=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,w!==null&&(_=Ji(y,w),_!=null&&g.push(sa(y,_,x)))),v)break;y=y.return}0<g.length&&(m=new p(m,b,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Xd&&(b=r.relatedTarget||r.fromElement)&&(gs(b)||b[Xr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?gs(b):null,b!==null&&(v=Us(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(g=eg,_="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=rg,_="onPointerLeave",w="onPointerEnter",y="pointer"),v=p==null?m:go(p),x=b==null?m:go(b),m=new g(_,y+"leave",p,r,d),m.target=v,m.relatedTarget=x,_=null,gs(d)===u&&(g=new g(w,y+"enter",b,r,d),g.target=x,g.relatedTarget=v,_=g),v=_,p&&b)t:{for(g=p,w=b,y=0,x=g;x;x=Ys(x))y++;for(x=0,_=w;_;_=Ys(_))x++;for(;0<y-x;)g=Ys(g),y--;for(;0<x-y;)w=Ys(w),x--;for(;y--;){if(g===w||w!==null&&g===w.alternate)break t;g=Ys(g),w=Ys(w)}g=null}else g=null;p!==null&&hg(f,m,p,g,!1),b!==null&&v!==null&&hg(f,v,b,g,!0)}}e:{if(m=u?go(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=Ik;else if(og(m))if(Fw)S=Lk;else{S=Dk;var E=Mk}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=$k);if(S&&(S=S(e,u))){Lw(f,S,r,d);break e}E&&E(e,m,u),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Kd(m,"number",m.value)}switch(E=u?go(u):window,e){case"focusin":(og(E)||E.contentEditable==="true")&&(po=E,of=u,Bi=null);break;case"focusout":Bi=of=po=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,ug(f,r,d);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":ug(f,r,d)}var j;if(Uh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ho?Dw(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Mw&&r.locale!=="ko"&&(ho||k!=="onCompositionStart"?k==="onCompositionEnd"&&ho&&(j=Iw()):(Pn=d,$h="value"in Pn?Pn.value:Pn.textContent,ho=!0)),E=rc(u,k),0<E.length&&(k=new tg(k,e,null,r,d),f.push({event:k,listeners:E}),j?k.data=j:(j=$w(r),j!==null&&(k.data=j)))),(j=Pk?Tk(e,r):Rk(e,r))&&(u=rc(u,"onBeforeInput"),0<u.length&&(d=new tg("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}Yw(f,t)})}function sa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ji(e,r),o!=null&&n.unshift(sa(e,o,s)),o=Ji(e,t),o!=null&&n.push(sa(e,o,s))),e=e.return}return n}function Ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Ji(r,o),c!=null&&i.unshift(sa(r,c,a))):s||(c=Ji(r,o),c!=null&&i.push(sa(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Hk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(Hk,`
`).replace(qk,"")}function al(e,t,r){if(t=pg(t),pg(e)!==t&&r)throw Error($(425))}function nc(){}var lf=null,cf=null;function uf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(Yk)}:df;function Yk(e){setTimeout(function(){throw e})}function sd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ea(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ea(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),Rr="__reactFiber$"+ni,oa="__reactProps$"+ni,Xr="__reactContainer$"+ni,ff="__reactEvents$"+ni,Qk="__reactListeners$"+ni,Jk="__reactHandles$"+ni;function gs(e){var t=e[Rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xr]||r[Rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gg(e);e!==null;){if(r=e[Rr])return r;e=gg(e)}return t}e=r,r=e.parentNode}return null}function Aa(e){return e=e[Rr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function go(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Vc(e){return e[oa]||null}var hf=[],vo=-1;function Kn(e){return{current:e}}function Pe(e){0>vo||(e.current=hf[vo],hf[vo]=null,vo--)}function Ce(e,t){vo++,hf[vo]=e.current,e.current=t}var Vn={},lt=Kn(Vn),Et=Kn(!1),Ns=Vn;function Ho(e,t){var r=e.type.contextTypes;if(!r)return Vn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jt(e){return e=e.childContextTypes,e!=null}function sc(){Pe(Et),Pe(lt)}function vg(e,t,r){if(lt.current!==Vn)throw Error($(168));Ce(lt,t),Ce(Et,r)}function Jw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error($(108,MC(e)||"Unknown",s));return Me({},r,n)}function oc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,Ns=lt.current,Ce(lt,e),Ce(Et,Et.current),!0}function yg(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Jw(e,t,Ns),n.__reactInternalMemoizedMergedChildContext=e,Pe(Et),Pe(lt),Ce(lt,e)):Pe(Et),Ce(Et,r)}var Hr=null,Wc=!1,od=!1;function Xw(e){Hr===null?Hr=[e]:Hr.push(e)}function Xk(e){Wc=!0,Xw(e)}function Gn(){if(!od&&Hr!==null){od=!0;var e=0,t=we;try{var r=Hr;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hr=null,Wc=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(e+1)),Sw(Oh,Gn),s}finally{we=t,od=!1}}return null}var yo=[],wo=0,ic=null,ac=0,Wt=[],Ht=0,Ps=null,Gr=1,Yr="";function cs(e,t){yo[wo++]=ac,yo[wo++]=ic,ic=e,ac=t}function Zw(e,t,r){Wt[Ht++]=Gr,Wt[Ht++]=Yr,Wt[Ht++]=Ps,Ps=e;var n=Gr;e=Yr;var s=32-mr(n)-1;n&=~(1<<s),r+=1;var o=32-mr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Gr=1<<32-mr(t)+s|r<<s|n,Yr=o+e}else Gr=1<<o|r<<s|n,Yr=e}function zh(e){e.return!==null&&(cs(e,1),Zw(e,1,0))}function Vh(e){for(;e===ic;)ic=yo[--wo],yo[wo]=null,ac=yo[--wo],yo[wo]=null;for(;e===Ps;)Ps=Wt[--Ht],Wt[Ht]=null,Yr=Wt[--Ht],Wt[Ht]=null,Gr=Wt[--Ht],Wt[Ht]=null}var Dt=null,Mt=null,Re=!1,hr=null;function ex(e,t){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ps!==null?{id:Gr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Mt=null,!0):!1;default:return!1}}function pf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mf(e){if(Re){var t=Mt;if(t){var r=t;if(!wg(e,t)){if(pf(e))throw Error($(418));t=Mn(r.nextSibling);var n=Dt;t&&wg(e,t)?ex(n,r):(e.flags=e.flags&-4097|2,Re=!1,Dt=e)}}else{if(pf(e))throw Error($(418));e.flags=e.flags&-4097|2,Re=!1,Dt=e}}}function xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function ll(e){if(e!==Dt)return!1;if(!Re)return xg(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uf(e.type,e.memoizedProps)),t&&(t=Mt)){if(pf(e))throw tx(),Error($(418));for(;t;)ex(e,t),t=Mn(t.nextSibling)}if(xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mt=Mn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Dt?Mn(e.stateNode.nextSibling):null;return!0}function tx(){for(var e=Mt;e;)e=Mn(e.nextSibling)}function qo(){Mt=Dt=null,Re=!1}function Wh(e){hr===null?hr=[e]:hr.push(e)}var Zk=nn.ReactCurrentBatchConfig;function ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function cl(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bg(e){var t=e._init;return t(e._payload)}function rx(e){function t(w,y){if(e){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function r(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Fn(w,y),w.index=0,w.sibling=null,w}function o(w,y,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,y,x,_){return y===null||y.tag!==6?(y=fd(x,w.mode,_),y.return=w,y):(y=s(y,x),y.return=w,y)}function c(w,y,x,_){var S=x.type;return S===fo?d(w,y,x.props.children,_,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yn&&bg(S)===y.type)?(_=s(y,x.props),_.ref=ji(w,y,x),_.return=w,_):(_=Vl(x.type,x.key,x.props,null,w.mode,_),_.ref=ji(w,y,x),_.return=w,_)}function u(w,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=hd(x,w.mode,_),y.return=w,y):(y=s(y,x.children||[]),y.return=w,y)}function d(w,y,x,_,S){return y===null||y.tag!==7?(y=ks(x,w.mode,_,S),y.return=w,y):(y=s(y,x),y.return=w,y)}function f(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fd(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return x=Vl(y.type,y.key,y.props,null,w.mode,x),x.ref=ji(w,null,y),x.return=w,x;case uo:return y=hd(y,w.mode,x),y.return=w,y;case yn:var _=y._init;return f(w,_(y._payload),x)}if(Ri(y)||xi(y))return y=ks(y,w.mode,x,null),y.return=w,y;cl(w,y)}return null}function m(w,y,x,_){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(w,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xa:return x.key===S?c(w,y,x,_):null;case uo:return x.key===S?u(w,y,x,_):null;case yn:return S=x._init,m(w,y,S(x._payload),_)}if(Ri(x)||xi(x))return S!==null?null:d(w,y,x,_,null);cl(w,x)}return null}function p(w,y,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(x)||null,a(y,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xa:return w=w.get(_.key===null?x:_.key)||null,c(y,w,_,S);case uo:return w=w.get(_.key===null?x:_.key)||null,u(y,w,_,S);case yn:var E=_._init;return p(w,y,x,E(_._payload),S)}if(Ri(_)||xi(_))return w=w.get(x)||null,d(y,w,_,S,null);cl(y,_)}return null}function b(w,y,x,_){for(var S=null,E=null,j=y,k=y=0,A=null;j!==null&&k<x.length;k++){j.index>k?(A=j,j=null):A=j.sibling;var C=m(w,j,x[k],_);if(C===null){j===null&&(j=A);break}e&&j&&C.alternate===null&&t(w,j),y=o(C,y,k),E===null?S=C:E.sibling=C,E=C,j=A}if(k===x.length)return r(w,j),Re&&cs(w,k),S;if(j===null){for(;k<x.length;k++)j=f(w,x[k],_),j!==null&&(y=o(j,y,k),E===null?S=j:E.sibling=j,E=j);return Re&&cs(w,k),S}for(j=n(w,j);k<x.length;k++)A=p(j,w,k,x[k],_),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?k:A.key),y=o(A,y,k),E===null?S=A:E.sibling=A,E=A);return e&&j.forEach(function(N){return t(w,N)}),Re&&cs(w,k),S}function g(w,y,x,_){var S=xi(x);if(typeof S!="function")throw Error($(150));if(x=S.call(x),x==null)throw Error($(151));for(var E=S=null,j=y,k=y=0,A=null,C=x.next();j!==null&&!C.done;k++,C=x.next()){j.index>k?(A=j,j=null):A=j.sibling;var N=m(w,j,C.value,_);if(N===null){j===null&&(j=A);break}e&&j&&N.alternate===null&&t(w,j),y=o(N,y,k),E===null?S=N:E.sibling=N,E=N,j=A}if(C.done)return r(w,j),Re&&cs(w,k),S;if(j===null){for(;!C.done;k++,C=x.next())C=f(w,C.value,_),C!==null&&(y=o(C,y,k),E===null?S=C:E.sibling=C,E=C);return Re&&cs(w,k),S}for(j=n(w,j);!C.done;k++,C=x.next())C=p(j,w,k,C.value,_),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?k:C.key),y=o(C,y,k),E===null?S=C:E.sibling=C,E=C);return e&&j.forEach(function(R){return t(w,R)}),Re&&cs(w,k),S}function v(w,y,x,_){if(typeof x=="object"&&x!==null&&x.type===fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Xa:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===fo){if(E.tag===7){r(w,E.sibling),y=s(E,x.props.children),y.return=w,w=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yn&&bg(S)===E.type){r(w,E.sibling),y=s(E,x.props),y.ref=ji(w,E,x),y.return=w,w=y;break e}r(w,E);break}else t(w,E);E=E.sibling}x.type===fo?(y=ks(x.props.children,w.mode,_,x.key),y.return=w,w=y):(_=Vl(x.type,x.key,x.props,null,w.mode,_),_.ref=ji(w,y,x),_.return=w,w=_)}return i(w);case uo:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(w,y.sibling),y=s(y,x.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else t(w,y);y=y.sibling}y=hd(x,w.mode,_),y.return=w,w=y}return i(w);case yn:return E=x._init,v(w,y,E(x._payload),_)}if(Ri(x))return b(w,y,x,_);if(xi(x))return g(w,y,x,_);cl(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,x),y.return=w,w=y):(r(w,y),y=fd(x,w.mode,_),y.return=w,w=y),i(w)):r(w,y)}return v}var Ko=rx(!0),nx=rx(!1),lc=Kn(null),cc=null,xo=null,Hh=null;function qh(){Hh=xo=cc=null}function Kh(e){var t=lc.current;Pe(lc),e._currentValue=t}function gf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ko(e,t){cc=e,Hh=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(Hh!==e)if(e={context:e,memoizedValue:t,next:null},xo===null){if(cc===null)throw Error($(308));xo=e,cc.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var vs=null;function Gh(e){vs===null?vs=[e]:vs.push(e)}function sx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Gh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zr(e,n)}function Zr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wn=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ox(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Zr(e,r)}return s=n.interleaved,s===null?(t.next=t,Gh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Zr(e,r)}function $l(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ih(e,r)}}function _g(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uc(e,t,r,n){var s=e.updateQueue;wn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var m=a.lane,p=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,g=a;switch(m=t,p=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=Me({},f,m);break e;case 2:wn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Rs|=i,e.lanes=i,e.memoizedState=f}}function Sg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($(191,s));s.call(n)}}}var Oa={},Dr=Kn(Oa),ia=Kn(Oa),aa=Kn(Oa);function ys(e){if(e===Oa)throw Error($(174));return e}function Qh(e,t){switch(Ce(aa,t),Ce(ia,e),Ce(Dr,Oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yd(t,e)}Pe(Dr),Ce(Dr,t)}function Go(){Pe(Dr),Pe(ia),Pe(aa)}function ix(e){ys(aa.current);var t=ys(Dr.current),r=Yd(t,e.type);t!==r&&(Ce(ia,e),Ce(Dr,r))}function Jh(e){ia.current===e&&(Pe(Dr),Pe(ia))}var Oe=Kn(0);function dc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var id=[];function Xh(){for(var e=0;e<id.length;e++)id[e]._workInProgressVersionPrimary=null;id.length=0}var Ll=nn.ReactCurrentDispatcher,ad=nn.ReactCurrentBatchConfig,Ts=0,Ie=null,We=null,Ge=null,fc=!1,zi=!1,la=0,eN=0;function ot(){throw Error($(321))}function Zh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yr(e[r],t[r]))return!1;return!0}function ep(e,t,r,n,s,o){if(Ts=o,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ll.current=e===null||e.memoizedState===null?sN:oN,e=r(n,s),zi){o=0;do{if(zi=!1,la=0,25<=o)throw Error($(301));o+=1,Ge=We=null,t.updateQueue=null,Ll.current=iN,e=r(n,s)}while(zi)}if(Ll.current=hc,t=We!==null&&We.next!==null,Ts=0,Ge=We=Ie=null,fc=!1,t)throw Error($(300));return e}function tp(){var e=la!==0;return la=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Xt(){if(We===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ge===null?Ie.memoizedState:Ge.next;if(t!==null)Ge=t,We=e;else{if(e===null)throw Error($(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?Ie.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function ca(e,t){return typeof t=="function"?t(e):t}function ld(e){var t=Xt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=We,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Ts&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,Ie.lanes|=d,Rs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,yr(n,t.memoizedState)||(St=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ie.lanes|=o,Rs|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cd(e){var t=Xt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);yr(o,t.memoizedState)||(St=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ax(){}function lx(e,t){var r=Ie,n=Xt(),s=t(),o=!yr(n.memoizedState,s);if(o&&(n.memoizedState=s,St=!0),n=n.queue,rp(dx.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,ua(9,ux.bind(null,r,n,s,t),void 0,null),Qe===null)throw Error($(349));Ts&30||cx(r,t,s)}return s}function cx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ux(e,t,r,n){t.value=r,t.getSnapshot=n,fx(t)&&hx(e)}function dx(e,t,r){return r(function(){fx(t)&&hx(e)})}function fx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yr(e,r)}catch{return!0}}function hx(e){var t=Zr(e,1);t!==null&&gr(t,e,1,-1)}function Eg(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t.queue=e,e=e.dispatch=nN.bind(null,Ie,e),[t.memoizedState,e]}function ua(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function px(){return Xt().memoizedState}function Fl(e,t,r,n){var s=kr();Ie.flags|=e,s.memoizedState=ua(1|t,r,void 0,n===void 0?null:n)}function Hc(e,t,r,n){var s=Xt();n=n===void 0?null:n;var o=void 0;if(We!==null){var i=We.memoizedState;if(o=i.destroy,n!==null&&Zh(n,i.deps)){s.memoizedState=ua(t,r,o,n);return}}Ie.flags|=e,s.memoizedState=ua(1|t,r,o,n)}function jg(e,t){return Fl(8390656,8,e,t)}function rp(e,t){return Hc(2048,8,e,t)}function mx(e,t){return Hc(4,2,e,t)}function gx(e,t){return Hc(4,4,e,t)}function vx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yx(e,t,r){return r=r!=null?r.concat([e]):null,Hc(4,4,vx.bind(null,t,e),r)}function np(){}function wx(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xx(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bx(e,t,r){return Ts&21?(yr(r,t)||(r=Cw(),Ie.lanes|=r,Rs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=r)}function tN(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=ad.transition;ad.transition={};try{e(!1),t()}finally{we=r,ad.transition=n}}function _x(){return Xt().memoizedState}function rN(e,t,r){var n=Ln(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sx(e))Ex(t,r);else if(r=sx(e,t,r,n),r!==null){var s=mt();gr(r,e,n,s),jx(r,t,n)}}function nN(e,t,r){var n=Ln(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sx(e))Ex(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,yr(a,i)){var c=t.interleaved;c===null?(s.next=s,Gh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=sx(e,t,s,n),r!==null&&(s=mt(),gr(r,e,n,s),jx(r,t,n))}}function Sx(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Ex(e,t){zi=fc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ih(e,r)}}var hc={readContext:Jt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},sN={readContext:Jt,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:jg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fl(4194308,4,vx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fl(4,2,e,t)},useMemo:function(e,t){var r=kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rN.bind(null,Ie,e),[n.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:Eg,useDebugValue:np,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=Eg(!1),t=e[0];return e=tN.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ie,s=kr();if(Re){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Qe===null)throw Error($(349));Ts&30||cx(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,jg(dx.bind(null,n,o,e),[e]),n.flags|=2048,ua(9,ux.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=kr(),t=Qe.identifierPrefix;if(Re){var r=Yr,n=Gr;r=(n&~(1<<32-mr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=la++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oN={readContext:Jt,useCallback:wx,useContext:Jt,useEffect:rp,useImperativeHandle:yx,useInsertionEffect:mx,useLayoutEffect:gx,useMemo:xx,useReducer:ld,useRef:px,useState:function(){return ld(ca)},useDebugValue:np,useDeferredValue:function(e){var t=Xt();return bx(t,We.memoizedState,e)},useTransition:function(){var e=ld(ca)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:ax,useSyncExternalStore:lx,useId:_x,unstable_isNewReconciler:!1},iN={readContext:Jt,useCallback:wx,useContext:Jt,useEffect:rp,useImperativeHandle:yx,useInsertionEffect:mx,useLayoutEffect:gx,useMemo:xx,useReducer:cd,useRef:px,useState:function(){return cd(ca)},useDebugValue:np,useDeferredValue:function(e){var t=Xt();return We===null?t.memoizedState=e:bx(t,We.memoizedState,e)},useTransition:function(){var e=cd(ca)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:ax,useSyncExternalStore:lx,useId:_x,unstable_isNewReconciler:!1};function ir(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qc={isMounted:function(e){return(e=e._reactInternals)?Us(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mt(),s=Ln(e),o=Qr(n,s);o.payload=t,r!=null&&(o.callback=r),t=Dn(e,o,s),t!==null&&(gr(t,e,s,n),$l(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mt(),s=Ln(e),o=Qr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Dn(e,o,s),t!==null&&(gr(t,e,s,n),$l(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),n=Ln(e),s=Qr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Dn(e,s,n),t!==null&&(gr(t,e,n,r),$l(t,e,n))}};function Cg(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!ra(r,n)||!ra(s,o):!0}function Cx(e,t,r){var n=!1,s=Vn,o=t.contextType;return typeof o=="object"&&o!==null?o=Jt(o):(s=jt(t)?Ns:lt.current,n=t.contextTypes,o=(n=n!=null)?Ho(e,s):Vn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function kg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qc.enqueueReplaceState(t,t.state,null)}function yf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Yh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Jt(o):(o=jt(t)?Ns:lt.current,s.context=Ho(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(vf(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qc.enqueueReplaceState(s,s.state,null),uc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,t){try{var r="",n=t;do r+=IC(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ud(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aN=typeof WeakMap=="function"?WeakMap:Map;function kx(e,t,r){r=Qr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mc||(mc=!0,Pf=n),wf(e,t)},r}function Nx(e,t,r){r=Qr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){wf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){wf(e,t),typeof n!="function"&&($n===null?$n=new Set([this]):$n.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Ng(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aN;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bN.bind(null,e,t,r),t.then(e,e))}function Pg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qr(-1,1),t.tag=2,Dn(r,t,1))),r.lanes|=1),e)}var lN=nn.ReactCurrentOwner,St=!1;function ft(e,t,r,n){t.child=e===null?nx(t,null,r,n):Ko(t,e.child,r,n)}function Rg(e,t,r,n,s){r=r.render;var o=t.ref;return ko(t,s),n=ep(e,t,r,n,o,s),r=tp(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,en(e,t,s)):(Re&&r&&zh(t),t.flags|=1,ft(e,t,n,s),t.child)}function Ag(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!dp(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Px(e,t,o,n,s)):(e=Vl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ra,r(i,n)&&e.ref===t.ref)return en(e,t,s)}return t.flags|=1,e=Fn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Px(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ra(o,n)&&e.ref===t.ref)if(St=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,en(e,t,s)}return xf(e,t,r,n,s)}function Tx(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(_o,Tt),Tt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(_o,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ce(_o,Tt),Tt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ce(_o,Tt),Tt|=n;return ft(e,t,s,r),t.child}function Rx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xf(e,t,r,n,s){var o=jt(r)?Ns:lt.current;return o=Ho(t,o),ko(t,s),r=ep(e,t,r,n,o,s),n=tp(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,en(e,t,s)):(Re&&n&&zh(t),t.flags|=1,ft(e,t,r,s),t.child)}function Og(e,t,r,n,s){if(jt(r)){var o=!0;oc(t)}else o=!1;if(ko(t,s),t.stateNode===null)Ul(e,t),Cx(t,r,n),yf(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=jt(r)?Ns:lt.current,u=Ho(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&kg(t,i,n,u),wn=!1;var m=t.memoizedState;i.state=m,uc(t,n,i,s),c=t.memoizedState,a!==n||m!==c||Et.current||wn?(typeof d=="function"&&(vf(t,r,d,n),c=t.memoizedState),(a=wn||Cg(t,r,a,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ox(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ir(t.type,a),i.props=u,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=jt(r)?Ns:lt.current,c=Ho(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==c)&&kg(t,i,n,c),wn=!1,m=t.memoizedState,i.state=m,uc(t,n,i,s);var b=t.memoizedState;a!==f||m!==b||Et.current||wn?(typeof p=="function"&&(vf(t,r,p,n),b=t.memoizedState),(u=wn||Cg(t,r,u,n,m,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return bf(e,t,r,n,o,s)}function bf(e,t,r,n,s,o){Rx(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&yg(t,r,!1),en(e,t,o);n=t.stateNode,lN.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,a,o)):ft(e,t,a,o),t.memoizedState=n.state,s&&yg(t,r,!0),t.child}function Ax(e){var t=e.stateNode;t.pendingContext?vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vg(e,t.context,!1),Qh(e,t.containerInfo)}function Ig(e,t,r,n,s){return qo(),Wh(s),t.flags|=256,ft(e,t,r,n),t.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function Sf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ox(e,t,r){var n=t.pendingProps,s=Oe.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Oe,s&1),e===null)return mf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Yc(i,n,0,null),e=ks(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Sf(r),t.memoizedState=_f,e):sp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cN(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Fn(a,o):(o=ks(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Sf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=_f,n}return o=e.child,e=o.sibling,n=Fn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sp(e,t){return t=Yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ul(e,t,r,n){return n!==null&&Wh(n),Ko(t,e.child,null,r),e=sp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cN(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=ud(Error($(422))),ul(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Yc({mode:"visible",children:n.children},s,0,null),o=ks(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ko(t,e.child,null,i),t.child.memoizedState=Sf(i),t.memoizedState=_f,o);if(!(t.mode&1))return ul(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error($(419)),n=ud(o,n,void 0),ul(e,t,i,n)}if(a=(i&e.childLanes)!==0,St||a){if(n=Qe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Zr(e,s),gr(n,e,s,-1))}return up(),n=ud(Error($(421))),ul(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_N.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Mt=Mn(s.nextSibling),Dt=t,Re=!0,hr=null,e!==null&&(Wt[Ht++]=Gr,Wt[Ht++]=Yr,Wt[Ht++]=Ps,Gr=e.id,Yr=e.overflow,Ps=t),t=sp(t,n.children),t.flags|=4096,t)}function Mg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gf(e.return,t,r)}function dd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Ix(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(ft(e,t,n.children,r),n=Oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mg(e,r,t);else if(e.tag===19)Mg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Oe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&dc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),dd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&dc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}dd(t,!0,r,null,o);break;case"together":dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uN(e,t,r){switch(t.tag){case 3:Ax(t),qo();break;case 5:ix(t);break;case 1:jt(t.type)&&oc(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ce(lc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Oe,Oe.current&1),t.flags|=128,null):r&t.child.childLanes?Ox(e,t,r):(Ce(Oe,Oe.current&1),e=en(e,t,r),e!==null?e.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ix(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Oe,Oe.current),n)break;return null;case 22:case 23:return t.lanes=0,Tx(e,t,r)}return en(e,t,r)}var Mx,Ef,Dx,$x;Mx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ef=function(){};Dx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ys(Dr.current);var o=null;switch(r){case"input":s=Hd(e,s),n=Hd(e,n),o=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),o=[];break;case"textarea":s=Gd(e,s),n=Gd(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nc)}Qd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};$x=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ci(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dN(e,t,r){var n=t.pendingProps;switch(Vh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return jt(t.type)&&sc(),it(t),null;case 3:return n=t.stateNode,Go(),Pe(Et),Pe(lt),Xh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(Af(hr),hr=null))),Ef(e,t),it(t),null;case 5:Jh(t);var s=ys(aa.current);if(r=t.type,e!==null&&t.stateNode!=null)Dx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return it(t),null}if(e=ys(Dr.current),ll(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Rr]=t,n[oa]=o,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Oi.length;s++)Ne(Oi[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Wm(n,o),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",n);break;case"textarea":qm(n,o),Ne("invalid",n)}Qd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&al(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&al(n.textContent,a,e),s=["children",""+a]):Yi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Za(n),Hm(n,o,!0);break;case"textarea":Za(n),Km(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Rr]=t,e[oa]=n,Mx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Jd(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Oi.length;s++)Ne(Oi[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Wm(e,n),s=Hd(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":qm(e,n),s=Gd(e,n),Ne("invalid",e);break;default:s=n}Qd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?pw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fw(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qi(e,c):typeof c=="number"&&Qi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ne("scroll",e):c!=null&&Nh(e,o,c,i))}switch(r){case"input":Za(e),Hm(e,n,!1);break;case"textarea":Za(e),Km(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?So(e,!!n.multiple,o,!1):n.defaultValue!=null&&So(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)$x(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=ys(aa.current),ys(Dr.current),ll(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rr]=t,(o=n.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:al(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&al(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=t,t.stateNode=n}return it(t),null;case 13:if(Pe(Oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Mt!==null&&t.mode&1&&!(t.flags&128))tx(),qo(),t.flags|=98560,o=!1;else if(o=ll(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Rr]=t}else qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else hr!==null&&(Af(hr),hr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?He===0&&(He=3):up())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Go(),Ef(e,t),e===null&&na(t.stateNode.containerInfo),it(t),null;case 10:return Kh(t.type._context),it(t),null;case 17:return jt(t.type)&&sc(),it(t),null;case 19:if(Pe(Oe),o=t.memoizedState,o===null)return it(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Ci(o,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=dc(e),i!==null){for(t.flags|=128,Ci(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>Qo&&(t.flags|=128,n=!0,Ci(o,!1),t.lanes=4194304)}else{if(!n)if(e=dc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ci(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Re)return it(t),null}else 2*Le()-o.renderingStartTime>Qo&&r!==1073741824&&(t.flags|=128,n=!0,Ci(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,r=Oe.current,Ce(Oe,n?r&1|2:r&1),t):(it(t),null);case 22:case 23:return cp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function fN(e,t){switch(Vh(t),t.tag){case 1:return jt(t.type)&&sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Go(),Pe(Et),Pe(lt),Xh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jh(t),null;case 13:if(Pe(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Oe),null;case 4:return Go(),null;case 10:return Kh(t.type._context),null;case 22:case 23:return cp(),null;case 24:return null;default:return null}}var dl=!1,at=!1,hN=typeof WeakSet=="function"?WeakSet:Set,H=null;function bo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function jf(e,t,r){try{r()}catch(n){$e(e,t,n)}}var Dg=!1;function pN(e,t){if(lf=ec,e=zw(),Bh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++u===s&&(a=i),m===o&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cf={focusedElem:e,selectionRange:r},ec=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,v=b.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:ir(t.type,g),v);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(_){$e(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return b=Dg,Dg=!1,b}function Vi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&jf(t,r,o)}s=s.next}while(s!==n)}}function Kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lx(e){var t=e.alternate;t!==null&&(e.alternate=null,Lx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[oa],delete t[ff],delete t[Qk],delete t[Jk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fx(e){return e.tag===5||e.tag===3||e.tag===4}function $g(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nc));else if(n!==4&&(e=e.child,e!==null))for(kf(e,t,r),e=e.sibling;e!==null;)kf(e,t,r),e=e.sibling}function Nf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nf(e,t,r),e=e.sibling;e!==null;)Nf(e,t,r),e=e.sibling}var Xe=null,dr=!1;function dn(e,t,r){for(r=r.child;r!==null;)Ux(e,t,r),r=r.sibling}function Ux(e,t,r){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Fc,r)}catch{}switch(r.tag){case 5:at||bo(r,t);case 6:var n=Xe,s=dr;Xe=null,dn(e,t,r),Xe=n,dr=s,Xe!==null&&(dr?(e=Xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(dr?(e=Xe,r=r.stateNode,e.nodeType===8?sd(e.parentNode,r):e.nodeType===1&&sd(e,r),ea(e)):sd(Xe,r.stateNode));break;case 4:n=Xe,s=dr,Xe=r.stateNode.containerInfo,dr=!0,dn(e,t,r),Xe=n,dr=s;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&jf(r,t,i),s=s.next}while(s!==n)}dn(e,t,r);break;case 1:if(!at&&(bo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){$e(r,t,a)}dn(e,t,r);break;case 21:dn(e,t,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,dn(e,t,r),at=n):dn(e,t,r);break;default:dn(e,t,r)}}function Lg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hN),t.forEach(function(n){var s=SN.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,dr=!1;break e;case 3:Xe=a.stateNode.containerInfo,dr=!0;break e;case 4:Xe=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Xe===null)throw Error($(160));Ux(o,i,s),Xe=null,dr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bx(t,e),t=t.sibling}function Bx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(t,e),Cr(e),n&4){try{Vi(3,e,e.return),Kc(3,e)}catch(g){$e(e,e.return,g)}try{Vi(5,e,e.return)}catch(g){$e(e,e.return,g)}}break;case 1:rr(t,e),Cr(e),n&512&&r!==null&&bo(r,r.return);break;case 5:if(rr(t,e),Cr(e),n&512&&r!==null&&bo(r,r.return),e.flags&32){var s=e.stateNode;try{Qi(s,"")}catch(g){$e(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&cw(s,o),Jd(a,i);var u=Jd(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?pw(s,f):d==="dangerouslySetInnerHTML"?fw(s,f):d==="children"?Qi(s,f):Nh(s,d,f,u)}switch(a){case"input":qd(s,o);break;case"textarea":uw(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?So(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?So(s,!!o.multiple,o.defaultValue,!0):So(s,!!o.multiple,o.multiple?[]:"",!1))}s[oa]=o}catch(g){$e(e,e.return,g)}}break;case 6:if(rr(t,e),Cr(e),n&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){$e(e,e.return,g)}}break;case 3:if(rr(t,e),Cr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ea(t.containerInfo)}catch(g){$e(e,e.return,g)}break;case 4:rr(t,e),Cr(e);break;case 13:rr(t,e),Cr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ap=Le())),n&4&&Lg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(at=(u=at)||d,rr(t,e),at=u):rr(t,e),Cr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(m=H,p=m.child,m.tag){case 0:case 11:case 14:case 15:Vi(4,m,m.return);break;case 1:bo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){$e(n,r,g)}}break;case 5:bo(m,m.return);break;case 22:if(m.memoizedState!==null){Ug(f);continue}}p!==null?(p.return=m,H=p):Ug(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=hw("display",i))}catch(g){$e(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){$e(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rr(t,e),Cr(e),n&4&&Lg(e);break;case 21:break;default:rr(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fx(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qi(s,""),n.flags&=-33);var o=$g(e);Nf(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=$g(e);kf(e,a,i);break;default:throw Error($(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mN(e,t,r){H=e,zx(e)}function zx(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||dl;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||at;a=dl;var u=at;if(dl=i,(at=c)&&!u)for(H=s;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?Bg(s):c!==null?(c.return=i,H=c):Bg(s);for(;o!==null;)H=o,zx(o),o=o.sibling;H=s,dl=a,at=u}Fg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,H=o):Fg(e)}}function Fg(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Kc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!at)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ir(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sg(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sg(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ea(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}at||t.flags&512&&Cf(t)}catch(m){$e(t,t.return,m)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function Ug(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function Bg(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kc(4,t)}catch(c){$e(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){$e(t,s,c)}}var o=t.return;try{Cf(t)}catch(c){$e(t,o,c)}break;case 5:var i=t.return;try{Cf(t)}catch(c){$e(t,i,c)}}}catch(c){$e(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var gN=Math.ceil,pc=nn.ReactCurrentDispatcher,op=nn.ReactCurrentOwner,Gt=nn.ReactCurrentBatchConfig,he=0,Qe=null,Be=null,et=0,Tt=0,_o=Kn(0),He=0,da=null,Rs=0,Gc=0,ip=0,Wi=null,_t=null,ap=0,Qo=1/0,Vr=null,mc=!1,Pf=null,$n=null,fl=!1,Tn=null,gc=0,Hi=0,Tf=null,Bl=-1,zl=0;function mt(){return he&6?Le():Bl!==-1?Bl:Bl=Le()}function Ln(e){return e.mode&1?he&2&&et!==0?et&-et:Zk.transition!==null?(zl===0&&(zl=Cw()),zl):(e=we,e!==0||(e=window.event,e=e===void 0?16:Ow(e.type)),e):1}function gr(e,t,r,n){if(50<Hi)throw Hi=0,Tf=null,Error($(185));Ta(e,r,n),(!(he&2)||e!==Qe)&&(e===Qe&&(!(he&2)&&(Gc|=r),He===4&&bn(e,et)),Ct(e,n),r===1&&he===0&&!(t.mode&1)&&(Qo=Le()+500,Wc&&Gn()))}function Ct(e,t){var r=e.callbackNode;ZC(e,t);var n=Zl(e,e===Qe?et:0);if(n===0)r!==null&&Qm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qm(r),t===1)e.tag===0?Xk(zg.bind(null,e)):Xw(zg.bind(null,e)),Gk(function(){!(he&6)&&Gn()}),r=null;else{switch(kw(n)){case 1:r=Oh;break;case 4:r=Ew;break;case 16:r=Xl;break;case 536870912:r=jw;break;default:r=Xl}r=Qx(r,Vx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vx(e,t){if(Bl=-1,zl=0,he&6)throw Error($(327));var r=e.callbackNode;if(No()&&e.callbackNode!==r)return null;var n=Zl(e,e===Qe?et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vc(e,n);else{t=n;var s=he;he|=2;var o=Hx();(Qe!==e||et!==t)&&(Vr=null,Qo=Le()+500,Cs(e,t));do try{wN();break}catch(a){Wx(e,a)}while(!0);qh(),pc.current=o,he=s,Be!==null?t=0:(Qe=null,et=0,t=He)}if(t!==0){if(t===2&&(s=rf(e),s!==0&&(n=s,t=Rf(e,s))),t===1)throw r=da,Cs(e,0),bn(e,n),Ct(e,Le()),r;if(t===6)bn(e,n);else{if(s=e.current.alternate,!(n&30)&&!vN(s)&&(t=vc(e,n),t===2&&(o=rf(e),o!==0&&(n=o,t=Rf(e,o))),t===1))throw r=da,Cs(e,0),bn(e,n),Ct(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:us(e,_t,Vr);break;case 3:if(bn(e,n),(n&130023424)===n&&(t=ap+500-Le(),10<t)){if(Zl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=df(us.bind(null,e,_t,Vr),t);break}us(e,_t,Vr);break;case 4:if(bn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-mr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gN(n/1960))-n,10<n){e.timeoutHandle=df(us.bind(null,e,_t,Vr),n);break}us(e,_t,Vr);break;case 5:us(e,_t,Vr);break;default:throw Error($(329))}}}return Ct(e,Le()),e.callbackNode===r?Vx.bind(null,e):null}function Rf(e,t){var r=Wi;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),e=vc(e,t),e!==2&&(t=_t,_t=r,t!==null&&Af(t)),e}function Af(e){_t===null?_t=e:_t.push.apply(_t,e)}function vN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!yr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~ip,t&=~Gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mr(t),n=1<<r;e[r]=-1,t&=~n}}function zg(e){if(he&6)throw Error($(327));No();var t=Zl(e,0);if(!(t&1))return Ct(e,Le()),null;var r=vc(e,t);if(e.tag!==0&&r===2){var n=rf(e);n!==0&&(t=n,r=Rf(e,n))}if(r===1)throw r=da,Cs(e,0),bn(e,t),Ct(e,Le()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,_t,Vr),Ct(e,Le()),null}function lp(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Qo=Le()+500,Wc&&Gn())}}function As(e){Tn!==null&&Tn.tag===0&&!(he&6)&&No();var t=he;he|=1;var r=Gt.transition,n=we;try{if(Gt.transition=null,we=1,e)return e()}finally{we=n,Gt.transition=r,he=t,!(he&6)&&Gn()}}function cp(){Tt=_o.current,Pe(_o)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kk(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(Vh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sc();break;case 3:Go(),Pe(Et),Pe(lt),Xh();break;case 5:Jh(n);break;case 4:Go();break;case 13:Pe(Oe);break;case 19:Pe(Oe);break;case 10:Kh(n.type._context);break;case 22:case 23:cp()}r=r.return}if(Qe=e,Be=e=Fn(e.current,null),et=Tt=t,He=0,da=null,ip=Gc=Rs=0,_t=Wi=null,vs!==null){for(t=0;t<vs.length;t++)if(r=vs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}vs=null}return e}function Wx(e,t){do{var r=Be;try{if(qh(),Ll.current=hc,fc){for(var n=Ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fc=!1}if(Ts=0,Ge=We=Ie=null,zi=!1,la=0,op.current=null,r===null||r.return===null){He=1,da=t,Be=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=et,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pg(i);if(p!==null){p.flags&=-257,Tg(p,i,a,o,t),p.mode&1&&Ng(o,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){Ng(o,u,t),up();break e}c=Error($(426))}}else if(Re&&a.mode&1){var v=Pg(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Tg(v,i,a,o,t),Wh(Yo(c,a));break e}}o=c=Yo(c,a),He!==4&&(He=2),Wi===null?Wi=[o]:Wi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=kx(o,c,t);_g(o,w);break e;case 1:a=c;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($n===null||!$n.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Nx(o,a,t);_g(o,_);break e}}o=o.return}while(o!==null)}Kx(r)}catch(S){t=S,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function Hx(){var e=pc.current;return pc.current=hc,e===null?hc:e}function up(){(He===0||He===3||He===2)&&(He=4),Qe===null||!(Rs&268435455)&&!(Gc&268435455)||bn(Qe,et)}function vc(e,t){var r=he;he|=2;var n=Hx();(Qe!==e||et!==t)&&(Vr=null,Cs(e,t));do try{yN();break}catch(s){Wx(e,s)}while(!0);if(qh(),he=r,pc.current=n,Be!==null)throw Error($(261));return Qe=null,et=0,He}function yN(){for(;Be!==null;)qx(Be)}function wN(){for(;Be!==null&&!WC();)qx(Be)}function qx(e){var t=Yx(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?Kx(e):Be=t,op.current=null}function Kx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fN(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Be=null;return}}else if(r=dN(r,t,Tt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);He===0&&(He=5)}function us(e,t,r){var n=we,s=Gt.transition;try{Gt.transition=null,we=1,xN(e,t,r,n)}finally{Gt.transition=s,we=n}return null}function xN(e,t,r,n){do No();while(Tn!==null);if(he&6)throw Error($(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ek(e,o),e===Qe&&(Be=Qe=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fl||(fl=!0,Qx(Xl,function(){return No(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Gt.transition,Gt.transition=null;var i=we;we=1;var a=he;he|=4,op.current=null,pN(e,r),Bx(r,e),Uk(cf),ec=!!lf,cf=lf=null,e.current=r,mN(r),HC(),he=a,we=i,Gt.transition=o}else e.current=r;if(fl&&(fl=!1,Tn=e,gc=s),o=e.pendingLanes,o===0&&($n=null),GC(r.stateNode),Ct(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mc)throw mc=!1,e=Pf,Pf=null,e;return gc&1&&e.tag!==0&&No(),o=e.pendingLanes,o&1?e===Tf?Hi++:(Hi=0,Tf=e):Hi=0,Gn(),null}function No(){if(Tn!==null){var e=kw(gc),t=Gt.transition,r=we;try{if(Gt.transition=null,we=16>e?16:e,Tn===null)var n=!1;else{if(e=Tn,Tn=null,gc=0,he&6)throw Error($(331));var s=he;for(he|=4,H=e.current;H!==null;){var o=H,i=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Vi(8,d,o)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var m=d.sibling,p=d.return;if(Lx(d),d===u){H=null;break}if(m!==null){m.return=p,H=m;break}H=p}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}H=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,H=i;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vi(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}var y=e.current;for(H=y;H!==null;){i=H;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,H=x;else e:for(i=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kc(9,a)}}catch(S){$e(a,a.return,S)}if(a===i){H=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,H=_;break e}H=a.return}}if(he=s,Gn(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Fc,e)}catch{}n=!0}return n}finally{we=r,Gt.transition=t}}return!1}function Vg(e,t,r){t=Yo(r,t),t=kx(e,t,1),e=Dn(e,t,1),t=mt(),e!==null&&(Ta(e,1,t),Ct(e,t))}function $e(e,t,r){if(e.tag===3)Vg(e,e,r);else for(;t!==null;){if(t.tag===3){Vg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($n===null||!$n.has(n))){e=Yo(r,e),e=Nx(t,e,1),t=Dn(t,e,1),e=mt(),t!==null&&(Ta(t,1,e),Ct(t,e));break}}t=t.return}}function bN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(et&r)===r&&(He===4||He===3&&(et&130023424)===et&&500>Le()-ap?Cs(e,0):ip|=r),Ct(e,t)}function Gx(e,t){t===0&&(e.mode&1?(t=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):t=1);var r=mt();e=Zr(e,t),e!==null&&(Ta(e,t,r),Ct(e,r))}function _N(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gx(e,r)}function SN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),Gx(e,r)}var Yx;Yx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)St=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return St=!1,uN(e,t,r);St=!!(e.flags&131072)}else St=!1,Re&&t.flags&1048576&&Zw(t,ac,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ul(e,t),e=t.pendingProps;var s=Ho(t,lt.current);ko(t,r),s=ep(null,t,n,e,s,r);var o=tp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(n)?(o=!0,oc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yh(t),s.updater=qc,t.stateNode=s,s._reactInternals=t,yf(t,n,e,r),t=bf(null,t,n,!0,o,r)):(t.tag=0,Re&&o&&zh(t),ft(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=jN(n),e=ir(n,e),s){case 0:t=xf(null,t,n,e,r);break e;case 1:t=Og(null,t,n,e,r);break e;case 11:t=Rg(null,t,n,e,r);break e;case 14:t=Ag(null,t,n,ir(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ir(n,s),xf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ir(n,s),Og(e,t,n,s,r);case 3:e:{if(Ax(t),e===null)throw Error($(387));n=t.pendingProps,o=t.memoizedState,s=o.element,ox(e,t),uc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Yo(Error($(423)),t),t=Ig(e,t,n,r,s);break e}else if(n!==s){s=Yo(Error($(424)),t),t=Ig(e,t,n,r,s);break e}else for(Mt=Mn(t.stateNode.containerInfo.firstChild),Dt=t,Re=!0,hr=null,r=nx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qo(),n===s){t=en(e,t,r);break e}ft(e,t,n,r)}t=t.child}return t;case 5:return ix(t),e===null&&mf(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,uf(n,s)?i=null:o!==null&&uf(n,o)&&(t.flags|=32),Rx(e,t),ft(e,t,i,r),t.child;case 6:return e===null&&mf(t),null;case 13:return Ox(e,t,r);case 4:return Qh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ko(t,null,n,r):ft(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ir(n,s),Rg(e,t,n,s,r);case 7:return ft(e,t,t.pendingProps,r),t.child;case 8:return ft(e,t,t.pendingProps.children,r),t.child;case 12:return ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ce(lc,n._currentValue),n._currentValue=i,o!==null)if(yr(o.value,i)){if(o.children===s.children&&!Et.current){t=en(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Qr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),gf(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error($(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),gf(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ft(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ko(t,r),s=Jt(s),n=n(s),t.flags|=1,ft(e,t,n,r),t.child;case 14:return n=t.type,s=ir(n,t.pendingProps),s=ir(n.type,s),Ag(e,t,n,s,r);case 15:return Px(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ir(n,s),Ul(e,t),t.tag=1,jt(n)?(e=!0,oc(t)):e=!1,ko(t,r),Cx(t,n,s),yf(t,n,s,r),bf(null,t,n,!0,e,r);case 19:return Ix(e,t,r);case 22:return Tx(e,t,r)}throw Error($(156,t.tag))};function Qx(e,t){return Sw(e,t)}function EN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,r,n){return new EN(e,t,r,n)}function dp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jN(e){if(typeof e=="function")return dp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Th)return 11;if(e===Rh)return 14}return 2}function Fn(e,t){var r=e.alternate;return r===null?(r=Kt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")dp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fo:return ks(r.children,s,o,t);case Ph:i=8,s|=8;break;case Bd:return e=Kt(12,r,t,s|2),e.elementType=Bd,e.lanes=o,e;case zd:return e=Kt(13,r,t,s),e.elementType=zd,e.lanes=o,e;case Vd:return e=Kt(19,r,t,s),e.elementType=Vd,e.lanes=o,e;case iw:return Yc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sw:i=10;break e;case ow:i=9;break e;case Th:i=11;break e;case Rh:i=14;break e;case yn:i=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Kt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ks(e,t,r,n){return e=Kt(7,e,n,t),e.lanes=r,e}function Yc(e,t,r,n){return e=Kt(22,e,n,t),e.elementType=iw,e.lanes=r,e.stateNode={isHidden:!1},e}function fd(e,t,r){return e=Kt(6,e,null,t),e.lanes=r,e}function hd(e,t,r){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CN(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ku(0),this.expirationTimes=Ku(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ku(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fp(e,t,r,n,s,o,i,a,c){return e=new CN(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Kt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(o),e}function kN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jx(e){if(!e)return Vn;e=e._reactInternals;e:{if(Us(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(jt(r))return Jw(e,r,t)}return t}function Xx(e,t,r,n,s,o,i,a,c){return e=fp(r,n,!0,e,s,o,i,a,c),e.context=Jx(null),r=e.current,n=mt(),s=Ln(r),o=Qr(n,s),o.callback=t??null,Dn(r,o,s),e.current.lanes=s,Ta(e,s,n),Ct(e,n),e}function Qc(e,t,r,n){var s=t.current,o=mt(),i=Ln(s);return r=Jx(r),t.context===null?t.context=r:t.pendingContext=r,t=Qr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dn(s,t,i),e!==null&&(gr(e,s,i,o),$l(e,s,i)),i}function yc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hp(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function NN(){return null}var Zx=typeof reportError=="function"?reportError:function(e){console.error(e)};function pp(e){this._internalRoot=e}Jc.prototype.render=pp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Qc(e,t,null,null)};Jc.prototype.unmount=pp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;As(function(){Qc(null,e,null,null)}),t[Xr]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xn.length&&t!==0&&t<xn[r].priority;r++);xn.splice(r,0,e),r===0&&Aw(e)}};function mp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function PN(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=yc(i);o.call(u)}}var i=Xx(t,n,e,0,null,!1,!1,"",Hg);return e._reactRootContainer=i,e[Xr]=i.current,na(e.nodeType===8?e.parentNode:e),As(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=yc(c);a.call(u)}}var c=fp(e,0,!1,null,null,!1,!1,"",Hg);return e._reactRootContainer=c,e[Xr]=c.current,na(e.nodeType===8?e.parentNode:e),As(function(){Qc(t,c,r,n)}),c}function Zc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=yc(i);a.call(c)}}Qc(t,i,e,s)}else i=PN(r,t,e,s,n);return yc(i)}Nw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ai(t.pendingLanes);r!==0&&(Ih(t,r|1),Ct(t,Le()),!(he&6)&&(Qo=Le()+500,Gn()))}break;case 13:As(function(){var n=Zr(e,1);if(n!==null){var s=mt();gr(n,e,1,s)}}),hp(e,1)}};Mh=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var r=mt();gr(t,e,134217728,r)}hp(e,134217728)}};Pw=function(e){if(e.tag===13){var t=Ln(e),r=Zr(e,t);if(r!==null){var n=mt();gr(r,e,t,n)}hp(e,t)}};Tw=function(){return we};Rw=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Zd=function(e,t,r){switch(t){case"input":if(qd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vc(n);if(!s)throw Error($(90));lw(n),qd(n,s)}}}break;case"textarea":uw(e,r);break;case"select":t=r.value,t!=null&&So(e,!!r.multiple,t,!1)}};vw=lp;yw=As;var TN={usingClientEntryPoint:!1,Events:[Aa,go,Vc,mw,gw,lp]},ki={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RN={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bw(e),e===null?null:e.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||NN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Fc=hl.inject(RN),Mr=hl}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TN;Ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mp(t))throw Error($(200));return kN(e,t,null,r)};Ft.createRoot=function(e,t){if(!mp(e))throw Error($(299));var r=!1,n="",s=Zx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fp(e,1,!1,null,null,r,!1,n,s),e[Xr]=t.current,na(e.nodeType===8?e.parentNode:e),new pp(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=bw(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return As(e)};Ft.hydrate=function(e,t,r){if(!Xc(t))throw Error($(200));return Zc(null,e,t,!0,r)};Ft.hydrateRoot=function(e,t,r){if(!mp(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Zx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Xx(t,null,e,1,r??null,s,!1,o,i),e[Xr]=t.current,na(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jc(t)};Ft.render=function(e,t,r){if(!Xc(t))throw Error($(200));return Zc(null,e,t,!1,r)};Ft.unmountComponentAtNode=function(e){if(!Xc(e))throw Error($(40));return e._reactRootContainer?(As(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};Ft.unstable_batchedUpdates=lp;Ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Zc(e,t,r,!1,n)};Ft.version="18.3.1-next-f1338f8080-20240426";function e0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e0)}catch(e){console.error(e)}}e0(),ew.exports=Ft;var Bs=ew.exports;const t0=zy(Bs);var r0,qg=Bs;r0=qg.createRoot,qg.hydrateRoot;const AN=1,ON=1e6;let pd=0;function IN(){return pd=(pd+1)%Number.MAX_SAFE_INTEGER,pd.toString()}const md=new Map,Kg=e=>{if(md.has(e))return;const t=setTimeout(()=>{md.delete(e),qi({type:"REMOVE_TOAST",toastId:e})},ON);md.set(e,t)},MN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Kg(r):e.toasts.forEach(n=>{Kg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Wl=[];let Hl={toasts:[]};function qi(e){Hl=MN(Hl,e),Wl.forEach(t=>{t(Hl)})}function pr({...e}){const t=IN(),r=s=>qi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>qi({type:"DISMISS_TOAST",toastId:t});return qi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function DN(){const[e,t]=h.useState(Hl);return h.useEffect(()=>(Wl.push(t),()=>{const r=Wl.indexOf(t);r>-1&&Wl.splice(r,1)}),[e]),{...e,toast:pr,dismiss:r=>qi({type:"DISMISS_TOAST",toastId:r})}}function L(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Gg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ia(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Gg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Gg(e[s],null)}}}}function oe(...e){return h.useCallback(Ia(...e),e)}function $N(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function ct(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:m,children:p,...b}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[c])||a,v=h.useMemo(()=>b,Object.values(b));return l.jsx(g.Provider,{value:v,children:p})};u.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||a,b=h.useContext(p);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,LN(s,...t)]}function LN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Os(e){const t=FN(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(UN);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function FN(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=zN(s),a=BN(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Ia(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n0=Symbol("radix.slottable");function s0(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=n0,t}function UN(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n0}function BN(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function zN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function eu(e){const t=e+"CollectionProvider",[r,n]=ct(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:w}=g,y=U.useRef(null),x=U.useRef(new Map).current;return l.jsx(s,{scope:v,itemMap:x,collectionRef:y,children:w})};i.displayName=t;const a=e+"CollectionSlot",c=Os(a),u=U.forwardRef((g,v)=>{const{scope:w,children:y}=g,x=o(a,w),_=oe(v,x.collectionRef);return l.jsx(c,{ref:_,children:y})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Os(d),p=U.forwardRef((g,v)=>{const{scope:w,children:y,...x}=g,_=U.useRef(null),S=oe(v,_),E=o(d,w);return U.useEffect(()=>(E.itemMap.set(_,{ref:_,...x}),()=>void E.itemMap.delete(_))),l.jsx(m,{[f]:"",ref:S,children:y})});p.displayName=d;function b(g){const v=o(e+"CollectionConsumer",g);return U.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((E,j)=>x.indexOf(E.ref.current)-x.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},b,n]}var VN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z=VN.reduce((e,t)=>{const r=Os(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gp(e,t){e&&Bs.flushSync(()=>e.dispatchEvent(t))}function kt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function WN(e,t=globalThis==null?void 0:globalThis.document){const r=kt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var HN="DismissableLayer",Of="dismissableLayer.update",qN="dismissableLayer.pointerDownOutside",KN="dismissableLayer.focusOutside",Yg,o0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zs=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(o0),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=oe(t,j=>f(j)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=w,S=YN(j=>{const k=j.target,A=[...u.branches].some(C=>C.contains(k));!_||A||(s==null||s(j),i==null||i(j),j.defaultPrevented||a==null||a())},m),E=QN(j=>{const k=j.target;[...u.branches].some(C=>C.contains(k))||(o==null||o(j),i==null||i(j),j.defaultPrevented||a==null||a())},m);return WN(j=>{y===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Qg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Yg)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Qg())},[d,u]),h.useEffect(()=>{const j=()=>p({});return document.addEventListener(Of,j),()=>document.removeEventListener(Of,j)},[]),l.jsx(Z.div,{...c,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:L(e.onFocusCapture,E.onFocusCapture),onBlurCapture:L(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:L(e.onPointerDownCapture,S.onPointerDownCapture)})});zs.displayName=HN;var GN="DismissableLayerBranch",i0=h.forwardRef((e,t)=>{const r=h.useContext(o0),n=h.useRef(null),s=oe(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(Z.div,{...e,ref:s})});i0.displayName=GN;function YN(e,t=globalThis==null?void 0:globalThis.document){const r=kt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){a0(qN,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function QN(e,t=globalThis==null?void 0:globalThis.document){const r=kt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&a0(KN,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qg(){const e=new CustomEvent(Of);document.dispatchEvent(e)}function a0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?gp(s,o):s.dispatchEvent(o)}var JN=zs,XN=i0,rt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},ZN="Portal",si=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);rt(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?t0.createPortal(l.jsx(Z.div,{...n,ref:t}),i):null});si.displayName=ZN;function eP(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var yt=e=>{const{present:t,children:r}=e,n=tP(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=oe(n.ref,rP(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};yt.displayName="Presence";function tP(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=eP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=pl(n.current);o.current=a==="mounted"?u:"none"},[a]),rt(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,p=pl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),rt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=pl(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(o.current=pl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function pl(e){return(e==null?void 0:e.animationName)||"none"}function rP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nP=Lc[" useInsertionEffect ".trim().toString()]||rt;function wr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=sP({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=h.useCallback(d=>{var f;if(a){const m=oP(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,e,o,i]);return[c,u]}function sP({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return nP(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function oP(e){return typeof e=="function"}var l0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iP="VisuallyHidden",tu=h.forwardRef((e,t)=>l.jsx(Z.span,{...e,ref:t,style:{...l0,...e.style}}));tu.displayName=iP;var aP=tu,vp="ToastProvider",[yp,lP,cP]=eu("Toast"),[c0]=ct("Toast",[cP]),[uP,ru]=c0(vp),u0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vp}\`. Expected non-empty \`string\`.`),l.jsx(yp.Provider,{scope:t,children:l.jsx(uP,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};u0.displayName=vp;var d0="ToastViewport",dP=["F8"],If="toast.viewportPause",Mf="toast.viewportResume",f0=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=dP,label:s="Notifications ({hotkey})",...o}=e,i=ru(d0,r),a=lP(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=oe(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const v=w=>{var x;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),h.useEffect(()=>{const v=c.current,w=f.current;if(b&&v&&w){const y=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(If);w.dispatchEvent(E),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Mf);w.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!v.contains(E.relatedTarget)&&x()},S=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",y),v.addEventListener("focusout",_),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:v})=>{const y=a().map(x=>{const _=x.ref.current,S=[_,...EP(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?y.reverse():y).flat()},[a]);return h.useEffect(()=>{const v=f.current;if(v){const w=y=>{var S,E,j;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const k=document.activeElement,A=y.shiftKey;if(y.target===v&&A){(S=u.current)==null||S.focus();return}const R=g({tabbingDirection:A?"backwards":"forwards"}),D=R.findIndex(M=>M===k);gd(R.slice(D+1))?y.preventDefault():A?(E=u.current)==null||E.focus():(j=d.current)==null||j.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[a,g]),l.jsxs(XN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(Df,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});gd(v)}}),l.jsx(yp.Slot,{scope:r,children:l.jsx(Z.ol,{tabIndex:-1,...o,ref:m})}),b&&l.jsx(Df,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});gd(v)}})]})});f0.displayName=d0;var h0="ToastFocusProxy",Df=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=ru(h0,r);return l.jsx(tu,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});Df.displayName=h0;var Ma="Toast",fP="toast.swipeStart",hP="toast.swipeMove",pP="toast.swipeCancel",mP="toast.swipeEnd",p0=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=wr({prop:n,defaultProp:s??!0,onChange:o,caller:Ma});return l.jsx(yt,{present:r||a,children:l.jsx(yP,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:kt(e.onPause),onResume:kt(e.onResume),onSwipeStart:L(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:L(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:L(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:L(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});p0.displayName=Ma;var[gP,vP]=c0(Ma,{onClose(){}}),yP=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...b}=e,g=ru(Ma,r),[v,w]=h.useState(null),y=oe(t,M=>w(M)),x=h.useRef(null),_=h.useRef(null),S=s||g.duration,E=h.useRef(0),j=h.useRef(S),k=h.useRef(0),{onToastAdd:A,onToastRemove:C}=g,N=kt(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),i()}),R=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(N,M))},[N]);h.useEffect(()=>{const M=g.viewport;if(M){const G=()=>{R(j.current),u==null||u()},F=()=>{const Y=new Date().getTime()-E.current;j.current=j.current-Y,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(If,F),M.addEventListener(Mf,G),()=>{M.removeEventListener(If,F),M.removeEventListener(Mf,G)}}},[g.viewport,S,c,u,R]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(S)},[o,S,g.isClosePausedRef,R]),h.useEffect(()=>(A(),()=>C()),[A,C]);const D=h.useMemo(()=>v?b0(v):null,[v]);return g.viewport?l.jsxs(l.Fragment,{children:[D&&l.jsx(wP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:D}),l.jsx(gP,{scope:r,onClose:N,children:Bs.createPortal(l.jsx(yp.ItemSlot,{scope:r,children:l.jsx(JN,{asChild:!0,onEscapeKeyDown:L(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Z.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:L(e.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:L(e.onPointerDown,M=>{M.button===0&&(x.current={x:M.clientX,y:M.clientY})}),onPointerMove:L(e.onPointerMove,M=>{if(!x.current)return;const G=M.clientX-x.current.x,F=M.clientY-x.current.y,Y=!!_.current,T=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=T?P(0,G):0,V=T?0:P(0,F),z=M.pointerType==="touch"?10:2,ee={x:I,y:V},W={originalEvent:M,delta:ee};Y?(_.current=ee,ml(hP,f,W,{discrete:!1})):Jg(ee,g.swipeDirection,z)?(_.current=ee,ml(fP,d,W,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(G)>z||Math.abs(F)>z)&&(x.current=null)}),onPointerUp:L(e.onPointerUp,M=>{const G=_.current,F=M.target;if(F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),_.current=null,x.current=null,G){const Y=M.currentTarget,T={originalEvent:M,delta:G};Jg(G,g.swipeDirection,g.swipeThreshold)?ml(mP,p,T,{discrete:!0}):ml(pP,m,T,{discrete:!0}),Y.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),wP=e=>{const{__scopeToast:t,children:r,...n}=e,s=ru(Ma,t),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return _P(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(si,{asChild:!0,children:l.jsx(tu,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},xP="ToastTitle",m0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Z.div,{...n,ref:t})});m0.displayName=xP;var bP="ToastDescription",g0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Z.div,{...n,ref:t})});g0.displayName=bP;var v0="ToastAction",y0=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(x0,{altText:r,asChild:!0,children:l.jsx(wp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${v0}\`. Expected non-empty \`string\`.`),null)});y0.displayName=v0;var w0="ToastClose",wp=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=vP(w0,r);return l.jsx(x0,{asChild:!0,children:l.jsx(Z.button,{type:"button",...n,ref:t,onClick:L(e.onClick,s.onClose)})})});wp.displayName=w0;var x0=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(Z.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function b0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),SP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...b0(n))}}),t}function ml(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?gp(s,o):s.dispatchEvent(o)}var Jg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function _P(e=()=>{}){const t=kt(e);rt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function SP(e){return e.nodeType===e.ELEMENT_NODE}function EP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var jP=u0,_0=f0,S0=p0,E0=m0,j0=g0,C0=y0,k0=wp;function N0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=N0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function P0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=N0(e))&&(n&&(n+=" "),n+=t);return n}const Xg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zg=P0,nu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const m=Xg(d)||Xg(f);return s[u][m]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[g,v]=b;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...u,f,m]:u},[]);return Zg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...kP,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:T0("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(NP,{ref:o,iconNode:t,className:T0(`lucide-${CP(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=ie("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ie("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ie("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=ie("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ie("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ie("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ep="-",QP=e=>{const t=XP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(Ep);return a[0]===""&&a.length!==1&&a.shift(),$0(a,t)||JP(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},$0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?$0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Ep);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},tv=/^\[(.+)\]$/,JP=e=>{if(tv.test(e)){const t=tv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},XP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return eT(Object.entries(e.classGroups),r).forEach(([o,i])=>{Lf(i,n,o,t)}),n},Lf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:rv(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(ZP(s)){Lf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Lf(i,rv(t,o),r,n)})})},rv=(e,t)=>{let r=e;return t.split(Ep).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ZP=e=>e.isThemeGetter,eT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,tT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},L0="!",rT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let v=0;v<a.length;v++){let w=a[v];if(u===0){if(w===s&&(n||a.slice(v,v+o)===t)){c.push(a.slice(d,v)),d=v+o;continue}if(w==="/"){f=v;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(L0),b=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},nT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},sT=e=>({cache:tT(e.cacheSize),parseClassName:rT(e),...QP(e)}),oT=/\s+/,iT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(oT);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let b=!!p,g=n(b?m.substring(0,p):m);if(!g){if(!b){a=u+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=u+(a.length>0?" "+a:a);continue}b=!1}const v=nT(d).join(":"),w=f?v+L0:v,y=w+g;if(o.includes(y))continue;o.push(y);const x=s(g,b);for(let _=0;_<x.length;++_){const S=x[_];o.push(w+S)}a=u+(a.length>0?" "+a:a)}return a};function aT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=F0(t))&&(n&&(n+=" "),n+=r);return n}const F0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=F0(e[n]))&&(r&&(r+=" "),r+=t);return r};function lT(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=sT(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=iT(c,r);return s(c,d),d}return function(){return o(aT.apply(null,arguments))}}const ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},U0=/^\[(?:([a-z-]+):)?(.+)\]$/i,cT=/^\d+\/\d+$/,uT=new Set(["px","full","screen"]),dT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=e=>Po(e)||uT.has(e)||cT.test(e),fn=e=>oi(e,"length",ST),Po=e=>!!e&&!Number.isNaN(Number(e)),yd=e=>oi(e,"number",Po),Ni=e=>!!e&&Number.isInteger(Number(e)),gT=e=>e.endsWith("%")&&Po(e.slice(0,-1)),ae=e=>U0.test(e),hn=e=>dT.test(e),vT=new Set(["length","size","percentage"]),yT=e=>oi(e,vT,B0),wT=e=>oi(e,"position",B0),xT=new Set(["image","url"]),bT=e=>oi(e,xT,jT),_T=e=>oi(e,"",ET),Pi=()=>!0,oi=(e,t,r)=>{const n=U0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ST=e=>fT.test(e)&&!hT.test(e),B0=()=>!1,ET=e=>pT.test(e),jT=e=>mT.test(e),CT=()=>{const e=ke("colors"),t=ke("spacing"),r=ke("blur"),n=ke("brightness"),s=ke("borderColor"),o=ke("borderRadius"),i=ke("borderSpacing"),a=ke("borderWidth"),c=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),f=ke("invert"),m=ke("gap"),p=ke("gradientColorStops"),b=ke("gradientColorStopPositions"),g=ke("inset"),v=ke("margin"),w=ke("opacity"),y=ke("padding"),x=ke("saturate"),_=ke("scale"),S=ke("sepia"),E=ke("skew"),j=ke("space"),k=ke("translate"),A=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ae,t],R=()=>[ae,t],D=()=>["",Br,fn],M=()=>["auto",Po,ae],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ae],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Po,ae];return{cacheSize:500,separator:":",theme:{colors:[Pi],spacing:[Br,fn],blur:["none","",hn,ae],brightness:V(),borderColor:[e],borderRadius:["none","","full",hn,ae],borderSpacing:R(),borderWidth:D(),contrast:V(),grayscale:P(),hueRotate:V(),invert:P(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[gT,fn],inset:N(),margin:N(),opacity:V(),padding:R(),saturate:V(),scale:V(),sepia:P(),skew:V(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[hn]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ae]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ni,ae]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Ni,ae]}],"grid-cols":[{"grid-cols":[Pi]}],"col-start-end":[{col:["auto",{span:["full",Ni,ae]},ae]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Pi]}],"row-start-end":[{row:["auto",{span:[Ni,ae]},ae]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[hn]},hn]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hn,fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yd]}],"font-family":[{font:[Pi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Po,yd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,fn]}],"underline-offset":[{"underline-offset":["auto",Br,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),wT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Br,ae]}],"outline-w":[{outline:[Br,fn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Br,fn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hn,_T]}],"shadow-color":[{shadow:[Pi]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hn,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ni,ae]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Br,fn,yd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kT=lT(CT);function K(...e){return kT(P0(e))}const NT=jP,z0=h.forwardRef(({className:e,...t},r)=>l.jsx(_0,{ref:r,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));z0.displayName=_0.displayName;const PT=nu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),V0=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(S0,{ref:n,className:K(PT({variant:t}),e),...r}));V0.displayName=S0.displayName;const TT=h.forwardRef(({className:e,...t},r)=>l.jsx(C0,{ref:r,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));TT.displayName=C0.displayName;const W0=h.forwardRef(({className:e,...t},r)=>l.jsx(k0,{ref:r,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(au,{className:"h-4 w-4"})}));W0.displayName=k0.displayName;const H0=h.forwardRef(({className:e,...t},r)=>l.jsx(E0,{ref:r,className:K("text-sm font-semibold",e),...t}));H0.displayName=E0.displayName;const q0=h.forwardRef(({className:e,...t},r)=>l.jsx(j0,{ref:r,className:K("text-sm opacity-90",e),...t}));q0.displayName=j0.displayName;function RT(){const{toasts:e}=DN();return l.jsxs(NT,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(V0,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(H0,{children:r}),n&&l.jsx(q0,{children:n})]}),s,l.jsx(W0,{})]},t)}),l.jsx(z0,{})]})}var nv=["light","dark"],AT="(prefers-color-scheme: dark)",OT=h.createContext(void 0),IT={setTheme:e=>{},themes:[]},MT=()=>{var e;return(e=h.useContext(OT))!=null?e:IT};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?nv.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,g=!1,v=!0)=>{let w=i?i[b]:b,y=g?b+"|| ''":`'${w}'`,x="";return s&&v&&!g&&nv.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?g||w?x+=`c.add(${y})`:x+="null":w&&(x+=`d[s](n,${y})`),x},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${AT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var DT=e=>{switch(e){case"success":return FT;case"info":return BT;case"warning":return UT;case"error":return zT;default:return null}},$T=Array(12).fill(0),LT=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},$T.map((r,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FT=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UT=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BT=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zT=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VT=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WT=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ff=1,HT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ff++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],U.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(KT(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ff++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},xt=new HT,qT=(e,t)=>{let r=(t==null?void 0:t.id)||Ff++;return xt.addToast({title:e,...t,id:r}),r},KT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",GT=qT,YT=()=>xt.toasts,QT=()=>xt.getActiveToasts(),X=Object.assign(GT,{success:xt.success,info:xt.info,warning:xt.warning,error:xt.error,custom:xt.custom,message:xt.message,promise:xt.promise,dismiss:xt.dismiss,loading:xt.loading},{getHistory:YT,getToasts:QT});function JT(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}JT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gl(e){return e.label!==void 0}var XT=3,ZT="32px",eR="16px",sv=4e3,tR=356,rR=14,nR=20,sR=200;function nr(...e){return e.filter(Boolean).join(" ")}function oR(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var iR=e=>{var t,r,n,s,o,i,a,c,u,d,f;let{invert:m,toast:p,unstyled:b,interacting:g,setHeights:v,visibleToasts:w,heights:y,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:j,closeButton:k,style:A,cancelButtonStyle:C,actionButtonStyle:N,className:R="",descriptionClassName:D="",duration:M,position:G,gap:F,loadingIcon:Y,expandByDefault:T,classNames:P,icons:I,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:z}=e,[ee,W]=U.useState(null),[le,ve]=U.useState(null),[B,pe]=U.useState(!1),[me,de]=U.useState(!1),[fe,ge]=U.useState(!1),[nt,Bt]=U.useState(!1),[ns,an]=U.useState(!1),[ss,yi]=U.useState(0),[Hs,Rm]=U.useState(0),wi=U.useRef(p.duration||M||sv),Am=U.useRef(null),os=U.useRef(null),Jj=x===0,Xj=x+1<=w,zt=p.type,qs=p.dismissible!==!1,Zj=p.className||"",eC=p.descriptionClassName||"",Ya=U.useMemo(()=>y.findIndex(se=>se.toastId===p.id)||0,[y,p.id]),tC=U.useMemo(()=>{var se;return(se=p.closeButton)!=null?se:k},[p.closeButton,k]),Om=U.useMemo(()=>p.duration||M||sv,[p.duration,M]),Fu=U.useRef(0),Ks=U.useRef(0),Im=U.useRef(0),Gs=U.useRef(null),[rC,nC]=G.split("-"),Mm=U.useMemo(()=>y.reduce((se,xe,Te)=>Te>=Ya?se:se+xe.height,0),[y,Ya]),Dm=WT(),sC=p.invert||m,Uu=zt==="loading";Ks.current=U.useMemo(()=>Ya*F+Mm,[Ya,Mm]),U.useEffect(()=>{wi.current=Om},[Om]),U.useEffect(()=>{pe(!0)},[]),U.useEffect(()=>{let se=os.current;if(se){let xe=se.getBoundingClientRect().height;return Rm(xe),v(Te=>[{toastId:p.id,height:xe,position:p.position},...Te]),()=>v(Te=>Te.filter(Zt=>Zt.toastId!==p.id))}},[v,p.id]),U.useLayoutEffect(()=>{if(!B)return;let se=os.current,xe=se.style.height;se.style.height="auto";let Te=se.getBoundingClientRect().height;se.style.height=xe,Rm(Te),v(Zt=>Zt.find(er=>er.toastId===p.id)?Zt.map(er=>er.toastId===p.id?{...er,height:Te}:er):[{toastId:p.id,height:Te,position:p.position},...Zt])},[B,p.title,p.description,v,p.id]);let ln=U.useCallback(()=>{de(!0),yi(Ks.current),v(se=>se.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{E(p)},sR)},[p,E,v,Ks]);U.useEffect(()=>{if(p.promise&&zt==="loading"||p.duration===1/0||p.type==="loading")return;let se;return S||g||z&&Dm?(()=>{if(Im.current<Fu.current){let xe=new Date().getTime()-Fu.current;wi.current=wi.current-xe}Im.current=new Date().getTime()})():wi.current!==1/0&&(Fu.current=new Date().getTime(),se=setTimeout(()=>{var xe;(xe=p.onAutoClose)==null||xe.call(p,p),ln()},wi.current)),()=>clearTimeout(se)},[S,g,p,zt,z,Dm,ln]),U.useEffect(()=>{p.delete&&ln()},[ln,p.delete]);function oC(){var se,xe,Te;return I!=null&&I.loading?U.createElement("div",{className:nr(P==null?void 0:P.loader,(se=p==null?void 0:p.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":zt==="loading"},I.loading):Y?U.createElement("div",{className:nr(P==null?void 0:P.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":zt==="loading"},Y):U.createElement(LT,{className:nr(P==null?void 0:P.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader),visible:zt==="loading"})}return U.createElement("li",{tabIndex:0,ref:os,className:nr(R,Zj,P==null?void 0:P.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[zt],(r=p==null?void 0:p.classNames)==null?void 0:r[zt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:j,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":B,"data-promise":!!p.promise,"data-swiped":ns,"data-removed":me,"data-visible":Xj,"data-y-position":rC,"data-x-position":nC,"data-index":x,"data-front":Jj,"data-swiping":fe,"data-dismissible":qs,"data-type":zt,"data-invert":sC,"data-swipe-out":nt,"data-swipe-direction":le,"data-expanded":!!(S||T&&B),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${me?ss:Ks.current}px`,"--initial-height":T?"auto":`${Hs}px`,...A,...p.style},onDragEnd:()=>{ge(!1),W(null),Gs.current=null},onPointerDown:se=>{Uu||!qs||(Am.current=new Date,yi(Ks.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(ge(!0),Gs.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,xe,Te,Zt;if(nt||!qs)return;Gs.current=null;let er=Number(((se=os.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cn=Number(((xe=os.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),is=new Date().getTime()-((Te=Am.current)==null?void 0:Te.getTime()),tr=ee==="x"?er:cn,un=Math.abs(tr)/is;if(Math.abs(tr)>=nR||un>.11){yi(Ks.current),(Zt=p.onDismiss)==null||Zt.call(p,p),ve(ee==="x"?er>0?"right":"left":cn>0?"down":"up"),ln(),Bt(!0),an(!1);return}ge(!1),W(null)},onPointerMove:se=>{var xe,Te,Zt,er;if(!Gs.current||!qs||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let cn=se.clientY-Gs.current.y,is=se.clientX-Gs.current.x,tr=(Te=e.swipeDirections)!=null?Te:oR(G);!ee&&(Math.abs(is)>1||Math.abs(cn)>1)&&W(Math.abs(is)>Math.abs(cn)?"x":"y");let un={x:0,y:0};ee==="y"?(tr.includes("top")||tr.includes("bottom"))&&(tr.includes("top")&&cn<0||tr.includes("bottom")&&cn>0)&&(un.y=cn):ee==="x"&&(tr.includes("left")||tr.includes("right"))&&(tr.includes("left")&&is<0||tr.includes("right")&&is>0)&&(un.x=is),(Math.abs(un.x)>0||Math.abs(un.y)>0)&&an(!0),(Zt=os.current)==null||Zt.style.setProperty("--swipe-amount-x",`${un.x}px`),(er=os.current)==null||er.style.setProperty("--swipe-amount-y",`${un.y}px`)}},tC&&!p.jsx?U.createElement("button",{"aria-label":V,"data-disabled":Uu,"data-close-button":!0,onClick:Uu||!qs?()=>{}:()=>{var se;ln(),(se=p.onDismiss)==null||se.call(p,p)},className:nr(P==null?void 0:P.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=I==null?void 0:I.close)!=null?o:VT):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:U.createElement(U.Fragment,null,zt||p.icon||p.promise?U.createElement("div",{"data-icon":"",className:nr(P==null?void 0:P.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||oC():null,p.type!=="loading"?p.icon||(I==null?void 0:I[zt])||DT(zt):null):null,U.createElement("div",{"data-content":"",className:nr(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},U.createElement("div",{"data-title":"",className:nr(P==null?void 0:P.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?U.createElement("div",{"data-description":"",className:nr(D,eC,P==null?void 0:P.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&gl(p.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:se=>{var xe,Te;gl(p.cancel)&&qs&&((Te=(xe=p.cancel).onClick)==null||Te.call(xe,se),ln())},className:nr(P==null?void 0:P.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&gl(p.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:se=>{var xe,Te;gl(p.action)&&((Te=(xe=p.action).onClick)==null||Te.call(xe,se),!se.defaultPrevented&&ln())},className:nr(P==null?void 0:P.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ov(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function aR(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?eR:ZT;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(a)}),r}var lR=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:b=XT,toastOptions:g,dir:v=ov(),gap:w=rR,loadingIcon:y,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,j]=U.useState([]),k=U.useMemo(()=>Array.from(new Set([n].concat(E.filter(z=>z.position).map(z=>z.position)))),[E,n]),[A,C]=U.useState([]),[N,R]=U.useState(!1),[D,M]=U.useState(!1),[G,F]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=U.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=U.useRef(null),I=U.useRef(!1),V=U.useCallback(z=>{j(ee=>{var W;return(W=ee.find(le=>le.id===z.id))!=null&&W.delete||xt.dismiss(z.id),ee.filter(({id:le})=>le!==z.id)})},[]);return U.useEffect(()=>xt.subscribe(z=>{if(z.dismiss){j(ee=>ee.map(W=>W.id===z.id?{...W,delete:!0}:W));return}setTimeout(()=>{t0.flushSync(()=>{j(ee=>{let W=ee.findIndex(le=>le.id===z.id);return W!==-1?[...ee.slice(0,W),{...ee[W],...z},...ee.slice(W+1)]:[z,...ee]})})})}),[]),U.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:ee})=>{F(ee?"dark":"light")})}catch{z.addListener(({matches:W})=>{try{F(W?"dark":"light")}catch(le){console.error(le)}})}},[d]),U.useEffect(()=>{E.length<=1&&R(!1)},[E]),U.useEffect(()=>{let z=ee=>{var W,le;s.every(ve=>ee[ve]||ee.code===ve)&&(R(!0),(W=Y.current)==null||W.focus()),ee.code==="Escape"&&(document.activeElement===Y.current||(le=Y.current)!=null&&le.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),U.useEffect(()=>{if(Y.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,I.current=!1)}},[Y.current]),U.createElement("section",{ref:t,"aria-label":`${_} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((z,ee)=>{var W;let[le,ve]=z.split("-");return E.length?U.createElement("ol",{key:z,dir:v==="auto"?ov():v,tabIndex:-1,ref:Y,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":le,"data-lifted":N&&E.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((W=A[0])==null?void 0:W.height)||0}px`,"--width":`${tR}px`,"--gap":`${w}px`,...p,...aR(c,u)},onBlur:B=>{I.current&&!B.currentTarget.contains(B.relatedTarget)&&(I.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||I.current||(I.current=!0,P.current=B.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{D||R(!1)},onDragEnd:()=>R(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},E.filter(B=>!B.position&&ee===0||B.position===z).map((B,pe)=>{var me,de;return U.createElement(iR,{key:B.id,icons:x,index:pe,toast:B,defaultRichColors:f,duration:(me=g==null?void 0:g.duration)!=null?me:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:i,interacting:D,position:z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:V,toasts:E.filter(fe=>fe.position==B.position),heights:A.filter(fe=>fe.position==B.position),setHeights:C,expandByDefault:o,gap:w,loadingIcon:y,expanded:N,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const cR=({...e})=>{const{theme:t="system"}=MT();return l.jsx(lR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var uR=Lc[" useId ".trim().toString()]||(()=>{}),dR=0;function vr(e){const[t,r]=h.useState(uR());return rt(()=>{r(n=>n??String(dR++))},[e]),t?`radix-${t}`:""}const fR=["top","right","bottom","left"],Wn=Math.min,At=Math.max,xc=Math.round,vl=Math.floor,Lr=e=>({x:e,y:e}),hR={left:"right",right:"left",bottom:"top",top:"bottom"},pR={start:"end",end:"start"};function Uf(e,t,r){return At(e,Wn(t,r))}function tn(e,t){return typeof e=="function"?e(t):e}function rn(e){return e.split("-")[0]}function ii(e){return e.split("-")[1]}function jp(e){return e==="x"?"y":"x"}function Cp(e){return e==="y"?"height":"width"}const mR=new Set(["top","bottom"]);function Ir(e){return mR.has(rn(e))?"y":"x"}function kp(e){return jp(Ir(e))}function gR(e,t,r){r===void 0&&(r=!1);const n=ii(e),s=kp(e),o=Cp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=bc(i)),[i,bc(i)]}function vR(e){const t=bc(e);return[Bf(e),t,Bf(t)]}function Bf(e){return e.replace(/start|end/g,t=>pR[t])}const iv=["left","right"],av=["right","left"],yR=["top","bottom"],wR=["bottom","top"];function xR(e,t,r){switch(e){case"top":case"bottom":return r?t?av:iv:t?iv:av;case"left":case"right":return t?yR:wR;default:return[]}}function bR(e,t,r,n){const s=ii(e);let o=xR(rn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Bf)))),o}function bc(e){return e.replace(/left|right|bottom|top/g,t=>hR[t])}function _R(e){return{top:0,right:0,bottom:0,left:0,...e}}function K0(e){return typeof e!="number"?_R(e):{top:e,right:e,bottom:e,left:e}}function _c(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function lv(e,t,r){let{reference:n,floating:s}=e;const o=Ir(t),i=kp(t),a=Cp(i),c=rn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ii(t)){case"start":p[i]-=m*(r&&u?-1:1);break;case"end":p[i]+=m*(r&&u?-1:1);break}return p}const SR=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=lv(u,n,c),m=n,p={},b=0;for(let g=0;g<a.length;g++){const{name:v,fn:w}=a[g],{x:y,y:x,data:_,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=x??f,p={...p,[v]:{...p[v],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=lv(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function ha(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=tn(t,e),b=K0(p),v=a[m?f==="floating"?"reference":"floating":f],w=_c(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=_c(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:c}):y);return{top:(w.top-S.top+b.top)/_.y,bottom:(S.bottom-w.bottom+b.bottom)/_.y,left:(w.left-S.left+b.left)/_.x,right:(S.right-w.right+b.right)/_.x}}const ER=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=tn(e,t)||{};if(u==null)return{};const f=K0(d),m={x:r,y:n},p=kp(s),b=Cp(p),g=await i.getDimensions(u),v=p==="y",w=v?"top":"left",y=v?"bottom":"right",x=v?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[p]-m[p]-o.floating[b],S=m[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=E?E[x]:0;(!j||!await(i.isElement==null?void 0:i.isElement(E)))&&(j=a.floating[x]||o.floating[b]);const k=_/2-S/2,A=j/2-g[b]/2-1,C=Wn(f[w],A),N=Wn(f[y],A),R=C,D=j-g[b]-N,M=j/2-g[b]/2+k,G=Uf(R,M,D),F=!c.arrow&&ii(s)!=null&&M!==G&&o.reference[b]/2-(M<R?C:N)-g[b]/2<0,Y=F?M<R?M-R:M-D:0;return{[p]:m[p]+Y,data:{[p]:G,centerOffset:M-G-Y,...F&&{alignmentOffset:Y}},reset:F}}}),jR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...v}=tn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=rn(s),y=Ir(a),x=rn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(x||!g?[bc(a)]:vR(a)),E=b!=="none";!m&&E&&S.push(...bR(a,g,b,_));const j=[a,...S],k=await ha(t,v),A=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&A.push(k[w]),f){const M=gR(s,i,_);A.push(k[M[0]],k[M[1]])}if(C=[...C,{placement:s,overflows:A}],!A.every(M=>M<=0)){var N,R;const M=(((N=o.flip)==null?void 0:N.index)||0)+1,G=j[M];if(G&&(!(f==="alignment"?y!==Ir(G):!1)||C.every(T=>Ir(T.placement)===y?T.overflows[0]>0:!0)))return{data:{index:M,overflows:C},reset:{placement:G}};let F=(R=C.filter(Y=>Y.overflows[0]<=0).sort((Y,T)=>Y.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(p){case"bestFit":{var D;const Y=(D=C.filter(T=>{if(E){const P=Ir(T.placement);return P===y||P==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(P=>P>0).reduce((P,I)=>P+I,0)]).sort((T,P)=>T[1]-P[1])[0])==null?void 0:D[0];Y&&(F=Y);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function cv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uv(e){return fR.some(t=>e[t]>=0)}const CR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=tn(e,t);switch(n){case"referenceHidden":{const o=await ha(t,{...s,elementContext:"reference"}),i=cv(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:uv(i)}}}case"escaped":{const o=await ha(t,{...s,altBoundary:!0}),i=cv(o,r.floating);return{data:{escapedOffsets:i,escaped:uv(i)}}}default:return{}}}}},G0=new Set(["left","top"]);async function kR(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=rn(r),a=ii(r),c=Ir(r)==="y",u=G0.has(i)?-1:1,d=o&&c?-1:1,f=tn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(p=a==="end"?b*-1:b),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const NR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await kR(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},PR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:v=>{let{x:w,y}=v;return{x:w,y}}},...c}=tn(e,t),u={x:r,y:n},d=await ha(t,c),f=Ir(rn(s)),m=jp(f);let p=u[m],b=u[f];if(o){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=p+d[v],x=p-d[w];p=Uf(y,p,x)}if(i){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=b+d[v],x=b-d[w];b=Uf(y,b,x)}const g=a.fn({...t,[m]:p,[f]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},TR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=tn(e,t),d={x:r,y:n},f=Ir(s),m=jp(f);let p=d[m],b=d[f];const g=tn(a,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",_=o.reference[m]-o.floating[x]+v.mainAxis,S=o.reference[m]+o.reference[x]-v.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var w,y;const x=m==="y"?"width":"height",_=G0.has(rn(s)),S=o.reference[f]-o.floating[x]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:v.crossAxis),E=o.reference[f]+o.reference[x]+(_?0:((y=i.offset)==null?void 0:y[f])||0)-(_?v.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[m]:p,[f]:b}}}},RR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=tn(e,t),d=await ha(t,u),f=rn(s),m=ii(s),p=Ir(s)==="y",{width:b,height:g}=o.floating;let v,w;f==="top"||f==="bottom"?(v=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,v=m==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=b-d.left-d.right,_=Wn(g-d[v],y),S=Wn(b-d[w],x),E=!t.middlewareData.shift;let j=_,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=y),E&&!m){const C=At(d.left,0),N=At(d.right,0),R=At(d.top,0),D=At(d.bottom,0);p?k=b-2*(C!==0||N!==0?C+N:At(d.left,d.right)):j=g-2*(R!==0||D!==0?R+D:At(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:j});const A=await i.getDimensions(a.floating);return b!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function lu(){return typeof window<"u"}function ai(e){return Y0(e)?(e.nodeName||"").toLowerCase():"#document"}function $t(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ur(e){var t;return(t=(Y0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Y0(e){return lu()?e instanceof Node||e instanceof $t(e).Node:!1}function xr(e){return lu()?e instanceof Element||e instanceof $t(e).Element:!1}function Fr(e){return lu()?e instanceof HTMLElement||e instanceof $t(e).HTMLElement:!1}function dv(e){return!lu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $t(e).ShadowRoot}const AR=new Set(["inline","contents"]);function Da(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!AR.has(s)}const OR=new Set(["table","td","th"]);function IR(e){return OR.has(ai(e))}const MR=[":popover-open",":modal"];function cu(e){return MR.some(t=>{try{return e.matches(t)}catch{return!1}})}const DR=["transform","translate","scale","rotate","perspective"],$R=["transform","translate","scale","rotate","perspective","filter"],LR=["paint","layout","strict","content"];function Np(e){const t=Pp(),r=xr(e)?br(e):e;return DR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$R.some(n=>(r.willChange||"").includes(n))||LR.some(n=>(r.contain||"").includes(n))}function FR(e){let t=Hn(e);for(;Fr(t)&&!Jo(t);){if(Np(t))return t;if(cu(t))return null;t=Hn(t)}return null}function Pp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UR=new Set(["html","body","#document"]);function Jo(e){return UR.has(ai(e))}function br(e){return $t(e).getComputedStyle(e)}function uu(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hn(e){if(ai(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dv(e)&&e.host||Ur(e);return dv(t)?t.host:t}function Q0(e){const t=Hn(e);return Jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&Da(t)?t:Q0(t)}function pa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Q0(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=$t(s);if(o){const a=zf(i);return t.concat(i,i.visualViewport||[],Da(s)?s:[],a&&r?pa(a):[])}return t.concat(s,pa(s,[],r))}function zf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function J0(e){const t=br(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Fr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=xc(r)!==o||xc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Tp(e){return xr(e)?e:e.contextElement}function To(e){const t=Tp(e);if(!Fr(t))return Lr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=J0(t);let i=(o?xc(r.width):r.width)/n,a=(o?xc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const BR=Lr(0);function X0(e){const t=$t(e);return!Pp()||!t.visualViewport?BR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$t(e)?!1:t}function Is(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Tp(e);let i=Lr(1);t&&(n?xr(n)&&(i=To(n)):i=To(e));const a=zR(o,r,n)?X0(o):Lr(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=$t(o),p=n&&xr(n)?$t(n):n;let b=m,g=zf(b);for(;g&&n&&p!==b;){const v=To(g),w=g.getBoundingClientRect(),y=br(g),x=w.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,_=w.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=x,u+=_,b=$t(g),g=zf(b)}}return _c({width:d,height:f,x:c,y:u})}function du(e,t){const r=uu(e).scrollLeft;return t?t.left+r:Is(Ur(e)).left+r}function Z0(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-du(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function VR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Ur(n),a=t?cu(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Lr(1);const d=Lr(0),f=Fr(n);if((f||!f&&!o)&&((ai(n)!=="body"||Da(i))&&(c=uu(n)),Fr(n))){const p=Is(n);u=To(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=i&&!f&&!o?Z0(i,c):Lr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function WR(e){return Array.from(e.getClientRects())}function HR(e){const t=Ur(e),r=uu(e),n=e.ownerDocument.body,s=At(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=At(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+du(e);const a=-r.scrollTop;return br(n).direction==="rtl"&&(i+=At(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}const fv=25;function qR(e,t){const r=$t(e),n=Ur(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=Pp();(!d||d&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=du(n);if(u<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-f.clientWidth-p);b<=fv&&(o-=b)}else u<=fv&&(o+=u);return{width:o,height:i,x:a,y:c}}const KR=new Set(["absolute","fixed"]);function GR(e,t){const r=Is(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Fr(e)?To(e):Lr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function hv(e,t,r){let n;if(t==="viewport")n=qR(e,r);else if(t==="document")n=HR(Ur(e));else if(xr(t))n=GR(t,r);else{const s=X0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return _c(n)}function eb(e,t){const r=Hn(e);return r===t||!xr(r)||Jo(r)?!1:br(r).position==="fixed"||eb(r,t)}function YR(e,t){const r=t.get(e);if(r)return r;let n=pa(e,[],!1).filter(a=>xr(a)&&ai(a)!=="body"),s=null;const o=br(e).position==="fixed";let i=o?Hn(e):e;for(;xr(i)&&!Jo(i);){const a=br(i),c=Np(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&KR.has(s.position)||Da(i)&&!c&&eb(e,i))?n=n.filter(d=>d!==i):s=a,i=Hn(i)}return t.set(e,n),n}function QR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?cu(t)?[]:YR(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const f=hv(t,d,s);return u.top=At(f.top,u.top),u.right=Wn(f.right,u.right),u.bottom=Wn(f.bottom,u.bottom),u.left=At(f.left,u.left),u},hv(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JR(e){const{width:t,height:r}=J0(e);return{width:t,height:r}}function XR(e,t,r){const n=Fr(t),s=Ur(t),o=r==="fixed",i=Is(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Lr(0);function u(){c.x=du(s)}if(n||!n&&!o)if((ai(t)!=="body"||Da(s))&&(a=uu(t)),n){const p=Is(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?Z0(s,a):Lr(0),f=i.left+a.scrollLeft-c.x-d.x,m=i.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function wd(e){return br(e).position==="static"}function pv(e,t){if(!Fr(e)||br(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ur(e)===r&&(r=r.ownerDocument.body),r}function tb(e,t){const r=$t(e);if(cu(e))return r;if(!Fr(e)){let s=Hn(e);for(;s&&!Jo(s);){if(xr(s)&&!wd(s))return s;s=Hn(s)}return r}let n=pv(e,t);for(;n&&IR(n)&&wd(n);)n=pv(n,t);return n&&Jo(n)&&wd(n)&&!Np(n)?r:n||FR(e)||r}const ZR=async function(e){const t=this.getOffsetParent||tb,r=this.getDimensions,n=await r(e.floating);return{reference:XR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eA(e){return br(e).direction==="rtl"}const tA={convertOffsetParentRelativeRectToViewportRelativeRect:VR,getDocumentElement:Ur,getClippingRect:QR,getOffsetParent:tb,getElementRects:ZR,getClientRects:WR,getDimensions:JR,getScale:To,isElement:xr,isRTL:eA};function rb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rA(e,t){let r=null,n;const s=Ur(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||t(),!m||!p)return;const b=vl(f),g=vl(s.clientWidth-(d+m)),v=vl(s.clientHeight-(f+p)),w=vl(d),x={rootMargin:-b+"px "+-g+"px "+-v+"px "+-w+"px",threshold:At(0,Wn(1,c))||1};let _=!0;function S(E){const j=E[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!rb(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),o}function nA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Tp(e),d=s||o?[...u?pa(u):[],...pa(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=u&&a?rA(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let b,g=c?Is(e):null;c&&v();function v(){const w=Is(e);g&&!rb(g,w)&&r(),g=w,b=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const sA=NR,oA=PR,iA=jR,aA=RR,lA=CR,mv=ER,cA=TR,uA=(e,t,r)=>{const n=new Map,s={platform:tA,...r},o={...s.platform,_c:n};return SR(e,t,{...s,platform:o})};var dA=typeof document<"u",fA=function(){},ql=dA?h.useLayoutEffect:fA;function Sc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Sc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function nb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gv(e,t){const r=nb(e);return Math.round(t*r)/r}function xd(e){const t=h.useRef(e);return ql(()=>{t.current=e}),t}function hA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);Sc(m,n)||p(n);const[b,g]=h.useState(null),[v,w]=h.useState(null),y=h.useCallback(T=>{T!==E.current&&(E.current=T,g(T))},[]),x=h.useCallback(T=>{T!==j.current&&(j.current=T,w(T))},[]),_=o||b,S=i||v,E=h.useRef(null),j=h.useRef(null),k=h.useRef(d),A=c!=null,C=xd(c),N=xd(s),R=xd(u),D=h.useCallback(()=>{if(!E.current||!j.current)return;const T={placement:t,strategy:r,middleware:m};N.current&&(T.platform=N.current),uA(E.current,j.current,T).then(P=>{const I={...P,isPositioned:R.current!==!1};M.current&&!Sc(k.current,I)&&(k.current=I,Bs.flushSync(()=>{f(I)}))})},[m,t,r,N,R]);ql(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const M=h.useRef(!1);ql(()=>(M.current=!0,()=>{M.current=!1}),[]),ql(()=>{if(_&&(E.current=_),S&&(j.current=S),_&&S){if(C.current)return C.current(_,S,D);D()}},[_,S,D,C,A]);const G=h.useMemo(()=>({reference:E,floating:j,setReference:y,setFloating:x}),[y,x]),F=h.useMemo(()=>({reference:_,floating:S}),[_,S]),Y=h.useMemo(()=>{const T={position:r,left:0,top:0};if(!F.floating)return T;const P=gv(F.floating,d.x),I=gv(F.floating,d.y);return a?{...T,transform:"translate("+P+"px, "+I+"px)",...nb(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:I}},[r,a,F.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:D,refs:G,elements:F,floatingStyles:Y}),[d,D,G,F,Y])}const pA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mv({element:n.current,padding:s}).fn(r):{}:n?mv({element:n,padding:s}).fn(r):{}}}},mA=(e,t)=>({...sA(e),options:[e,t]}),gA=(e,t)=>({...oA(e),options:[e,t]}),vA=(e,t)=>({...cA(e),options:[e,t]}),yA=(e,t)=>({...iA(e),options:[e,t]}),wA=(e,t)=>({...aA(e),options:[e,t]}),xA=(e,t)=>({...lA(e),options:[e,t]}),bA=(e,t)=>({...pA(e),options:[e,t]});var _A="Arrow",sb=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(Z.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});sb.displayName=_A;var SA=sb;function fu(e){const[t,r]=h.useState(void 0);return rt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Rp="Popper",[ob,Yn]=ct(Rp),[EA,ib]=ob(Rp),ab=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return l.jsx(EA,{scope:t,anchor:n,onAnchorChange:s,children:r})};ab.displayName=Rp;var lb="PopperAnchor",cb=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=ib(lb,r),i=h.useRef(null),a=oe(t,i),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),n?null:l.jsx(Z.div,{...s,ref:a})});cb.displayName=lb;var Ap="PopperContent",[jA,CA]=ob(Ap),ub=h.forwardRef((e,t)=>{var B,pe,me,de,fe,ge;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...g}=e,v=ib(Ap,r),[w,y]=h.useState(null),x=oe(t,nt=>y(nt)),[_,S]=h.useState(null),E=fu(_),j=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,A=n+(o!=="center"?"-"+o:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],R=N.length>0,D={padding:C,boundary:N.filter(NA),altBoundary:R},{refs:M,floatingStyles:G,placement:F,isPositioned:Y,middlewareData:T}=hA({strategy:"fixed",placement:A,whileElementsMounted:(...nt)=>nA(...nt,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[mA({mainAxis:s+k,alignmentAxis:i}),c&&gA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vA():void 0,...D}),c&&yA({...D}),wA({...D,apply:({elements:nt,rects:Bt,availableWidth:ns,availableHeight:an})=>{const{width:ss,height:yi}=Bt.reference,Hs=nt.floating.style;Hs.setProperty("--radix-popper-available-width",`${ns}px`),Hs.setProperty("--radix-popper-available-height",`${an}px`),Hs.setProperty("--radix-popper-anchor-width",`${ss}px`),Hs.setProperty("--radix-popper-anchor-height",`${yi}px`)}}),_&&bA({element:_,padding:a}),PA({arrowWidth:j,arrowHeight:k}),m&&xA({strategy:"referenceHidden",...D})]}),[P,I]=hb(F),V=kt(b);rt(()=>{Y&&(V==null||V())},[Y,V]);const z=(B=T.arrow)==null?void 0:B.x,ee=(pe=T.arrow)==null?void 0:pe.y,W=((me=T.arrow)==null?void 0:me.centerOffset)!==0,[le,ve]=h.useState();return rt(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Y?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(de=T.transformOrigin)==null?void 0:de.x,(fe=T.transformOrigin)==null?void 0:fe.y].join(" "),...((ge=T.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(jA,{scope:r,placedSide:P,onArrowChange:S,arrowX:z,arrowY:ee,shouldHideArrow:W,children:l.jsx(Z.div,{"data-side":P,"data-align":I,...g,ref:x,style:{...g.style,animation:Y?void 0:"none"}})})})});ub.displayName=Ap;var db="PopperArrow",kA={top:"bottom",right:"left",bottom:"top",left:"right"},fb=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=CA(db,n),i=kA[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(SA,{...s,ref:r,style:{...s.style,display:"block"}})})});fb.displayName=db;function NA(e){return e!==null}var PA=e=>({name:"transformOrigin",options:e,fn(t){var v,w,y;const{placement:r,rects:n,middlewareData:s}=t,i=((v=s.arrow)==null?void 0:v.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=hb(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=i?f:`${m}px`,g=`${-c}px`):u==="top"?(b=i?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=i?f:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,g=i?f:`${p}px`),{data:{x:b,y:g}}}});function hb(e){const[t,r="center"]=e.split("-");return[t,r]}var Op=ab,$a=cb,hu=ub,pu=fb,[mu]=ct("Tooltip",[Yn]),Ip=Yn(),pb="TooltipProvider",TA=700,vv="tooltip.open",[RA,mb]=mu(pb),gb=e=>{const{__scopeTooltip:t,delayDuration:r=TA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(RA,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};gb.displayName=pb;var vb="Tooltip",[RU,gu]=mu(vb),Vf="TooltipTrigger",AA=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=gu(Vf,r),o=mb(Vf,r),i=Ip(r),a=h.useRef(null),c=oe(t,a,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx($a,{asChild:!0,...i,children:l.jsx(Z.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:L(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:L(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:L(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:L(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:L(e.onBlur,s.onClose),onClick:L(e.onClick,s.onClose)})})});AA.displayName=Vf;var OA="TooltipPortal",[AU,IA]=mu(OA,{forceMount:void 0}),Xo="TooltipContent",yb=h.forwardRef((e,t)=>{const r=IA(Xo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=gu(Xo,e.__scopeTooltip);return l.jsx(yt,{present:n||i.open,children:i.disableHoverableContent?l.jsx(wb,{side:s,...o,ref:t}):l.jsx(MA,{side:s,...o,ref:t})})}),MA=h.forwardRef((e,t)=>{const r=gu(Xo,e.__scopeTooltip),n=mb(Xo,e.__scopeTooltip),s=h.useRef(null),o=oe(t,s),[i,a]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((b,g)=>{const v=b.currentTarget,w={x:b.clientX,y:b.clientY},y=UA(w,v.getBoundingClientRect()),x=BA(w,y),_=zA(g.getBoundingClientRect()),S=WA([...x,..._]);a(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const b=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),h.useEffect(()=>{if(i){const b=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),x=!VA(w,i);y?m():x&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,m]),l.jsx(wb,{...e,ref:o})}),[DA,$A]=mu(vb,{isInside:!1}),LA=s0("TooltipContent"),wb=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=gu(Xo,r),u=Ip(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(vv,d),()=>document.removeEventListener(vv,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(zs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(hu,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(LA,{children:n}),l.jsx(DA,{scope:r,isInside:!0,children:l.jsx(aP,{id:c.contentId,role:"tooltip",children:s||n})})]})})});yb.displayName=Xo;var xb="TooltipArrow",FA=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ip(r);return $A(xb,r).isInside?null:l.jsx(pu,{...s,...n,ref:t})});FA.displayName=xb;function UA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function BA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function VA(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function WA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),HA(t)}function HA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var qA=gb,bb=yb;const KA=qA,GA=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(bb,{ref:n,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));GA.displayName=bb.displayName;var vu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Sn,bh,Ay,QA=(Ay=class{constructor(){ue(this,Sn,YA);ue(this,bh,!1)}setTimeoutProvider(e){ne(this,Sn,e)}setTimeout(e,t){return O(this,Sn).setTimeout(e,t)}clearTimeout(e){O(this,Sn).clearTimeout(e)}setInterval(e,t){return O(this,Sn).setInterval(e,t)}clearInterval(e){O(this,Sn).clearInterval(e)}},Sn=new WeakMap,bh=new WeakMap,Ay),Wf=new QA;function JA(e){setTimeout(e,0)}var yu=typeof window>"u"||"Deno"in globalThis;function ar(){}function XA(e,t){return typeof e=="function"?e(t):e}function ZA(e){return typeof e=="number"&&e>=0&&e!==1/0}function eO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hf(e,t){return typeof e=="function"?e(t):e}function tO(e,t){return typeof e=="function"?e(t):e}function yv(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==Mp(i,t.options))return!1}else if(!ga(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function wv(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(ma(t.options.mutationKey)!==ma(o))return!1}else if(!ga(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Mp(e,t){return((t==null?void 0:t.queryKeyHashFn)||ma)(e)}function ma(e){return JSON.stringify(e,(t,r)=>qf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ga(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ga(e[r],t[r])):!1}var rO=Object.prototype.hasOwnProperty;function _b(e,t){if(e===t)return e;const r=xv(e)&&xv(t);if(!r&&!(qf(e)&&qf(t)))return t;const s=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),i=o.length,a=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u],f=e[d],m=t[d];if(f===m){a[d]=f,(r?u<s:rO.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){a[d]=m;continue}const p=_b(f,m);a[d]=p,p===f&&c++}return s===i&&c===s?e:a}function xv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qf(e){if(!bv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bv(e){return Object.prototype.toString.call(e)==="[object Object]"}function nO(e){return new Promise(t=>{Wf.setTimeout(t,e)})}function sO(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?_b(e,t):t}function oO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function iO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Dp=Symbol();function Sb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xs,En,Do,Oy,aO=(Oy=class extends vu{constructor(){super();ue(this,xs);ue(this,En);ue(this,Do);ne(this,Do,t=>{if(!yu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,En)||this.setEventListener(O(this,Do))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,En))==null||t.call(this),ne(this,En,void 0))}setEventListener(t){var r;ne(this,Do,t),(r=O(this,En))==null||r.call(this),ne(this,En,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){O(this,xs)!==t&&(ne(this,xs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof O(this,xs)=="boolean"?O(this,xs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xs=new WeakMap,En=new WeakMap,Do=new WeakMap,Oy),Eb=new aO;function lO(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var cO=JA;function uO(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=cO;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ht=uO(),$o,jn,Lo,Iy,dO=(Iy=class extends vu{constructor(){super();ue(this,$o,!0);ue(this,jn);ue(this,Lo);ne(this,Lo,t=>{if(!yu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,jn)||this.setEventListener(O(this,Lo))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,jn))==null||t.call(this),ne(this,jn,void 0))}setEventListener(t){var r;ne(this,Lo,t),(r=O(this,jn))==null||r.call(this),ne(this,jn,t(this.setOnline.bind(this)))}setOnline(t){O(this,$o)!==t&&(ne(this,$o,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return O(this,$o)}},$o=new WeakMap,jn=new WeakMap,Lo=new WeakMap,Iy),Ec=new dO;function fO(e){return Math.min(1e3*2**e,3e4)}function jb(e){return(e??"online")==="online"?Ec.isOnline():!0}var Kf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Cb(e){let t=!1,r=0,n;const s=lO(),o=()=>s.status!=="pending",i=g=>{var v;if(!o()){const w=new Kf(g);m(w),(v=e.onCancel)==null||v.call(e,w)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Eb.isFocused()&&(e.networkMode==="always"||Ec.isOnline())&&e.canRun(),d=()=>jb(e.networkMode)&&e.canRun(),f=g=>{o()||(n==null||n(),s.resolve(g))},m=g=>{o()||(n==null||n(),s.reject(g))},p=()=>new Promise(g=>{var v;n=w=>{(o()||u())&&g(w)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;n=void 0,o()||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(o())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var E;if(o())return;const y=e.retry??(yu?0:3),x=e.retryDelay??fO,_=typeof x=="function"?x(r,w):x,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(t||!S){m(w);return}r++,(E=e.onFail)==null||E.call(e,r,w),nO(_).then(()=>u()?void 0:p()).then(()=>{t?m(w):b()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),s)}}var bs,My,kb=(My=class{constructor(){ue(this,bs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZA(this.gcTime)&&ne(this,bs,Wf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yu?1/0:5*60*1e3))}clearGcTimeout(){O(this,bs)&&(Wf.clearTimeout(O(this,bs)),ne(this,bs,void 0))}},bs=new WeakMap,My),_s,Fo,Vt,Ss,Ke,Ca,Es,cr,zr,Dy,hO=(Dy=class extends kb{constructor(t){super();ue(this,cr);ue(this,_s);ue(this,Fo);ue(this,Vt);ue(this,Ss);ue(this,Ke);ue(this,Ca);ue(this,Es);ne(this,Es,!1),ne(this,Ca,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,Ss,t.client),ne(this,Vt,O(this,Ss).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,_s,Sv(this.options)),this.state=t.state??O(this,_s),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,Ke))==null?void 0:t.promise}setOptions(t){if(this.options={...O(this,Ca),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Sv(this.options);r.data!==void 0&&(this.setState(_v(r.data,r.dataUpdatedAt)),ne(this,_s,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Vt).remove(this)}setData(t,r){const n=sO(this.state.data,t,this.options);return st(this,cr,zr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,cr,zr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=O(this,Ke))==null?void 0:n.promise;return(s=O(this,Ke))==null||s.cancel(t),r?r.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,_s))}isActive(){return this.observers.some(t=>tO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,Ke))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,Ke))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,Vt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(O(this,Ke)&&(O(this,Es)?O(this,Ke).cancel({revert:!0}):O(this,Ke).cancelRetry()),this.scheduleGc()),O(this,Vt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,cr,zr).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,m,p,b,g,v,w,y,x;if(this.state.fetchStatus!=="idle"&&((c=O(this,Ke))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,Ke))return O(this,Ke).continueRetry(),O(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ne(this,Es,!0),n.signal)})},o=()=>{const _=Sb(this.options,r),E=(()=>{const j={client:O(this,Ss),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return ne(this,Es,!1),this.options.persister?this.options.persister(_,E,this):_(E)},a=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,Ss),state:this.state,fetchFn:o};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(a,this),ne(this,Fo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&st(this,cr,zr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),ne(this,Ke,Cb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof Kf&&_.revert&&this.setState({...O(this,Fo),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{st(this,cr,zr).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{st(this,cr,zr).call(this,{type:"pause"})},onContinue:()=>{st(this,cr,zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await O(this,Ke).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(m=O(this,Vt).config).onSuccess)==null||p.call(m,_,this),(g=(b=O(this,Vt).config).onSettled)==null||g.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof Kf){if(_.silent)return O(this,Ke).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw st(this,cr,zr).call(this,{type:"error",error:_}),(w=(v=O(this,Vt).config).onError)==null||w.call(v,_,this),(x=(y=O(this,Vt).config).onSettled)==null||x.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},_s=new WeakMap,Fo=new WeakMap,Vt=new WeakMap,Ss=new WeakMap,Ke=new WeakMap,Ca=new WeakMap,Es=new WeakMap,cr=new WeakSet,zr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pO(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,..._v(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Fo,t.manual?s:void 0),s;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,Vt).notify({query:this,type:"updated",action:t})})},Dy);function pO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _v(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Sv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Ev(e){return{onFetch:(t,r)=>{var d,f,m,p,b;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Sb(t.options,t.fetchOptions),y=async(x,_,S)=>{if(g)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(N),N})(),k=await w(j),{maxPages:A}=t.options,C=S?iO:oO;return{pages:C(x.pages,k,A),pageParams:C(x.pageParams,_,A)}};if(s&&o.length){const x=s==="backward",_=x?mO:jv,S={pages:o,pageParams:i},E=_(n,S);a=await y(S,E,x)}else{const x=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:jv(n,a);if(c>0&&_==null)break;a=await y(a,_),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function jv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ka,Nr,dt,js,Pr,gn,$y,gO=($y=class extends kb{constructor(t){super();ue(this,Pr);ue(this,ka);ue(this,Nr);ue(this,dt);ue(this,js);ne(this,ka,t.client),this.mutationId=t.mutationId,ne(this,dt,t.mutationCache),ne(this,Nr,[]),this.state=t.state||vO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,Nr).includes(t)||(O(this,Nr).push(t),this.clearGcTimeout(),O(this,dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,Nr,O(this,Nr).filter(r=>r!==t)),this.scheduleGc(),O(this,dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():O(this,dt).remove(this))}continue(){var t;return((t=O(this,js))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,c,u,d,f,m,p,b,g,v,w,y,x,_,S,E,j,k,A;const r=()=>{st(this,Pr,gn).call(this,{type:"continue"})},n={client:O(this,ka),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,js,Cb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{st(this,Pr,gn).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{st(this,Pr,gn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,dt).canRun(this)}));const s=this.state.status==="pending",o=!O(this,js).canStart();try{if(s)r();else{st(this,Pr,gn).call(this,{type:"pending",variables:t,isPaused:o}),await((a=(i=O(this,dt).config).onMutate)==null?void 0:a.call(i,t,this,n));const N=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));N!==this.state.context&&st(this,Pr,gn).call(this,{type:"pending",context:N,variables:t,isPaused:o})}const C=await O(this,js).start();return await((f=(d=O(this,dt).config).onSuccess)==null?void 0:f.call(d,C,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,C,t,this.state.context,n)),await((g=(b=O(this,dt).config).onSettled)==null?void 0:g.call(b,C,null,this.state.variables,this.state.context,this,n)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,C,null,t,this.state.context,n)),st(this,Pr,gn).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(y=O(this,dt).config).onError)==null?void 0:x.call(y,C,t,this.state.context,this,n)),await((S=(_=this.options).onError)==null?void 0:S.call(_,C,t,this.state.context,n)),await((j=(E=O(this,dt).config).onSettled)==null?void 0:j.call(E,void 0,C,this.state.variables,this.state.context,this,n)),await((A=(k=this.options).onSettled)==null?void 0:A.call(k,void 0,C,t,this.state.context,n)),C}finally{st(this,Pr,gn).call(this,{type:"error",error:C})}}finally{O(this,dt).runNext(this)}}},ka=new WeakMap,Nr=new WeakMap,dt=new WeakMap,js=new WeakMap,Pr=new WeakSet,gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{O(this,Nr).forEach(n=>{n.onMutationUpdate(t)}),O(this,dt).notify({mutation:this,type:"updated",action:t})})},$y);function vO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,ur,Na,Ly,yO=(Ly=class extends vu{constructor(t={}){super();ue(this,qr);ue(this,ur);ue(this,Na);this.config=t,ne(this,qr,new Set),ne(this,ur,new Map),ne(this,Na,0)}build(t,r,n){const s=new gO({client:t,mutationCache:this,mutationId:++Qa(this,Na)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){O(this,qr).add(t);const r=yl(t);if(typeof r=="string"){const n=O(this,ur).get(r);n?n.push(t):O(this,ur).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,qr).delete(t)){const r=yl(t);if(typeof r=="string"){const n=O(this,ur).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&O(this,ur).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=yl(t);if(typeof r=="string"){const n=O(this,ur).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=yl(t);if(typeof r=="string"){const s=(n=O(this,ur).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ht.batch(()=>{O(this,qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,qr).clear(),O(this,ur).clear()})}getAll(){return Array.from(O(this,qr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wv(r,n))}findAll(t={}){return this.getAll().filter(r=>wv(t,r))}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(t.map(r=>r.continue().catch(ar))))}},qr=new WeakMap,ur=new WeakMap,Na=new WeakMap,Ly);function yl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Tr,Fy,wO=(Fy=class extends vu{constructor(t={}){super();ue(this,Tr);this.config=t,ne(this,Tr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Mp(s,r);let i=this.get(o);return i||(i=new hO({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){O(this,Tr).has(t.queryHash)||(O(this,Tr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=O(this,Tr).get(t.queryHash);r&&(t.destroy(),r===t&&O(this,Tr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,Tr).get(t)}getAll(){return[...O(this,Tr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yv(t,n)):r}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tr=new WeakMap,Fy),De,Cn,kn,Uo,Bo,Nn,zo,Vo,Uy,xO=(Uy=class{constructor(e={}){ue(this,De);ue(this,Cn);ue(this,kn);ue(this,Uo);ue(this,Bo);ue(this,Nn);ue(this,zo);ue(this,Vo);ne(this,De,e.queryCache||new wO),ne(this,Cn,e.mutationCache||new yO),ne(this,kn,e.defaultOptions||{}),ne(this,Uo,new Map),ne(this,Bo,new Map),ne(this,Nn,0)}mount(){Qa(this,Nn)._++,O(this,Nn)===1&&(ne(this,zo,Eb.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,De).onFocus())})),ne(this,Vo,Ec.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,De).onOnline())})))}unmount(){var e,t;Qa(this,Nn)._--,O(this,Nn)===0&&((e=O(this,zo))==null||e.call(this),ne(this,zo,void 0),(t=O(this,Vo))==null||t.call(this),ne(this,Vo,void 0))}isFetching(e){return O(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,Cn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=O(this,De).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Hf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return O(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=O(this,De).get(n.queryHash),o=s==null?void 0:s.state.data,i=XA(t,o);if(i!==void 0)return O(this,De).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ht.batch(()=>O(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=O(this,De);ht.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=O(this,De);return ht.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ht.batch(()=>O(this,De).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ar).catch(ar)}invalidateQueries(e,t={}){return ht.batch(()=>(O(this,De).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ht.batch(()=>O(this,De).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ar)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=O(this,De).build(this,t);return r.isStaleByTime(Hf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=Ev(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=Ev(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ec.isOnline()?O(this,Cn).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,De)}getMutationCache(){return O(this,Cn)}getDefaultOptions(){return O(this,kn)}setDefaultOptions(e){ne(this,kn,e)}setQueryDefaults(e,t){O(this,Uo).set(ma(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,Uo).values()],r={};return t.forEach(n=>{ga(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){O(this,Bo).set(ma(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,Bo).values()],r={};return t.forEach(n=>{ga(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,kn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Mp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,kn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,De).clear(),O(this,Cn).clear()}},De=new WeakMap,Cn=new WeakMap,kn=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,Nn=new WeakMap,zo=new WeakMap,Vo=new WeakMap,Uy),bO=h.createContext(void 0),_O=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(bO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const Cv="popstate";function SO(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return Gf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:jc(s)}return jO(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $p(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EO(){return Math.random().toString(36).substr(2,8)}function kv(e,t){return{usr:e.state,key:e.key,idx:t}}function Gf(e,t,r,n){return r===void 0&&(r=null),va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?li(t):t,{state:r,key:t&&t.key||n||EO()})}function jc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Rn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(va({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Rn.Pop;let v=d(),w=v==null?null:v-u;u=v,c&&c({action:a,location:g.location,delta:w})}function m(v,w){a=Rn.Push;let y=Gf(g.location,v,w);u=d()+1;let x=kv(y,u),_=g.createHref(y);try{i.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:a,location:g.location,delta:1})}function p(v,w){a=Rn.Replace;let y=Gf(g.location,v,w);u=d();let x=kv(y,u),_=g.createHref(y);i.replaceState(x,"",_),o&&c&&c({action:a,location:g.location,delta:0})}function b(v){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:jc(v);return y=y.replace(/ $/,"%20"),Fe(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let g={get action(){return a},get location(){return e(s,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Cv,f),c=v,()=>{s.removeEventListener(Cv,f),c=null}},createHref(v){return t(s,v)},createURL:b,encodeLocation(v){let w=b(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(v){return i.go(v)}};return g}var Nv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nv||(Nv={}));function CO(e,t,r){return r===void 0&&(r="/"),kO(e,t,r)}function kO(e,t,r,n){let s=typeof t=="string"?li(t):t,o=Lp(s.pathname||"/",r);if(o==null)return null;let i=Nb(e);NO(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=UO(o);a=$O(i[c],u)}return a}function Nb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Un([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Fe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nb(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:MO(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Pb(o.path))s(o,i,c)}),t}function Pb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Pb(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function NO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const PO=/^:[\w-]+$/,TO=3,RO=2,AO=1,OO=10,IO=-2,Pv=e=>e==="*";function MO(e,t){let r=e.split("/"),n=r.length;return r.some(Pv)&&(n+=IO),t&&(n+=RO),r.filter(s=>!Pv(s)).reduce((s,o)=>s+(PO.test(o)?TO:o===""?AO:OO),n)}function DO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function $O(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=LO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Un([o,f.pathname]),pathnameBase:HO(Un([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Un([o,f.pathnameBase]))}return i}function LO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=a[f];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function FO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$p(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function UO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const BO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zO=e=>BO.test(e);function VO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?li(e):e,o;if(r)if(zO(r))o=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),$p(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?o=Tv(r.substring(1),"/"):o=Tv(r,t)}else o=t;return{pathname:o,search:qO(n),hash:KO(s)}}function Tv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function bd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fp(e,t){let r=WO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Up(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=li(e):(s=va({},e),Fe(!s.pathname||!s.pathname.includes("?"),bd("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),bd("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),bd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let c=VO(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Un=e=>e.join("/").replace(/\/\/+/g,"/"),HO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tb=["post","put","patch","delete"];new Set(Tb);const YO=["get",...Tb];new Set(YO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(this,arguments)}const Bp=h.createContext(null),QO=h.createContext(null),Qn=h.createContext(null),wu=h.createContext(null),sn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Rb=h.createContext(null);function JO(e,t){let{relative:r}=t===void 0?{}:t;ci()||Fe(!1);let{basename:n,navigator:s}=h.useContext(Qn),{hash:o,pathname:i,search:a}=Ib(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Un([n,i])),s.createHref({pathname:c,search:a,hash:o})}function ci(){return h.useContext(wu)!=null}function Jn(){return ci()||Fe(!1),h.useContext(wu).location}function Ab(e){h.useContext(Qn).static||h.useLayoutEffect(e)}function Nt(){let{isDataRoute:e}=h.useContext(sn);return e?u2():XO()}function XO(){ci()||Fe(!1);let e=h.useContext(Bp),{basename:t,future:r,navigator:n}=h.useContext(Qn),{matches:s}=h.useContext(sn),{pathname:o}=Jn(),i=JSON.stringify(Fp(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return Ab(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Up(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Un([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function Ob(){let{matches:e}=h.useContext(sn),t=e[e.length-1];return t?t.params:{}}function Ib(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Qn),{matches:s}=h.useContext(sn),{pathname:o}=Jn(),i=JSON.stringify(Fp(s,n.v7_relativeSplatPath));return h.useMemo(()=>Up(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function ZO(e,t){return e2(e,t)}function e2(e,t,r,n){ci()||Fe(!1);let{navigator:s}=h.useContext(Qn),{matches:o}=h.useContext(sn),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Jn(),d;if(t){var f;let v=typeof t=="string"?li(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Fe(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=CO(e,{pathname:p}),g=o2(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Un([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Un([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return t&&g?h.createElement(wu.Provider,{value:{location:ya({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rn.Pop}},g):g}function t2(){let e=c2(),t=GO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const r2=h.createElement(t2,null);class n2 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(sn.Provider,{value:this.props.routeContext},h.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s2(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Bp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(sn.Provider,{value:t},n)}function o2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Fe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,b=!1,g=null,v=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||r2,c&&(u<0&&m===0?(d2("route-fallback"),b=!0,v=null):u===m&&(b=!0,v=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),y=()=>{let x;return p?x=g:b?x=v:f.route.Component?x=h.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,h.createElement(s2,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(n2,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Mb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mb||{}),Db=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Db||{});function i2(e){let t=h.useContext(Bp);return t||Fe(!1),t}function a2(e){let t=h.useContext(QO);return t||Fe(!1),t}function l2(e){let t=h.useContext(sn);return t||Fe(!1),t}function $b(e){let t=l2(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function c2(){var e;let t=h.useContext(Rb),r=a2(),n=$b();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function u2(){let{router:e}=i2(Mb.UseNavigateStable),t=$b(Db.UseNavigateStable),r=h.useRef(!1);return Ab(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ya({fromRouteId:t},o)))},[e,t])}const Rv={};function d2(e,t,r){Rv[e]||(Rv[e]=!0)}function f2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Lb(e){let{to:t,replace:r,state:n,relative:s}=e;ci()||Fe(!1);let{future:o,static:i}=h.useContext(Qn),{matches:a}=h.useContext(sn),{pathname:c}=Jn(),u=Nt(),d=Up(t,Fp(a,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function ut(e){Fe(!1)}function h2(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rn.Pop,navigator:o,static:i=!1,future:a}=e;ci()&&Fe(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:ya({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=li(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:b="default"}=n,g=h.useMemo(()=>{let v=Lp(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:b},navigationType:s}},[c,d,f,m,p,b,s]);return g==null?null:h.createElement(Qn.Provider,{value:u},h.createElement(wu.Provider,{children:r,value:g}))}function p2(e){let{children:t,location:r}=e;return ZO(Yf(t),r)}new Promise(()=>{});function Yf(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Yf(n.props.children,o));return}n.type!==ut&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Yf(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(this,arguments)}function m2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function g2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v2(e,t){return e.button===0&&(!t||t==="_self")&&!g2(e)}function Jf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function y2(e,t){let r=Jf(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const w2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x2="6";try{window.__reactRouterVersion=x2}catch{}const b2="startTransition",Av=Lc[b2];function _2(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=SO({window:s,v5Compat:!0}));let i=o.current,[a,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Av?Av(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>f2(n),[n]),h.createElement(h2,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const S2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=m2(t,w2),{basename:p}=h.useContext(Qn),b,g=!1;if(typeof u=="string"&&E2.test(u)&&(b=u,S2))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=Lp(_.pathname,p);_.origin===x.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let v=JO(u,{relative:s}),w=j2(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(x){n&&n(x),x.defaultPrevented||w(x)}return h.createElement("a",Qf({},m,{href:b||v,onClick:g||o?n:y,ref:r,target:c}))});var Ov;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ov||(Ov={}));var Iv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Iv||(Iv={}));function j2(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=Nt(),u=Jn(),d=Ib(e,{relative:i});return h.useCallback(f=>{if(v2(f,r)){f.preventDefault();let m=n!==void 0?n:jc(u)===jc(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,n,s,r,e,o,i,a])}function La(e){let t=h.useRef(Jf(e)),r=h.useRef(!1),n=Jn(),s=h.useMemo(()=>y2(n.search,r.current?null:t.current),[n.search]),o=Nt(),i=h.useCallback((a,c)=>{const u=Jf(typeof a=="function"?a(s):a);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}var Xf=function(e,t){return Xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Xf(e,t)};function Fb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qt=function(){return qt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},qt.apply(this,arguments)};function Xn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Ub(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Bb(e,t){return function(r,n){t(r,n,e)}}function zb(e,t,r,n,s,o){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,m=!1,p=r.length-1;p>=0;p--){var b={};for(var g in n)b[g]=g==="access"?{}:n[g];for(var g in n.access)b.access[g]=n.access[g];b.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(w||null))};var v=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],b);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&s.unshift(f)}else(f=i(v))&&(a==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),m=!0}function Vb(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Wb(e){return typeof e=="symbol"?e:"".concat(e)}function Hb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function qb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function Kb(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var xu=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Gb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xu(t,e,r)}function Cc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function Yb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zp(arguments[t]));return e}function Qb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Vp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Zo(e){return this instanceof Zo?(this.v=e,this):new Zo(e)}function Jb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(b){return Promise.resolve(b).then(p,f)}}function a(p,b){n[p]&&(s[p]=function(g){return new Promise(function(v,w){o.push([p,g,v,w])>1||c(p,g)})},b&&(s[p]=b(s[p])))}function c(p,b){try{u(n[p](b))}catch(g){m(o[0][3],g)}}function u(p){p.value instanceof Zo?Promise.resolve(p.value.v).then(d,f):m(o[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function m(p,b){p(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Xb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Zo(e[s](i)),done:!1}:o?o(i):i}:o}}function Zb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cc=="function"?Cc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function e_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C2=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Zf=function(e){return Zf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Zf(e)};function t_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Zf(e),n=0;n<r.length;n++)r[n]!=="default"&&xu(t,e,r[n]);return C2(t,e),t}function r_(e){return e&&e.__esModule?e:{default:e}}function n_(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function s_(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function o_(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function i_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var k2=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function a_(e){function t(o){e.error=e.hasError?new k2(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function l_(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}const N2={__extends:Fb,__assign:qt,__rest:Xn,__decorate:Ub,__param:Bb,__esDecorate:zb,__runInitializers:Vb,__propKey:Wb,__setFunctionName:Hb,__metadata:qb,__awaiter:Q,__generator:Kb,__createBinding:xu,__exportStar:Gb,__values:Cc,__read:zp,__spread:Yb,__spreadArrays:Qb,__spreadArray:Vp,__await:Zo,__asyncGenerator:Jb,__asyncDelegator:Xb,__asyncValues:Zb,__makeTemplateObject:e_,__importStar:t_,__importDefault:r_,__classPrivateFieldGet:n_,__classPrivateFieldSet:s_,__classPrivateFieldIn:o_,__addDisposableResource:i_,__disposeResources:a_,__rewriteRelativeImportExtension:l_},P2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:i_,get __assign(){return qt},__asyncDelegator:Xb,__asyncGenerator:Jb,__asyncValues:Zb,__await:Zo,__awaiter:Q,__classPrivateFieldGet:n_,__classPrivateFieldIn:o_,__classPrivateFieldSet:s_,__createBinding:xu,__decorate:Ub,__disposeResources:a_,__esDecorate:zb,__exportStar:Gb,__extends:Fb,__generator:Kb,__importDefault:r_,__importStar:t_,__makeTemplateObject:e_,__metadata:qb,__param:Bb,__propKey:Wb,__read:zp,__rest:Xn,__rewriteRelativeImportExtension:l_,__runInitializers:Vb,__setFunctionName:Hb,__spread:Yb,__spreadArray:Vp,__spreadArrays:Qb,__values:Cc,default:N2},Symbol.toStringTag,{value:"Module"})),T2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class R2 extends Wp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mv extends Wp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dv extends Wp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var eh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(eh||(eh={}));class A2{constructor(t,{headers:r={},customFetch:n,region:s=eh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=T2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:c,body:u,signal:d,timeout:f}=n;let m={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let v=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(v=i.signal,d.addEventListener("abort",()=>i.abort())):v=i.signal);const w=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:v}).catch(S=>{throw new R2(S)}),y=w.headers.get("x-relay-error");if(y&&y==="true")throw new Mv(w);if(!w.ok)throw new Dv(w);let x=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield w.json():x==="application/octet-stream"||x==="application/pdf"?_=yield w.blob():x==="text/event-stream"?_=w:x==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Dv||a instanceof Mv?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var pt={};const ui=iC(P2);var wl={},xl={},bl={},_l={},Sl={},El={},$v;function c_(){if($v)return El;$v=1,Object.defineProperty(El,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return El.default=e,El}var Lv;function u_(){if(Lv)return Sl;Lv=1,Object.defineProperty(Sl,"__esModule",{value:!0});const t=ui.__importDefault(c_());class r{constructor(s){var o,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,m;let p=null,b=null,g=null,v=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&_&&_.length>1&&(g=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,v=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const x=await c.text();try{p=JSON.parse(x),Array.isArray(p)&&c.status===404&&(b=[],p=null,v=200,w="OK")}catch{c.status===404&&x===""?(v=204,w="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,w="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:b,count:g,status:v,statusText:w}});return this.shouldThrowOnError||(a=a.catch(c=>{var u,d,f,m,p,b;let g="";const v=c==null?void 0:c.cause;if(v){const w=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",y=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";g=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(m=v==null?void 0:v.name)!==null&&m!==void 0?m:"Error"}: ${w}`,y&&(g+=` (${y})`),v!=null&&v.stack&&(g+=`
${v.stack}`)}else g=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,o)}returns(){return this}overrideTypes(){return this}}return Sl.default=r,Sl}var Fv;function d_(){if(Fv)return _l;Fv=1,Object.defineProperty(_l,"__esModule",{value:!0});const t=ui.__importDefault(u_());class r extends t.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return _l.default=r,_l}var Uv;function Hp(){if(Uv)return bl;Uv=1,Object.defineProperty(bl,"__esModule",{value:!0});const t=ui.__importDefault(d_()),r=new RegExp("[,()]");class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}regexMatch(o,i){return this.url.searchParams.append(o,`match.${i}`),this}regexIMatch(o,i){return this.url.searchParams.append(o,`imatch.${i}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}isDistinct(o,i){return this.url.searchParams.append(o,`isdistinct.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return bl.default=n,bl}var Bv;function f_(){if(Bv)return xl;Bv=1,Object.defineProperty(xl,"__esModule",{value:!0});const t=ui.__importDefault(Hp());class r{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},c=i?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return xl.default=r,xl}var zv;function O2(){if(zv)return wl;zv=1,Object.defineProperty(wl,"__esModule",{value:!0});const e=ui,t=e.__importDefault(f_()),r=e.__importDefault(Hp());class n{constructor(o,{headers:i={},schema:a,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=c}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const i=new URL(`${this.url}/${o}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${o}`);let p;a||c?(f=a?"HEAD":"GET",Object.entries(i).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",p=i);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:b,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return wl.default=n,wl}Object.defineProperty(pt,"__esModule",{value:!0});var h_=pt.PostgrestError=S_=pt.PostgrestBuilder=b_=pt.PostgrestTransformBuilder=w_=pt.PostgrestFilterBuilder=v_=pt.PostgrestQueryBuilder=m_=pt.PostgrestClient=void 0;const di=ui,p_=di.__importDefault(O2());var m_=pt.PostgrestClient=p_.default;const g_=di.__importDefault(f_());var v_=pt.PostgrestQueryBuilder=g_.default;const y_=di.__importDefault(Hp());var w_=pt.PostgrestFilterBuilder=y_.default;const x_=di.__importDefault(d_());var b_=pt.PostgrestTransformBuilder=x_.default;const __=di.__importDefault(u_());var S_=pt.PostgrestBuilder=__.default;const E_=di.__importDefault(c_());h_=pt.PostgrestError=E_.default;var j_=pt.default={PostgrestClient:p_.default,PostgrestQueryBuilder:g_.default,PostgrestFilterBuilder:y_.default,PostgrestTransformBuilder:x_.default,PostgrestBuilder:__.default,PostgrestError:E_.default};const I2=By({__proto__:null,get PostgrestBuilder(){return S_},get PostgrestClient(){return m_},get PostgrestError(){return h_},get PostgrestFilterBuilder(){return w_},get PostgrestQueryBuilder(){return v_},get PostgrestTransformBuilder(){return b_},default:j_},[pt]),{PostgrestClient:M2,PostgrestQueryBuilder:OU,PostgrestFilterBuilder:IU,PostgrestTransformBuilder:MU,PostgrestBuilder:DU,PostgrestError:$U}=j_||I2;class D2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $2="2.84.0",L2=`realtime-js/${$2}`,C_="1.0.0",F2="2.0.0",Vv=C_,th=1e4,U2=1e3,B2=100;var hs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hs||(hs={}));var Ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ve||(Ve={}));var fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fr||(fr={}));var rh;(function(e){e.websocket="websocket"})(rh||(rh={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class z2{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,o;const i=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+u.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),b=0;p.setUint8(b++,this.KINDS.userBroadcastPush),p.setUint8(b++,c.length),p.setUint8(b++,a.length),p.setUint8(b++,i.length),p.setUint8(b++,u.length),p.setUint8(b++,this.BINARY_ENCODING),Array.from(c,v=>p.setUint8(b++,v.charCodeAt(0))),Array.from(a,v=>p.setUint8(b++,v.charCodeAt(0))),Array.from(i,v=>p.setUint8(b++,v.charCodeAt(0))),Array.from(u,v=>p.setUint8(b++,v.charCodeAt(0)));var g=new Uint8Array(m.byteLength+d.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(d),m.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,o;const i=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+u.length,b=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(b),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,c.length),g.setUint8(v++,a.length),g.setUint8(v++,i.length),g.setUint8(v++,u.length),g.setUint8(v++,this.JSON_ENCODING),Array.from(c,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(i,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(u,y=>g.setUint8(v++,y.charCodeAt(0)));var w=new Uint8Array(b.byteLength+m.byteLength);return w.set(new Uint8Array(b),0),w.set(new Uint8Array(m),b.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,c]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+i));c=c+i;const m=t.slice(c,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,b={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class k_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const Wv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=V2(i,e,t,s),o),{}):{}},V2=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?N_(o,i):nh(i)},N_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return K2(t,r)}switch(e){case je.bool:return W2(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return H2(t);case je.json:case je.jsonb:return q2(t);case je.timestamp:return G2(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return nh(t);default:return nh(t)}},nh=e=>e,W2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},K2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>N_(t,a))}return e},G2=e=>typeof e=="string"?e.replace(" ","T"):e,P_=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _d{constructor(t,r,n={},s=th){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hv||(Hv={}));class Ki{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ki.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Ki.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ki.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),b=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);b.length>0&&(a[u]=b),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...m)}n(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qv||(qv={}));var Gi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gi||(Gi={}));var Wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wr||(Wr={}));class qp{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _d(this,fr.join,this.params,this.timeout),this.rejoinTimer=new k_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ki(this),this.broadcastEndpointURL=P_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Gi.PRESENCE]&&this.bindings[Gi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Wr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Wr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(Wr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,w=[];for(let y=0;y<v;y++){const x=g[y],{filter:{event:_,schema:S,table:E,filter:j}}=x,k=p&&p[y];if(k&&k.event===_&&k.schema===S&&k.table===E&&k.filter===j)w.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=Ve.errored,t==null||t(Wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Wr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ve.errored,t==null||t(Wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ve.joined&&t===Gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _d(this,fr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _d(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>B2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=fr;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,g,v;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var b,g,v,w,y,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:g,table:v,commit_timestamp:w,type:y,errors:x}=b;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(b))}p.callback(m,n)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&qp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fr.close,{},t)}_onError(t){this._on(fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Wv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Wv(t.columns,t.old_record)),r}}const Sd=()=>{},jl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Y2=[1e3,2e3,5e3,1e4],Q2=1e4,J2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X2{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=th,this.transport=null,this.heartbeatIntervalMs=jl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sd,this.ref=0,this.reconnectTimer=null,this.vsn=Vv,this.logger=Sd,this.conn=null,this.sendBuffer=[],this.serializer=new z2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${rh.websocket}`,this.httpEndpoint=P_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hs.connecting:return ps.Connecting;case hs.open:return ps.Open;case hs.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new qp(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(U2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},jl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===hs.open||this.conn.readyState===hs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([J2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:L2};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(fr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new k_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,c,u,d,f,m,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:th,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:jl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Sd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Vv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>Y2[b-1]||Q2,this.vsn){case C_:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,g)=>g(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,g)=>g(JSON.parse(b));break;case F2:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Kp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z2 extends Kp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sh extends Kp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eI=()=>Response,oh=e=>{if(Array.isArray(e))return e.map(r=>oh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=oh(n)}),t},tI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ed=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},rI=(e,t,r)=>Q(void 0,void 0,void 0,function*(){const n=yield eI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new Z2(Ed(s),o,i))}).catch(s=>{t(new sh(Ed(s),s))}):t(new sh(Ed(e),e))}),nI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(tI(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Fa(e,t,r,n,s,o){return Q(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,nI(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>rI(c,a,n))})})}function wa(e,t,r,n){return Q(this,void 0,void 0,function*(){return Fa(e,"GET",t,r,n)})}function lr(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Fa(e,"POST",t,n,s,r)})}function ih(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Fa(e,"PUT",t,n,s,r)})}function sI(e,t,r,n){return Q(this,void 0,void 0,function*(){return Fa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Yp(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Fa(e,"DELETE",t,n,s,r)})}class oI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}})}}var T_;class iI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[T_]="BlobDownloadBuilder",this.promise=null}asStream(){return new oI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}})}}T_=Symbol.toStringTag;const aI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lI{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Q(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Kv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ih:lr)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Q(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Kv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ih(this.fetch,a.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield lr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Kp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}update(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield lr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Q(this,void 0,void 0,function*(){try{const s=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(t),c=()=>wa(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new iI(c,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:oh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}exists(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield sI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n)&&n instanceof sh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}list(t,r,n){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},aI),r),{prefix:t||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}listV2(t,r){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const R_="2.84.0",A_={"X-Client-Info":`storage-js/${R_}`};class cI{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A_),r),this.fetch=Gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield wa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createBucket(t){return Q(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class uI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A_),r),this.fetch=Gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield wa(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}const Qp={"X-Client-Info":`storage-js/${R_}`,"Content-Type":"application/json"};class O_ extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jd extends O_{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dI extends O_{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Gv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Gv||(Gv={}));const Jp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hI=(e,t,r)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new jd(Yv(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new jd(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new jd(a,s,i))}}else t(new dI(Yv(e),e))}),pI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(fI(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function mI(e,t,r,n,s,o){return Q(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,pI(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>hI(c,a,n))})})}function It(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return mI(e,"POST",t,n,s,r)})}class gI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qp),r),this.fetch=Jp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}}class vI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qp),r),this.fetch=Jp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}}class yI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qp),r),this.fetch=Jp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}}class wI extends yI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new xI(this.url,this.headers,t,this.fetch)}}class xI extends gI{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new bI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class bI extends vI{constructor(t,r,n,s,o){super(t,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class _I extends cI{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new lI(this.url,this.headers,t,this.fetch)}get vectors(){return new wI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uI(this.url+"/iceberg",this.headers,this.fetch)}}const SI="2.84.0";let Ii="";typeof Deno<"u"?Ii="deno":typeof document<"u"?Ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ii="react-native":Ii="node";const EI={"X-Client-Info":`supabase-js-${Ii}/${SI}`},jI={headers:EI},CI={schema:"public"},kI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NI={},PI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TI=()=>Headers,RI=(e,t,r)=>{const n=PI(r),s=TI();return async(o,i)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))}};function AI(e){return e.endsWith("/")?e:e+"/"}function OI(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function II(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const I_="2.84.0",oo=30*1e3,ah=3,Cd=ah*oo,MI="http://localhost:9999",DI="supabase.auth.token",$I={"X-Client-Info":`gotrue-js/${I_}`},lh="X-Supabase-Api-Version",M_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FI=10*60*1e3;class xa extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UI extends xa{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BI(e){return J(e)&&e.name==="AuthApiError"}class ms extends xa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zn extends xa{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pt extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zI(e){return J(e)&&e.name==="AuthSessionMissingError"}class Qs extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cl extends Zn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kl extends Zn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VI(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qv extends Zn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ch extends Zn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kd(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Jv extends Zn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class uh extends Zn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xv=` 	
\r=`.split(""),WI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xv.length;t+=1)e[Xv[t].charCodeAt(0)]=-2;for(let t=0;t<kc.length;t+=1)e[kc[t].charCodeAt(0)]=t;return e})();function Zv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kc[n]),t.queuedBits-=6}}function D_(e,t,r){const n=WI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ey(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{KI(i,n,r)};for(let i=0;i<e.length;i+=1)D_(e.charCodeAt(i),s,o);return t.join("")}function HI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}HI(n,t)}}function KI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ro(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)D_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function GI(e){const t=[];return qI(e,r=>t.push(r)),new Uint8Array(t)}function ws(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Zv(s,r,n)),Zv(null,r,n),t.join("")}function YI(e){return Math.round(Date.now()/1e3)+e}function QI(){return Symbol("auth-callback")}const Je=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},$_=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function JI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const L_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ls=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pn=async(e,t)=>{await e.removeItem(t)};class bu{constructor(){this.promise=new bu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bu.promiseConstructor=Promise;function Nd(e){const t=e.split(".");if(t.length!==3)throw new uh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!LI.test(t[n]))throw new uh("JWT not in base64url format");return{header:JSON.parse(ey(t[0])),payload:JSON.parse(ey(t[1])),signature:Ro(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eM(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function tM(e){return("0"+e.toString(16)).substr(-2)}function rM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,tM).join("")}async function nM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function sM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Js(e,t,r=!1){const n=rM();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await io(e,`${t}-code-verifier`,s);const o=await sM(n);return[o,n===o?"plain":"s256"]}const oM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iM(e){const t=e.headers.get(lh);if(!t||!t.match(oM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xs(e){if(!cM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uM(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function ty(e){return JSON.parse(JSON.stringify(e))}const ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dM=[502,503,504];async function ry(e){var t;if(!XI(e))throw new ch(ds(e),0);if(dM.includes(e.status))throw new ch(ds(e),e.status);let r;try{r=await e.json()}catch(o){throw new ms(ds(o),o)}let n;const s=iM(e);if(s&&s.getTime()>=M_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jv(ds(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Jv(ds(r),e.status,r.weak_password.reasons);throw new UI(ds(r),e.status||500,n)}const fM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[lh]||(o[lh]=M_["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await hM(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hM(e,t,r,n,s,o){const i=fM(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new ch(ds(c),0)}if(a.ok||await ry(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await ry(c)}}function sr(e){var t;let r=null;gM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ny(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _n(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pM(e){return{data:e,error:null}}function mM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Xn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function sy(e){return e}function gM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Td=["global","local","others"];class vM{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=L_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Td[0]){if(Td.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Td.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_n})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_n})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:sy});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xs(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_n})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xs(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_n})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xs(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_n})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xs(t.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xs(t.userId),Xs(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:sy});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}}function oy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zs={debug:!!(globalThis&&$_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yM extends F_{}async function wM(e,t,r){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function U_(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function bM(e){return parseInt(e,16)}function _M(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function SM(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=U_(e.address),b=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${b} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}w+=y}return`${v}
${w}`}class Ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Nc extends Ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function EM({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(B_(i)){if(o.rp.id!==i)return new Ue({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(B_(n)){if(r.rpId!==n)return new Ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class CM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kM=new CM;function NM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Xn(e,["challenge","user","excludeCredentials"]),o=Ro(t).buffer,i=Object.assign(Object.assign({},r),{id:Ro(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ro(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function PM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Xn(e,["challenge","allowCredentials"]),s=Ro(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Ro(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function TM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ws(new Uint8Array(e.response.attestationObject)),clientDataJSON:ws(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ws(new Uint8Array(s.authenticatorData)),clientDataJSON:ws(new Uint8Array(s.clientDataJSON)),signature:ws(new Uint8Array(s.signature)),userHandle:s.userHandle?ws(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function B_(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function iy(){var e,t;return!!(Je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nc("Browser returned unexpected credential type",t)}:{data:null,error:new Nc("Empty credential response",t)}}catch(t){return{data:null,error:EM({error:t,options:e})}}}async function OM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nc("Browser returned unexpected credential type",t)}:{data:null,error:new Nc("Empty credential response",t)}}catch(t){return{data:null,error:jM({error:t,options:e})}}}const IM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=Pc(a,i):n[o]=Pc(i)}else n[o]=i}return n}function DM(e,t){return Pc(IM,e,t||{})}function $M(e,t){return Pc(MM,e,t||{})}class LM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const c=s??kM.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=DM(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await AM({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=$M(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await OM(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return J(i)?{data:null,error:i}:{data:null,error:new ms("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new xa("rpId is required for WebAuthn authentication")};try{if(!iy())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return J(i)?{data:null,error:i}:{data:null,error:new ms("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new xa("rpId is required for WebAuthn registration")};try{if(!iy())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return J(i)?{data:null,error:i}:{data:null,error:new ms("Unexpected error in register",i)}}}}xM();const FM={url:MI,storageKey:DI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$I,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ay(e,t,r){return await r()}const eo={};class ba{get jwks(){var t,r;return(r=(t=eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},FM),t);if(this.storageKey=o.storageKey,this.instanceID=(r=ba.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ba.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Je()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new vM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=L_(o.fetch),this.lock=o.lock||ay,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=wM:this.lock=ay,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:$_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=oy(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I_}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Je()&&(r=JI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),VI(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?this._returnResult({error:r}):this._returnResult({error:new ms("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sr}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(J(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Js(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:sr})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sr})}else throw new Cl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(J(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ny})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ny})}else throw new Cl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Qs;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,c,u,d,f,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:g,wallet:v,statement:w,options:y}=t;let x;if(Je())if(typeof v=="object")x=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")x=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=U_(S[0]);let j=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await x.request({method:"eth_chainId"});j=bM(A)}const k={domain:_.host,address:E,statement:w,uri:_.href,version:"1",chainId:j,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=SM(k),b=await x.request({method:"personal_sign",params:[_M(p),E]})}try{const{data:g,error:v}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sr});if(v)throw v;if(!g||!g.session||!g.user){const w=new Qs;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(J(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,a,c,u,d,f,m,p;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:v,wallet:w,statement:y,options:x}=t;let _;if(Je())if(typeof w=="object")_=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:w}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ws(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sr});if(w)throw w;if(!v||!v.session||!v.user){const y=new Qs;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(J(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sr});if(await pn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Qs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(J(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sr}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Qs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Js(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Cl("You must provide either an email or phone number.")}catch(a){if(J(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:sr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Js(this.storage,this.storageKey));const u=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:pM});return!((o=u.data)===null||o===void 0)&&o.url&&Je()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(J(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pt;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(J(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Cl("You must provide either an email or phone number and a type")}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ls(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Pd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=uM(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_n}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:_n})})}catch(r){if(J(r))return zI(r)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Pt;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Js(this.storage,this.storageKey));const{data:u,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:_n});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(J(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Nd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(J(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Je())throw new kl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qv("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new kl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:g,error:v}=await this._getUser(o);if(v)throw v;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(J(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(BI(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=QI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Js(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(J(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(J(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:u,nonce:d}=t,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:sr}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Qs}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eM(async s=>(s>0&&await ZI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&kd(o)&&Date.now()+i-n<oo})}catch(n){if(this._debug(r,"error",n),J(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ls(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await io(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Pd()}else if(s&&!s.user&&!s.user){const i=await ls(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await pn(this.storage,this.storageKey+"-user"),await io(this.storage,this.storageKey,s)):s.user=Pd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Cd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),kd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Pt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),J(o)){const i={data:null,error:o};return kd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await io(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=ty(s);await io(this.storage,this.storageKey,o)}else{const s=ty(r);await io(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${oo}ms, refresh threshold is ${ah} ticks`),s<=ah&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Js(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?TM(t.webauthn.credential_response):RM(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:NM(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:PM(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nd(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Pt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Pt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(t){if(J(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Pt})})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+FI>s)return n;const{data:o,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=Nd(n);r!=null&&r.allowExpired||aM(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=lM(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,GI(`${a}.${c}`)))throw new uh("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}}ba.nextInstanceID={};const UM=ba;class BM extends UM{constructor(t){super(t)}}class zM{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const a=II(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:CI,realtime:NI,auth:Object.assign(Object.assign({},kI),{storageKey:c}),global:jI},d=OI(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=RI(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new M2(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new _I(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new A2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:c,debug:u,throwOnError:d},f,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BM({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new X2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VM=(e,t,r)=>new zM(e,t,r);function WM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HM="https://cykbjtdksxjexzgsshcc.supabase.co",qM="sb_publishable_4PPnMWBgpCF-2tU-gujy3g_2C0gs-KU",q=VM(HM,qM,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ly=(e,t,r)=>{const n=new Date;n.setTime(n.getTime()+r*24*60*60*1e3),document.cookie=`${e}=${t};expires=${n.toUTCString()};path=/`,console.log(` Cookie salvo: ${e}=${t}`)},cy=e=>{const t=e+"=",r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},z_=()=>{const[e]=La();return h.useEffect(()=>{const n=e.get("ref");if(n)console.log(` Cdigo de afiliado detectado na URL: ${n}`),localStorage.setItem("affiliate_ref",n),console.log(` Cdigo salvo no localStorage: ${n}`),ly("affiliate_ref",n,30),(async()=>{try{console.log(` Registrando clique para o afiliado: ${n}`);const{error:o}=await q.functions.invoke("affiliate-track",{body:{action:"click",affiliateCode:n}});o?console.error(" Erro ao registrar clique:",o):console.log(" Clique registrado com sucesso")}catch(o){console.error(" Erro ao chamar edge function:",o)}})(),console.log(` Captura completa do cdigo: ${n}`);else{const s=localStorage.getItem("affiliate_ref"),o=cy("affiliate_ref");(s||o)&&console.log(` Cdigo j salvo: localStorage=${s}, cookie=${o}`)}},[e]),{getStoredRefCode:()=>{const n=localStorage.getItem("affiliate_ref"),s=cy("affiliate_ref");return n||s},clearStoredRefCode:()=>{localStorage.removeItem("affiliate_ref"),ly("affiliate_ref","",-1),console.log(" Cdigo de afiliado removido do armazenamento")}}},Sr=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!0);return h.useEffect(()=>{q.auth.getSession().then(({data:{session:c}})=>{t((c==null?void 0:c.user)??null),n(!1)});const{data:{subscription:a}}=q.auth.onAuthStateChange((c,u)=>{t((u==null?void 0:u.user)??null),n(!1)});return()=>a.unsubscribe()},[]),{user:e,loading:r,signIn:async(a,c)=>{const{data:u,error:d}=await q.auth.signInWithPassword({email:a,password:c});return{data:u,error:d}},signUp:async(a,c)=>{const{data:u,error:d}=await q.auth.signUp({email:a,password:c});return{data:u,error:d}},signOut:async()=>{const{error:a}=await q.auth.signOut();return{error:a}}}},Ze=h.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ze.displayName="Input";const KM=({onSearch:e})=>{const[t,r]=h.useState(""),[n,s]=h.useState([]),[o,i]=h.useState(!1),[a,c]=h.useState(!1),u=Nt(),d=h.useRef(null);h.useEffect(()=>{const p=b=>{d.current&&!d.current.contains(b.target)&&c(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),h.useEffect(()=>{const b=setTimeout(async()=>{if(t.trim().length<2){s([]),c(!1);return}i(!0);try{const g=await fetch(`https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/search-media?query=${encodeURIComponent(t)}`);if(g.ok){const v=await g.json();s(v.results||[]),c(!0)}}catch(g){console.error("Error searching:",g)}finally{i(!1)}},300);return()=>clearTimeout(b)},[t]);const f=p=>{c(!1),r(""),p.type==="movie"?u(`/movie/${p.id}`):u(`/series/${p.id}`)},m=p=>{p.key==="Enter"&&t.trim()&&(e&&e(t),c(!1))};return l.jsxs("div",{ref:d,className:"relative w-full",children:[l.jsx(zP,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),l.jsx(Ze,{type:"text",placeholder:"Buscar...",value:t,onChange:p=>r(p.target.value),onKeyDown:m,onFocus:()=>t.trim().length>=2&&c(!0),className:"pl-8 sm:pl-9 pr-3 sm:pr-4 bg-secondary/50 border-border/50 text-sm h-9 sm:h-10"}),o&&l.jsx(qe,{className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"}),a&&n.length>0&&l.jsx("div",{className:"absolute top-full mt-2 w-full min-w-[280px] sm:min-w-[320px] bg-background border border-border rounded-md shadow-xl max-h-[60vh] sm:max-h-96 overflow-y-auto z-50",children:n.map(p=>l.jsxs("button",{onClick:()=>f(p),className:"w-full flex items-center gap-2 sm:gap-3 p-2 sm:p-3 hover:bg-secondary/50 transition-colors text-left border-b border-border/30 last:border-b-0",children:[l.jsx("img",{src:p.poster_url||"/placeholder.svg",alt:p.title,className:"w-10 h-14 sm:w-10 sm:h-14 object-cover rounded flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:p.title}),l.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:p.type==="movie"?"Filme":"Srie"})]})]},p.id))}),a&&!o&&t.trim().length>=2&&n.length===0&&l.jsx("div",{className:"absolute top-full mt-2 w-full min-w-[280px] bg-background border border-border rounded-md shadow-lg p-3 sm:p-4 z-50",children:l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center",children:"Nenhum resultado encontrado"})})]})};var GM=h.createContext(void 0);function Ua(e){const t=h.useContext(GM);return e||t||"ltr"}var Rd=0;function _u(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uy()),document.body.insertAdjacentElement("beforeend",e[1]??uy()),Rd++,()=>{Rd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rd--}},[])}function uy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ad="focusScope.autoFocusOnMount",Od="focusScope.autoFocusOnUnmount",dy={bubbles:!1,cancelable:!0},YM="FocusScope",Ba=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=kt(s),d=kt(o),f=h.useRef(null),m=oe(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(x){if(p.paused||!a)return;const _=x.target;a.contains(_)?f.current=_:vn(f.current,{select:!0})},v=function(x){if(p.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||vn(f.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&vn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[n,a,p.paused]),h.useEffect(()=>{if(a){hy.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Ad,dy);a.addEventListener(Ad,u),a.dispatchEvent(w),w.defaultPrevented||(QM(tD(V_(a)),{select:!0}),document.activeElement===g&&vn(a))}return()=>{a.removeEventListener(Ad,u),setTimeout(()=>{const w=new CustomEvent(Od,dy);a.addEventListener(Od,d),a.dispatchEvent(w),w.defaultPrevented||vn(g??document.body,{select:!0}),a.removeEventListener(Od,d),hy.remove(p)},0)}}},[a,u,d,p]);const b=h.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const y=g.currentTarget,[x,_]=JM(y);x&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&vn(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),r&&vn(_,{select:!0})):w===y&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(Z.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});Ba.displayName=YM;function QM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vn(n,{select:t}),document.activeElement!==r)return}function JM(e){const t=V_(e),r=fy(t,e),n=fy(t.reverse(),e);return[r,n]}function V_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fy(e,t){for(const r of e)if(!XM(r,{upTo:t}))return r}function XM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZM(e){return e instanceof HTMLInputElement&&"select"in e}function vn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ZM(e)&&t&&e.select()}}var hy=eD();function eD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=py(e,t),e.unshift(t)},remove(t){var r;e=py(e,t),(r=e[0])==null||r.resume()}}}function py(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function tD(e){return e.filter(t=>t.tagName!=="A")}var Id="rovingFocusGroup.onEntryFocus",rD={bubbles:!1,cancelable:!0},za="RovingFocusGroup",[dh,W_,nD]=eu(za),[sD,fi]=ct(za,[nD]),[oD,iD]=sD(za),H_=h.forwardRef((e,t)=>l.jsx(dh.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(dh.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(aD,{...e,ref:t})})}));H_.displayName=za;var aD=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=oe(t,m),b=Ua(o),[g,v]=wr({prop:i,defaultProp:a??null,onChange:c,caller:za}),[w,y]=h.useState(!1),x=kt(u),_=W_(r),S=h.useRef(!1),[E,j]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Id,x),()=>k.removeEventListener(Id,x)},[x]),l.jsx(oD,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(k=>v(k),[v]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>j(k=>k-1),[]),children:l.jsx(Z.div,{tabIndex:w||E===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:L(e.onMouseDown,()=>{S.current=!0}),onFocus:L(e.onFocus,k=>{const A=!S.current;if(k.target===k.currentTarget&&A&&!w){const C=new CustomEvent(Id,rD);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const N=_().filter(F=>F.focusable),R=N.find(F=>F.active),D=N.find(F=>F.id===g),G=[R,D,...N].filter(Boolean).map(F=>F.ref.current);G_(G,d)}}S.current=!1}),onBlur:L(e.onBlur,()=>y(!1))})})}),q_="RovingFocusGroupItem",K_=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=vr(),u=o||c,d=iD(q_,r),f=d.currentTabStopId===u,m=W_(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:g}=d;return h.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),l.jsx(dh.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(Z.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:L(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:L(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:L(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=uD(v,d.orientation,d.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const _=x.indexOf(v.currentTarget);x=d.loop?dD(x,_+1):x.slice(_+1)}setTimeout(()=>G_(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});K_.displayName=q_;var lD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cD(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uD(e,t,r){const n=cD(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lD[n]}function G_(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function dD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Xp=H_,Zp=K_,fD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},to=new WeakMap,Nl=new WeakMap,Pl={},Md=0,Y_=function(e){return e&&(e.host||Y_(e.parentNode))},hD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Y_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pD=function(e,t,r,n){var s=hD(t,Array.isArray(e)?e:[e]);Pl[r]||(Pl[r]=new WeakMap);var o=Pl[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(n),b=p!==null&&p!=="false",g=(to.get(m)||0)+1,v=(o.get(m)||0)+1;to.set(m,g),o.set(m,v),i.push(m),g===1&&b&&Nl.set(m,!0),v===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),a.clear(),Md++,function(){i.forEach(function(f){var m=to.get(f)-1,p=o.get(f)-1;to.set(f,m),o.set(f,p),m||(Nl.has(f)||f.removeAttribute(n),Nl.delete(f)),p||f.removeAttribute(r)}),Md--,Md||(to=new WeakMap,to=new WeakMap,Nl=new WeakMap,Pl={})}},Su=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=fD(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),pD(n,s,r,"aria-hidden")):function(){return null}},Kl="right-scroll-bar-position",Gl="width-before-scroll-bar",mD="with-scroll-bars-hidden",gD="--removed-body-scroll-bar-size";function Dd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vD(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var yD=typeof window<"u"?h.useLayoutEffect:h.useEffect,my=new WeakMap;function wD(e,t){var r=vD(null,function(n){return e.forEach(function(s){return Dd(s,n)})});return yD(function(){var n=my.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||Dd(a,null)}),o.forEach(function(a){s.has(a)||Dd(a,i)})}my.set(r,e)},[e]),r}function xD(e){return e}function bD(e,t){t===void 0&&(t=xD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function _D(e){e===void 0&&(e={});var t=bD(null);return t.options=qt({async:!0,ssr:!1},e),t}var Q_=function(e){var t=e.sideCar,r=Xn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,qt({},r))};Q_.isSideCarExport=!0;function SD(e,t){return e.useMedium(t),Q_}var J_=_D(),$d=function(){},Eu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:$d,onWheelCapture:$d,onTouchMoveCapture:$d}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,b=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,x=e.gapMode,_=Xn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,E=wD([r,t]),j=qt(qt({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:J_,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:x}),i?h.cloneElement(h.Children.only(a),qt(qt({},j),{ref:E})):h.createElement(y,qt({},j,{className:c,ref:E}),a))});Eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eu.classNames={fullWidth:Gl,zeroRight:Kl};var ED=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ED();return t&&e.setAttribute("nonce",t),e}function CD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ND=function(){var e=0,t=null;return{add:function(r){e==0&&(t=jD())&&(CD(t,r),kD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PD=function(){var e=ND();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},X_=function(){var e=PD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},TD={left:0,top:0,right:0,gap:0},Ld=function(e){return parseInt(e||"",10)||0},RD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ld(r),Ld(n),Ld(s)]},AD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TD;var t=RD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},OD=X_(),Ao="data-scroll-locked",ID=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Gl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(gD,": ").concat(a,`px;
  }
`)},gy=function(){var e=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(e)?e:0},MD=function(){h.useEffect(function(){return document.body.setAttribute(Ao,(gy()+1).toString()),function(){var e=gy()-1;e<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,e.toString())}},[])},DD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;MD();var o=h.useMemo(function(){return AD(s)},[s]);return h.createElement(OD,{styles:ID(o,!t,s,r?"":"!important")})},fh=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return fh=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{fh=!1}var ro=fh?{passive:!1}:!1,$D=function(e){return e.tagName==="TEXTAREA"},Z_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$D(e)&&r[t]==="visible")},LD=function(e){return Z_(e,"overflowY")},FD=function(e){return Z_(e,"overflowX")},vy=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=eS(e,n);if(s){var o=tS(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},BD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eS=function(e,t){return e==="v"?LD(t):FD(t)},tS=function(e,t){return e==="v"?UD(t):BD(t)},zD=function(e,t){return e==="h"&&t==="rtl"?-1:1},VD=function(e,t,r,n,s){var o=zD(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,f=0,m=0;do{if(!a)break;var p=tS(e,a),b=p[0],g=p[1],v=p[2],w=g-v-o*b;(b||w)&&eS(e,a)&&(f+=w,m+=b);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Rl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yy=function(e){return[e.deltaX,e.deltaY]},wy=function(e){return e&&"current"in e?e.current:e},WD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qD=0,no=[];function KD(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(qD++)[0],o=h.useState(X_)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Vp([e.lockRef.current],(e.shards||[]).map(wy),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Rl(g),y=r.current,x="deltaX"in g?g.deltaX:y[0]-w[0],_="deltaY"in g?g.deltaY:y[1]-w[1],S,E=g.target,j=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in g&&j==="h"&&E.type==="range")return!1;var k=vy(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=vy(j,E)),!k)return!1;if(!n.current&&"changedTouches"in g&&(x||_)&&(n.current=S),!S)return!0;var A=n.current||S;return VD(A,v,g,A==="h"?x:_)},[]),c=h.useCallback(function(g){var v=g;if(!(!no.length||no[no.length-1]!==o)){var w="deltaY"in v?yy(v):Rl(v),y=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&WD(S.delta,w)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var x=(i.current.shards||[]).map(wy).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=x.length>0?a(v,x[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=h.useCallback(function(g,v,w,y){var x={name:g,delta:v,target:w,should:y,shadowParent:GD(w)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=h.useCallback(function(g){r.current=Rl(g),n.current=void 0},[]),f=h.useCallback(function(g){u(g.type,yy(g),g.target,a(g,e.lockRef.current))},[]),m=h.useCallback(function(g){u(g.type,Rl(g),g.target,a(g,e.lockRef.current))},[]);h.useEffect(function(){return no.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ro),document.addEventListener("touchmove",c,ro),document.addEventListener("touchstart",d,ro),function(){no=no.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,ro),document.removeEventListener("touchmove",c,ro),document.removeEventListener("touchstart",d,ro)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:HD(s)}):null,p?h.createElement(DD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function GD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YD=SD(J_,KD);var Va=h.forwardRef(function(e,t){return h.createElement(Eu,qt({},e,{ref:t,sideCar:YD}))});Va.classNames=Eu.classNames;var hh=["Enter"," "],QD=["ArrowDown","PageUp","Home"],rS=["ArrowUp","PageDown","End"],JD=[...QD,...rS],XD={ltr:[...hh,"ArrowRight"],rtl:[...hh,"ArrowLeft"]},ZD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wa="Menu",[_a,e$,t$]=eu(Wa),[Vs,nS]=ct(Wa,[t$,Yn,fi]),ju=Yn(),sS=fi(),[r$,Ws]=Vs(Wa),[n$,Ha]=Vs(Wa),oS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=ju(t),[c,u]=h.useState(null),d=h.useRef(!1),f=kt(o),m=Ua(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),l.jsx(Op,{...a,children:l.jsx(r$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(n$,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};oS.displayName=Wa;var s$="MenuAnchor",em=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ju(r);return l.jsx($a,{...s,...n,ref:t})});em.displayName=s$;var tm="MenuPortal",[o$,iS]=Vs(tm,{forceMount:void 0}),aS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Ws(tm,t);return l.jsx(o$,{scope:t,forceMount:r,children:l.jsx(yt,{present:r||o.open,children:l.jsx(si,{asChild:!0,container:s,children:n})})})};aS.displayName=tm;var Yt="MenuContent",[i$,rm]=Vs(Yt),lS=h.forwardRef((e,t)=>{const r=iS(Yt,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ws(Yt,e.__scopeMenu),i=Ha(Yt,e.__scopeMenu);return l.jsx(_a.Provider,{scope:e.__scopeMenu,children:l.jsx(yt,{present:n||o.open,children:l.jsx(_a.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(a$,{...s,ref:t}):l.jsx(l$,{...s,ref:t})})})})}),a$=h.forwardRef((e,t)=>{const r=Ws(Yt,e.__scopeMenu),n=h.useRef(null),s=oe(t,n);return h.useEffect(()=>{const o=n.current;if(o)return Su(o)},[]),l.jsx(nm,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),l$=h.forwardRef((e,t)=>{const r=Ws(Yt,e.__scopeMenu);return l.jsx(nm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),c$=Os("MenuContent.ScrollLock"),nm=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:b,...g}=e,v=Ws(Yt,r),w=Ha(Yt,r),y=ju(r),x=sS(r),_=e$(r),[S,E]=h.useState(null),j=h.useRef(null),k=oe(t,j,v.onContentChange),A=h.useRef(0),C=h.useRef(""),N=h.useRef(0),R=h.useRef(null),D=h.useRef("right"),M=h.useRef(0),G=b?Va:h.Fragment,F=b?{as:c$,allowPinchZoom:!0}:void 0,Y=P=>{var B,pe;const I=C.current+P,V=_().filter(me=>!me.disabled),z=document.activeElement,ee=(B=V.find(me=>me.ref.current===z))==null?void 0:B.textValue,W=V.map(me=>me.textValue),le=b$(W,I,ee),ve=(pe=V.find(me=>me.textValue===le))==null?void 0:pe.ref.current;(function me(de){C.current=de,window.clearTimeout(A.current),de!==""&&(A.current=window.setTimeout(()=>me(""),1e3))})(I),ve&&setTimeout(()=>ve.focus())};h.useEffect(()=>()=>window.clearTimeout(A.current),[]),_u();const T=h.useCallback(P=>{var V,z;return D.current===((V=R.current)==null?void 0:V.side)&&S$(P,(z=R.current)==null?void 0:z.area)},[]);return l.jsx(i$,{scope:r,searchRef:C,onItemEnter:h.useCallback(P=>{T(P)&&P.preventDefault()},[T]),onItemLeave:h.useCallback(P=>{var I;T(P)||((I=j.current)==null||I.focus(),E(null))},[T]),onTriggerLeave:h.useCallback(P=>{T(P)&&P.preventDefault()},[T]),pointerGraceTimerRef:N,onPointerGraceIntentChange:h.useCallback(P=>{R.current=P},[]),children:l.jsx(G,{...F,children:l.jsx(Ba,{asChild:!0,trapped:s,onMountAutoFocus:L(o,P=>{var I;P.preventDefault(),(I=j.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(zs,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:l.jsx(Xp,{asChild:!0,...x,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:L(c,P=>{w.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(hu,{role:"menu","aria-orientation":"vertical","data-state":ES(v.open),"data-radix-menu-content":"",dir:w.dir,...y,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:L(g.onKeyDown,P=>{const V=P.target.closest("[data-radix-menu-content]")===P.currentTarget,z=P.ctrlKey||P.altKey||P.metaKey,ee=P.key.length===1;V&&(P.key==="Tab"&&P.preventDefault(),!z&&ee&&Y(P.key));const W=j.current;if(P.target!==W||!JD.includes(P.key))return;P.preventDefault();const ve=_().filter(B=>!B.disabled).map(B=>B.ref.current);rS.includes(P.key)&&ve.reverse(),w$(ve)}),onBlur:L(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(A.current),C.current="")}),onPointerMove:L(e.onPointerMove,Sa(P=>{const I=P.target,V=M.current!==P.clientX;if(P.currentTarget.contains(I)&&V){const z=P.clientX>M.current?"right":"left";D.current=z,M.current=P.clientX}}))})})})})})})});lS.displayName=Yt;var u$="MenuGroup",sm=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Z.div,{role:"group",...n,ref:t})});sm.displayName=u$;var d$="MenuLabel",cS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Z.div,{...n,ref:t})});cS.displayName=d$;var Tc="MenuItem",xy="menu.itemSelect",Cu=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=Ha(Tc,e.__scopeMenu),a=rm(Tc,e.__scopeMenu),c=oe(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const m=new CustomEvent(xy,{bubbles:!0,cancelable:!0});f.addEventListener(xy,p=>n==null?void 0:n(p),{once:!0}),gp(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(uS,{...s,ref:c,disabled:r,onClick:L(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:L(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:L(e.onKeyDown,f=>{const m=a.searchRef.current!=="";r||m&&f.key===" "||hh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Cu.displayName=Tc;var uS=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=rm(Tc,r),a=sS(r),c=h.useRef(null),u=oe(t,c),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[o.children]),l.jsx(_a.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:l.jsx(Zp,{asChild:!0,...a,focusable:!n,children:l.jsx(Z.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:L(e.onPointerMove,Sa(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:L(e.onPointerLeave,Sa(b=>i.onItemLeave(b))),onFocus:L(e.onFocus,()=>f(!0)),onBlur:L(e.onBlur,()=>f(!1))})})})}),f$="MenuCheckboxItem",dS=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(gS,{scope:e.__scopeMenu,checked:r,children:l.jsx(Cu,{role:"menuitemcheckbox","aria-checked":Rc(r)?"mixed":r,...s,ref:t,"data-state":im(r),onSelect:L(s.onSelect,()=>n==null?void 0:n(Rc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dS.displayName=f$;var fS="MenuRadioGroup",[h$,p$]=Vs(fS,{value:void 0,onValueChange:()=>{}}),hS=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=kt(n);return l.jsx(h$,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx(sm,{...s,ref:t})})});hS.displayName=fS;var pS="MenuRadioItem",mS=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=p$(pS,e.__scopeMenu),o=r===s.value;return l.jsx(gS,{scope:e.__scopeMenu,checked:o,children:l.jsx(Cu,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":im(o),onSelect:L(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});mS.displayName=pS;var om="MenuItemIndicator",[gS,m$]=Vs(om,{checked:!1}),vS=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=m$(om,r);return l.jsx(yt,{present:n||Rc(o.checked)||o.checked===!0,children:l.jsx(Z.span,{...s,ref:t,"data-state":im(o.checked)})})});vS.displayName=om;var g$="MenuSeparator",yS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Z.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});yS.displayName=g$;var v$="MenuArrow",wS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ju(r);return l.jsx(pu,{...s,...n,ref:t})});wS.displayName=v$;var y$="MenuSub",[LU,xS]=Vs(y$),Mi="MenuSubTrigger",bS=h.forwardRef((e,t)=>{const r=Ws(Mi,e.__scopeMenu),n=Ha(Mi,e.__scopeMenu),s=xS(Mi,e.__scopeMenu),o=rm(Mi,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(em,{asChild:!0,...u,children:l.jsx(uS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":ES(r.open),...e,ref:Ia(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:L(e.onPointerMove,Sa(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:L(e.onPointerLeave,Sa(f=>{var p,b;d();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(b=r.content)==null?void 0:b.dataset.side,v=g==="right",w=v?-5:5,y=m[v?"left":"right"],x=m[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:L(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||XD[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});bS.displayName=Mi;var _S="MenuSubContent",SS=h.forwardRef((e,t)=>{const r=iS(Yt,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ws(Yt,e.__scopeMenu),i=Ha(Yt,e.__scopeMenu),a=xS(_S,e.__scopeMenu),c=h.useRef(null),u=oe(t,c);return l.jsx(_a.Provider,{scope:e.__scopeMenu,children:l.jsx(yt,{present:n||o.open,children:l.jsx(_a.Slot,{scope:e.__scopeMenu,children:l.jsx(nm,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:L(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:L(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:L(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=ZD[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});SS.displayName=_S;function ES(e){return e?"open":"closed"}function Rc(e){return e==="indeterminate"}function im(e){return Rc(e)?"indeterminate":e?"checked":"unchecked"}function w$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function x$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function b$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=x$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _$(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function S$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _$(r,t)}function Sa(e){return t=>t.pointerType==="mouse"?e(t):void 0}var E$=oS,j$=em,C$=aS,k$=lS,N$=sm,P$=cS,T$=Cu,R$=dS,A$=hS,O$=mS,I$=vS,M$=yS,D$=wS,$$=bS,L$=SS,ku="DropdownMenu",[F$]=ct(ku,[nS]),wt=nS(),[U$,jS]=F$(ku),CS=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=wt(t),u=h.useRef(null),[d,f]=wr({prop:s,defaultProp:o??!1,onChange:i,caller:ku});return l.jsx(U$,{scope:t,triggerId:vr(),triggerRef:u,contentId:vr(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(E$,{...c,open:d,onOpenChange:f,dir:n,modal:a,children:r})})};CS.displayName=ku;var kS="DropdownMenuTrigger",NS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=jS(kS,r),i=wt(r);return l.jsx(j$,{asChild:!0,...i,children:l.jsx(Z.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ia(t,o.triggerRef),onPointerDown:L(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:L(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});NS.displayName=kS;var B$="DropdownMenuPortal",PS=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wt(t);return l.jsx(C$,{...n,...r})};PS.displayName=B$;var TS="DropdownMenuContent",RS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jS(TS,r),o=wt(r),i=h.useRef(!1);return l.jsx(k$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:L(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:L(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RS.displayName=TS;var z$="DropdownMenuGroup",V$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(N$,{...s,...n,ref:t})});V$.displayName=z$;var W$="DropdownMenuLabel",AS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(P$,{...s,...n,ref:t})});AS.displayName=W$;var H$="DropdownMenuItem",OS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(T$,{...s,...n,ref:t})});OS.displayName=H$;var q$="DropdownMenuCheckboxItem",IS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(R$,{...s,...n,ref:t})});IS.displayName=q$;var K$="DropdownMenuRadioGroup",G$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(A$,{...s,...n,ref:t})});G$.displayName=K$;var Y$="DropdownMenuRadioItem",MS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(O$,{...s,...n,ref:t})});MS.displayName=Y$;var Q$="DropdownMenuItemIndicator",DS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(I$,{...s,...n,ref:t})});DS.displayName=Q$;var J$="DropdownMenuSeparator",$S=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(M$,{...s,...n,ref:t})});$S.displayName=J$;var X$="DropdownMenuArrow",Z$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(D$,{...s,...n,ref:t})});Z$.displayName=X$;var eL="DropdownMenuSubTrigger",LS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx($$,{...s,...n,ref:t})});LS.displayName=eL;var tL="DropdownMenuSubContent",FS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wt(r);return l.jsx(L$,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FS.displayName=tL;var rL=CS,nL=NS,sL=PS,US=RS,BS=AS,zS=OS,VS=IS,WS=MS,HS=DS,qS=$S,KS=LS,GS=FS;const oL=rL,iL=nL,aL=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(KS,{ref:s,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(xp,{className:"ml-auto h-4 w-4"})]}));aL.displayName=KS.displayName;const lL=h.forwardRef(({className:e,...t},r)=>l.jsx(GS,{ref:r,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));lL.displayName=GS.displayName;const YS=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(sL,{children:l.jsx(US,{ref:n,sideOffset:t,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));YS.displayName=US.displayName;const ao=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(zS,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ao.displayName=zS.displayName;const cL=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(VS,{ref:s,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(HS,{children:l.jsx(fa,{className:"h-4 w-4"})})}),t]}));cL.displayName=VS.displayName;const uL=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(WS,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(HS,{children:l.jsx(O0,{className:"h-2 w-2 fill-current"})})}),t]}));uL.displayName=WS.displayName;const dL=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(BS,{ref:n,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));dL.displayName=BS.displayName;const QS=h.forwardRef(({className:e,...t},r)=>l.jsx(qS,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));QS.displayName=qS.displayName;var fL=Symbol.for("react.lazy"),Ac=Lc[" use ".trim().toString()];function hL(e){return typeof e=="object"&&e!==null&&"then"in e}function JS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===fL&&"_payload"in e&&hL(e._payload)}function XS(e){const t=mL(e),r=h.forwardRef((n,s)=>{let{children:o,...i}=n;JS(o)&&typeof Ac=="function"&&(o=Ac(o._payload));const a=h.Children.toArray(o),c=a.find(vL);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var pL=XS("Slot");function mL(e){const t=h.forwardRef((r,n)=>{let{children:s,...o}=r;if(JS(s)&&typeof Ac=="function"&&(s=Ac(s._payload)),h.isValidElement(s)){const i=wL(s),a=yL(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Ia(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gL=Symbol("radix.slottable");function vL(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gL}function yL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function wL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const am=nu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?pL:"button";return l.jsx(i,{className:K(am({variant:t,size:r,className:e})),ref:o,...s})});te.displayName="Button";const lm=()=>{const{user:e}=Sr(),[t,r]=h.useState(!1),[n,s]=h.useState(null),[o,i]=h.useState(!0),[a,c]=h.useState(!1),[u,d]=h.useState(30),[f,m]=h.useState(19.9);h.useEffect(()=>{if(!e){i(!1);return}p(),b();const v=q.channel("profile-vip-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${e.id}`},y=>{const x=y.new;r(x.is_vip),s(x.vip_expires_at)}).subscribe(),w=q.channel("vip-settings-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"vip_settings"},y=>{const x=y.new;c(x.test_payment_enabled),d(x.vip_duration_days||30),m(x.vip_price||19.9)}).subscribe();return()=>{q.removeChannel(v),q.removeChannel(w)}},[e]);const p=async()=>{if(e)try{const{data:v,error:w}=await q.from("profiles").select("is_vip, vip_expires_at").eq("id",e.id).single();if(w)throw w;v.is_vip&&v.vip_expires_at&&new Date(v.vip_expires_at)<new Date?(await q.from("profiles").update({is_vip:!1}).eq("id",e.id),r(!1),s(null),X.info("Seu plano VIP expirou")):(r(v.is_vip),s(v.vip_expires_at))}catch(v){console.error("Error loading VIP status:",v)}finally{i(!1)}},b=async()=>{try{const{data:v,error:w}=await q.from("vip_settings").select("test_payment_enabled, vip_duration_days, vip_price").single();if(w)throw w;c(v.test_payment_enabled),d(v.vip_duration_days||30),m(v.vip_price||19.9)}catch(v){console.error("Error loading VIP settings:",v)}};return{isVip:t,vipExpiresAt:n,loading:o,testPaymentEnabled:a,vipDurationDays:u,vipPrice:f,activateVip:async()=>{var v;if(!e){X.error("Voc precisa estar logado");return}try{const{data:w,error:y}=await q.functions.invoke("vip-activate",{headers:{Authorization:`Bearer ${(v=(await q.auth.getSession()).data.session)==null?void 0:v.access_token}`}});if(y)throw y;if(w.error){X.error(w.error);return}X.success("VIP ativado com sucesso! Voc est livre de anncios por 30 dias."),await p()}catch(w){console.error("Error activating VIP:",w),X.error("Erro ao ativar VIP")}},refreshVipStatus:p}},_r=({onSearch:e})=>{const t=Jn(),r=Nt(),{user:n,signOut:s}=Sr(),{isVip:o}=lm(),i=c=>t.pathname===c,a=async()=>{const{error:c}=await s();c?X.error("Erro ao fazer logout"):(X.success("Logout realizado com sucesso"),r("/"))};return l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 glass-blur border-b border-border/50",children:l.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 h-14 sm:h-16 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-8",children:[l.jsx(Kr,{to:"/",className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-lg sm:text-2xl font-bold",children:["Prime",l.jsx("span",{className:"text-primary",children:"Vcio"})]})}),l.jsxs("nav",{className:"hidden md:flex items-center gap-4 lg:gap-6",children:[l.jsx(Kr,{to:"/",className:`text-sm font-medium transition-colors hover:text-primary ${i("/")?"text-primary":"text-foreground/80"}`,children:"Incio"}),l.jsx(Kr,{to:"/movies",className:`text-sm font-medium transition-colors hover:text-primary ${i("/movies")?"text-primary":"text-foreground/80"}`,children:"Filmes"}),l.jsx(Kr,{to:"/series",className:`text-sm font-medium transition-colors hover:text-primary ${i("/series")?"text-primary":"text-foreground/80"}`,children:"Sries"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsx("div",{className:"w-full max-w-[200px] sm:max-w-xs md:block",children:l.jsx(KM,{onSearch:e})}),l.jsx(Kr,{to:"/favorites",className:"p-2 hover:text-primary transition-colors",children:l.jsx(ou,{className:"h-5 w-5"})}),n?l.jsxs(oL,{children:[l.jsx(iL,{asChild:!0,children:l.jsx(te,{variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10",children:l.jsx(YP,{className:"h-5 w-5"})})}),l.jsxs(YS,{align:"end",className:"w-56",children:[l.jsx(ao,{disabled:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground truncate",children:n.email})}),l.jsx(QS,{}),l.jsxs(ao,{onClick:()=>r("/vip"),children:[l.jsx($r,{className:`mr-2 h-4 w-4 ${o?"text-primary":""}`}),"Plano VIP"]}),l.jsxs(ao,{onClick:()=>r("/profile"),children:[l.jsx(D0,{className:"mr-2 h-4 w-4"}),"Perfil"]}),l.jsxs(ao,{onClick:()=>r("/admin"),children:[l.jsx($f,{className:"mr-2 h-4 w-4"}),"Painel Admin"]}),l.jsxs(ao,{onClick:a,children:[l.jsx(_p,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]}):l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>r("/login"),className:"hidden sm:inline-flex",children:"Entrar"})]})]})})},xL=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},bL=()=>{const[e,t]=h.useState(0),[r,n]=h.useState(!1),[s,o]=h.useState([]);h.useEffect(()=>{i()},[]),h.useEffect(()=>{if(s.length===0)return;const d=setInterval(()=>{n(!0),setTimeout(()=>{t(f=>(f+1)%s.length),n(!1)},500)},6e3);return()=>clearInterval(d)},[s.length]);const i=async()=>{try{const{data:d,error:f}=await q.from("media_items").select("*").eq("published",!0).eq("type","movie");if(f)throw f;if(d&&d.length>0){const m=d.map(b=>({id:b.id,title:b.title,synopsis:b.synopsis||"Sem descrio disponvel.",poster_url:b.poster_url,cover:b.poster_url||"/placeholder.svg",rating:0,year:new Date().getFullYear(),duration:"120 min",genre:["Drama","Ao"]})),p=xL(m);o(p.slice(0,5))}}catch(d){console.error("Error fetching featured movies:",d)}},a=()=>{n(!0),setTimeout(()=>{t(d=>(d-1+s.length)%s.length),n(!1)},500)},c=()=>{n(!0),setTimeout(()=>{t(d=>(d+1)%s.length),n(!1)},500)},u=s[e];return s.length===0?null:l.jsxs("div",{className:"relative w-full overflow-hidden bg-background py-6 md:py-8 lg:py-12",children:[l.jsx("div",{className:"container mx-auto px-4 md:px-8",children:l.jsxs("div",{className:"flex flex-col-reverse lg:grid lg:grid-cols-2 gap-6 md:gap-8 lg:gap-12 items-center max-w-7xl mx-auto",children:[l.jsxs("div",{className:`space-y-3 md:space-y-4 lg:space-y-6 z-10 transition-all duration-1000 text-center lg:text-left ${r?"opacity-0 translate-y-4 lg:translate-y-0 lg:translate-x-[-50px]":"opacity-100 translate-y-0 lg:translate-x-0"}`,children:[l.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-foreground leading-tight",children:u.title}),l.jsx("p",{className:"text-sm md:text-base lg:text-lg text-muted-foreground line-clamp-3 md:line-clamp-4 leading-relaxed",children:u.synopsis}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-2 md:gap-3 text-xs md:text-sm",children:[l.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2 px-2.5 py-1.5 md:px-4 md:py-2 bg-primary rounded-lg text-primary-foreground font-semibold shadow-lg",children:[" ",u.rating]}),l.jsx("span",{className:"text-foreground font-medium",children:u.year}),l.jsx("span",{className:"text-foreground",children:u.duration}),l.jsx("span",{className:"text-muted-foreground hidden sm:inline",children:u.genre.slice(0,3).join("  ")})]}),l.jsxs("div",{className:"flex justify-center lg:justify-start gap-2 md:gap-3 pt-2",children:[l.jsxs(te,{size:"lg",className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold shadow-xl text-sm md:text-base",children:[l.jsx(iu,{className:"h-4 w-4 md:h-5 md:w-5 fill-current"}),l.jsx("span",{className:"hidden sm:inline",children:"Assistir Agora"}),l.jsx("span",{className:"sm:hidden",children:"Assistir"})]}),l.jsx(Kr,{to:`/movie/${u.id}`,children:l.jsxs(te,{size:"lg",variant:"secondary",className:"gap-2 font-semibold shadow-xl text-sm md:text-base",children:[l.jsx(UP,{className:"h-4 w-4 md:h-5 md:w-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Mais Informaes"}),l.jsx("span",{className:"sm:hidden",children:"Info"})]})})]})]}),l.jsx("div",{className:"relative w-full max-w-[180px] sm:max-w-[240px] lg:max-w-[280px] mx-auto",children:l.jsx("div",{className:"relative w-full",style:{aspectRatio:"9/16"},children:s.map((d,f)=>l.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${f===e?"opacity-100":"opacity-0"}`,children:l.jsx("img",{src:d.cover,alt:d.title,className:`w-full h-full object-cover rounded-xl shadow-2xl transition-transform duration-[8000ms] ${f===e&&!r?"scale-105":"scale-100"}`})},d.id))})})]})}),l.jsxs("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 flex justify-between items-center px-2 md:px-4 z-20 pointer-events-none",children:[l.jsx("button",{onClick:a,className:"p-2 md:p-2.5 rounded-full bg-background/80 backdrop-blur-md hover:bg-background transition-all duration-300 hover:scale-110 border border-border pointer-events-auto",children:l.jsx(A0,{className:"h-4 w-4 md:h-6 md:w-6 text-foreground"})}),l.jsx("button",{onClick:c,className:"p-2 md:p-2.5 rounded-full bg-background/80 backdrop-blur-md hover:bg-background transition-all duration-300 hover:scale-110 border border-border pointer-events-auto",children:l.jsx(xp,{className:"h-4 w-4 md:h-6 md:w-6 text-foreground"})})]}),l.jsx("div",{className:"absolute bottom-2 md:bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:s.map((d,f)=>l.jsx("button",{onClick:()=>{n(!0),setTimeout(()=>{t(f),n(!1)},500)},className:`h-1 rounded-full transition-all duration-300 ${f===e?"w-8 md:w-10 bg-primary shadow-lg shadow-primary/50":"w-4 md:w-6 bg-muted hover:bg-muted-foreground/50"}`},f))})]})},Ea=({id:e,title:t,cover:r,rating:n,year:s,type:o})=>{const[i,a]=h.useState(!1);h.useEffect(()=>{const u=JSON.parse(localStorage.getItem("favorites")||"[]");a(u.some(d=>d.id===e&&d.type===o))},[e,o]);const c=u=>{u.preventDefault(),u.stopPropagation();const d=JSON.parse(localStorage.getItem("favorites")||"[]"),f=d.findIndex(m=>m.id===e&&m.type===o);f>=0?d.splice(f,1):d.push({id:e,title:t,cover:r,rating:n,year:s,type:o}),localStorage.setItem("favorites",JSON.stringify(d)),a(!i)};return l.jsx(Kr,{to:`/${o}/${e}`,className:"group/card relative block overflow-hidden rounded-xl",children:l.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden rounded-xl shadow-lg",children:[l.jsx("img",{src:r,alt:t,className:"h-full w-full object-cover transition-transform duration-500 ease-out group-hover/card:scale-110"}),l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover/card:opacity-100 transition-all duration-500 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"transform translate-y-4 group-hover/card:translate-y-0 transition-transform duration-500",children:l.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-primary rounded-full text-white font-semibold text-sm mb-4 hover:scale-110 transition-transform duration-300 shadow-xl",children:[l.jsx(iu,{className:"h-4 w-4 fill-current"}),"Assistir"]})}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-2 group-hover/card:translate-y-0 transition-transform duration-500",children:[l.jsx("h3",{className:"text-sm font-semibold text-white mb-2 line-clamp-2",children:t}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("span",{className:"px-2 py-1 bg-primary/90 rounded-md text-white font-medium",children:[" ",n]}),l.jsx("span",{className:"text-gray-300",children:s})]})]})]}),l.jsx("button",{onClick:c,className:"absolute top-3 right-3 p-2 rounded-full bg-black/70 backdrop-blur-sm opacity-0 group-hover/card:opacity-100 transition-all duration-300 hover:bg-black/90 hover:scale-110 z-10",children:l.jsx(ou,{className:`h-4 w-4 transition-colors ${i?"fill-primary text-primary":"text-white"}`})})]})})},Fd=({title:e,items:t,type:r,onSeeMore:n})=>{const s=h.useRef(null),[o,i]=h.useState(!1),[a,c]=h.useState(!1),u=f=>{if(s.current){const p=f==="left"?s.current.scrollLeft-400:s.current.scrollLeft+400;s.current.scrollTo({left:p,behavior:"smooth"})}},d=()=>{if(s.current){const{scrollLeft:f,scrollWidth:m,clientWidth:p}=s.current;i(f>0),c(f<m-p-10)}};return h.useEffect(()=>{const f=()=>{d()},m=setTimeout(f,100);return window.addEventListener("resize",f),()=>{clearTimeout(m),window.removeEventListener("resize",f)}},[t]),l.jsxs("div",{className:"py-4 sm:py-6",children:[l.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6",children:l.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[l.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold",children:e}),n&&l.jsxs(te,{variant:"ghost",size:"sm",onClick:n,className:"gap-1 sm:gap-2 text-primary hover:text-primary/80 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:["Ver mais",l.jsx(PP,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})}),l.jsxs("div",{className:"relative group lg:px-6",children:[l.jsx("div",{ref:s,onScroll:d,className:"flex gap-3 sm:gap-4 overflow-x-auto scrollbar-hide scroll-smooth pb-3 sm:pb-4 px-3 sm:px-4 lg:px-0 snap-x snap-mandatory",children:t.map(f=>l.jsx("div",{className:"flex-none w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px] snap-start",children:l.jsx(Ea,{id:f.id,title:f.title,cover:f.cover,rating:f.rating,year:f.year,type:r})},f.id))}),o&&l.jsx("button",{onClick:()=>u("left"),className:"absolute left-2 sm:left-4 lg:left-2 top-1/2 -translate-y-1/2 z-10 p-2 sm:p-2.5 bg-background/60 backdrop-blur-sm rounded-full opacity-90 hover:opacity-100 hover:bg-background/80 transition-all duration-300 hover:scale-110 border border-border/50","aria-label":"Anterior",children:l.jsx(A0,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-foreground"})}),a&&l.jsx("button",{onClick:()=>u("right"),className:"absolute right-2 sm:right-4 lg:right-2 top-1/2 -translate-y-1/2 z-10 p-2 sm:p-2.5 bg-background/60 backdrop-blur-sm rounded-full opacity-90 hover:opacity-100 hover:bg-background/80 transition-all duration-300 hover:scale-110 border border-border/50","aria-label":"Prximo",children:l.jsx(xp,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-foreground"})})]})]})},_L=[{title:"Ao",genreId:28},{title:"Aventura",genreId:12},{title:"Comdia",genreId:35},{title:"Terror",genreId:27},{title:"Drama",genreId:18},{title:"Fico Cientfica",genreId:878},{title:"Romance",genreId:10749},{title:"Animao",genreId:16},{title:"Documentrio",genreId:99}],by=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},SL=()=>{const e=Nt(),[t,r]=h.useState([]),[n,s]=h.useState([]),[o,i]=h.useState([]),[a,c]=h.useState(!0);h.useEffect(()=>{u(),d()},[]);const u=async()=>{try{const{data:f,error:m}=await q.from("media_items").select("*").eq("published",!0).order("created_at",{ascending:!1});if(m)throw m;if(f){const p=f.map(v=>({...v,cover:v.poster_url||"/placeholder.svg",year:new Date().getFullYear(),rating:0})),b=p.filter(v=>v.type==="movie"),g=p.filter(v=>v.type==="series");r(b),s(g)}}catch(f){console.error("Error fetching items:",f)}finally{c(!1)}},d=async()=>{try{const f="https://cykbjtdksxjexzgsshcc.supabase.co",m=await Promise.all(_L.map(async p=>{try{const b=await fetch(`${f}/functions/v1/genre-movies?genreId=${p.genreId}`);if(!b.ok)return console.error(`Failed to fetch ${p.title}:`,b.status),{title:p.title,genreId:p.genreId,items:[]};const v=(await b.json()).movies||[];return{title:p.title,genreId:p.genreId,items:by(v)}}catch(b){return console.error(`Error fetching ${p.title}:`,b),{title:p.title,genreId:p.genreId,items:[]}}}));i(by(m))}catch(f){console.error("Error fetching genre categories:",f)}};return a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsxs("main",{className:"pt-14 sm:pt-16",children:[l.jsx(bL,{}),l.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 py-4 sm:py-6 lg:py-8",children:[t.length>0&&l.jsx(Fd,{title:"Filmes",items:t,type:"movie",onSeeMore:()=>e("/movies")}),n.length>0&&l.jsx(Fd,{title:"Sries",items:n,type:"series",onSeeMore:()=>e("/series")}),o.map(f=>f.items.length>0&&l.jsx(Fd,{title:f.title,items:f.items,type:"movie",onSeeMore:()=>e(`/movies?genre=${f.genreId}`)},f.genreId)),t.length===0&&n.length===0&&o.length===0&&l.jsx("div",{className:"container mx-auto px-3 sm:px-4 text-center py-12 sm:py-16 lg:py-20",children:l.jsx("p",{className:"text-muted-foreground text-base sm:text-lg",children:"Nenhum contedo publicado ainda."})})]})]})]})};var Nu="Popover",[ZS]=ct(Nu,[Yn]),qa=Yn(),[EL,es]=ZS(Nu),e1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=qa(t),c=h.useRef(null),[u,d]=h.useState(!1),[f,m]=wr({prop:n,defaultProp:s??!1,onChange:o,caller:Nu});return l.jsx(Op,{...a,children:l.jsx(EL,{scope:t,contentId:vr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};e1.displayName=Nu;var t1="PopoverAnchor",jL=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=es(t1,r),o=qa(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx($a,{...o,...n,ref:t})});jL.displayName=t1;var r1="PopoverTrigger",n1=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=es(r1,r),o=qa(r),i=oe(t,s.triggerRef),a=l.jsx(Z.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":l1(s.open),...n,ref:i,onClick:L(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx($a,{asChild:!0,...o,children:a})});n1.displayName=r1;var cm="PopoverPortal",[CL,kL]=ZS(cm,{forceMount:void 0}),s1=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=es(cm,t);return l.jsx(CL,{scope:t,forceMount:r,children:l.jsx(yt,{present:r||o.open,children:l.jsx(si,{asChild:!0,container:s,children:n})})})};s1.displayName=cm;var ei="PopoverContent",o1=h.forwardRef((e,t)=>{const r=kL(ei,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=es(ei,e.__scopePopover);return l.jsx(yt,{present:n||o.open,children:o.modal?l.jsx(PL,{...s,ref:t}):l.jsx(TL,{...s,ref:t})})});o1.displayName=ei;var NL=Os("PopoverContent.RemoveScroll"),PL=h.forwardRef((e,t)=>{const r=es(ei,e.__scopePopover),n=h.useRef(null),s=oe(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return Su(i)},[]),l.jsx(Va,{as:NL,allowPinchZoom:!0,children:l.jsx(i1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:L(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),TL=h.forwardRef((e,t)=>{const r=es(ei,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(i1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),i1=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=es(ei,r),p=qa(r);return _u(),l.jsx(Ba,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(zs,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(hu,{"data-state":l1(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),a1="PopoverClose",RL=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=es(a1,r);return l.jsx(Z.button,{type:"button",...n,ref:t,onClick:L(e.onClick,()=>s.onOpenChange(!1))})});RL.displayName=a1;var AL="PopoverArrow",OL=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qa(r);return l.jsx(pu,{...s,...n,ref:t})});OL.displayName=AL;function l1(e){return e?"open":"closed"}var IL=e1,ML=n1,DL=s1,c1=o1;const $L=IL,LL=ML,u1=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(DL,{children:l.jsx(c1,{ref:s,align:t,sideOffset:r,className:K("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));u1.displayName=c1.displayName;function Pu(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tu="Checkbox",[FL]=ct(Tu),[UL,um]=FL(Tu);function BL(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=wr({prop:r,defaultProp:s??!1,onChange:c,caller:Tu}),[b,g]=h.useState(null),[v,w]=h.useState(null),y=h.useRef(!1),x=b?!!i||!!b.closest("form"):!0,_={checked:m,disabled:o,setChecked:p,control:b,setControl:g,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Bn(s)?!1:s,isFormControl:x,bubbleInput:v,setBubbleInput:w};return l.jsx(UL,{scope:t,..._,children:zL(f)?f(_):n})}var d1="CheckboxTrigger",f1=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:b}=um(d1,e),g=oe(s,d),v=h.useRef(c);return h.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const y=()=>f(v.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[o,f]),l.jsx(Z.button,{type:"button",role:"checkbox","aria-checked":Bn(c)?"mixed":c,"aria-required":u,"data-state":v1(c),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:g,onKeyDown:L(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:L(r,w=>{f(y=>Bn(y)?!0:!y),b&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});f1.displayName=d1;var dm=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(BL,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(f1,{...f,ref:t,__scopeCheckbox:r}),m&&l.jsx(g1,{__scopeCheckbox:r})]})})});dm.displayName=Tu;var h1="CheckboxIndicator",p1=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=um(h1,r);return l.jsx(yt,{present:n||Bn(o.checked)||o.checked===!0,children:l.jsx(Z.span,{"data-state":v1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});p1.displayName=h1;var m1="CheckboxBubbleInput",g1=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=um(m1,e),b=oe(r,p),g=Pu(o),v=fu(n);h.useEffect(()=>{const y=m;if(!y)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,E=!s.current;if(g!==o&&S){const j=new Event("click",{bubbles:E});y.indeterminate=Bn(o),S.call(y,Bn(o)?!1:o),y.dispatchEvent(j)}},[m,g,o,s]);const w=h.useRef(Bn(o)?!1:o);return l.jsx(Z.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:a,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});g1.displayName=m1;function zL(e){return typeof e=="function"}function Bn(e){return e==="indeterminate"}function v1(e){return Bn(e)?"indeterminate":e?"checked":"unchecked"}const y1=h.forwardRef(({className:e,...t},r)=>l.jsx(dm,{ref:r,className:K("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(p1,{className:K("flex items-center justify-center text-current"),children:l.jsx(fa,{className:"h-4 w-4"})})}));y1.displayName=dm.displayName;const VL=nu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qt({className:e,variant:t,...r}){return l.jsx("div",{className:K(VL({variant:t}),e),...r})}function w1({availableGenres:e,selectedGenres:t,onGenreToggle:r,onClearFilters:n,onShuffle:s}){const[o,i]=h.useState(!1);return l.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center mb-4 sm:mb-6 flex-wrap",children:[l.jsxs($L,{open:o,onOpenChange:i,children:[l.jsx(LL,{asChild:!0,children:l.jsxs(te,{variant:"outline",className:"gap-2 text-xs sm:text-sm h-8 sm:h-10",children:[l.jsx(LP,{className:"h-3 w-3 sm:h-4 sm:w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Filtros"}),t.length>0&&l.jsx(Qt,{variant:"secondary",className:"ml-1 text-xs",children:t.length})]})}),l.jsx(u1,{className:"w-[280px] sm:w-80 max-h-[60vh] sm:max-h-96 overflow-y-auto",align:"start",children:l.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Gneros"}),t.length>0&&l.jsx(te,{variant:"ghost",size:"sm",onClick:n,className:"h-auto p-1 text-xs",children:"Limpar"})]}),l.jsx("div",{className:"space-y-2",children:e.map(a=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y1,{id:`genre-${a.id}`,checked:t.includes(a.id),onCheckedChange:()=>r(a.id)}),l.jsx("label",{htmlFor:`genre-${a.id}`,className:"text-xs sm:text-sm cursor-pointer flex-1",children:a.name})]},a.id))})]})})]}),l.jsxs(te,{variant:"outline",onClick:s,className:"gap-2 text-xs sm:text-sm h-8 sm:h-10",children:[l.jsx(WP,{className:"h-3 w-3 sm:h-4 sm:w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Embaralhar"})]})]})}const WL=()=>{const[e]=La(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState([]),[a,c]=h.useState(20),[u,d]=h.useState([]),[f,m]=h.useState("");h.useEffect(()=>{p()},[]),h.useEffect(()=>{const S=e.get("genre");if(S){const E=parseInt(S);!isNaN(E)&&!o.includes(E)&&i([E])}},[e]);const p=async()=>{try{const S=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/media-with-genres?type=movie");if(!S.ok)throw new Error("Failed to fetch movies");const E=await S.json();r(E.items||[]),d(E.genres||[])}catch(S){console.error("Error fetching movies:",S)}finally{s(!1)}},b=S=>{i(E=>E.includes(S)?E.filter(j=>j!==S):[...E,S])},g=()=>{i([])},v=()=>{r(S=>[...S].sort(()=>Math.random()-.5))},w=S=>{m(S)},y=o.length>0?t.filter(S=>{var E;return(E=S.genres)==null?void 0:E.some(j=>o.includes(j))}):t,x=f.trim()?y.filter(S=>S.title.toLowerCase().includes(f.toLowerCase())):y,_=x.slice(0,a);return h.useEffect(()=>{const S=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-500&&c(E=>Math.min(E+20,x.length))};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[x.length]),h.useEffect(()=>{c(20)},[o]),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{onSearch:w}),l.jsx("main",{className:"pt-20 sm:pt-24 pb-6 sm:pb-12",children:l.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-6 sm:mb-8 text-center sm:text-left",children:"Filmes"}),t.length>0?l.jsxs(l.Fragment,{children:[l.jsx(w1,{availableGenres:u,selectedGenres:o,onGenreToggle:b,onClearFilters:g,onShuffle:v}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:_.map(S=>l.jsx(Ea,{id:S.id,title:S.title,cover:S.cover,rating:S.rating,year:S.year,type:"movie"},S.id))}),a<x.length&&l.jsx("div",{className:"text-center mt-6 sm:mt-8",children:l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Carregando mais filmes..."})})]}):l.jsx("div",{className:"text-center py-16 sm:py-20",children:l.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground",children:f?"Nenhum filme encontrado com esse termo de busca.":"Nenhum filme publicado ainda."})})]})})]})},HL=()=>{const[e]=La(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState([]),[a,c]=h.useState(20),[u,d]=h.useState([]),[f,m]=h.useState("");h.useEffect(()=>{p()},[]),h.useEffect(()=>{const S=e.get("genre");if(S){const E=parseInt(S);!isNaN(E)&&!o.includes(E)&&i([E])}},[e]);const p=async()=>{try{const S=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/media-with-genres?type=series");if(!S.ok)throw new Error("Failed to fetch series");const E=await S.json();r(E.items||[]),d(E.genres||[])}catch(S){console.error("Error fetching series:",S)}finally{s(!1)}},b=S=>{i(E=>E.includes(S)?E.filter(j=>j!==S):[...E,S])},g=()=>{i([])},v=()=>{r(S=>[...S].sort(()=>Math.random()-.5))},w=S=>{m(S)},y=o.length>0?t.filter(S=>{var E;return(E=S.genres)==null?void 0:E.some(j=>o.includes(j))}):t,x=f.trim()?y.filter(S=>S.title.toLowerCase().includes(f.toLowerCase())):y,_=x.slice(0,a);return h.useEffect(()=>{const S=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-500&&c(E=>Math.min(E+20,x.length))};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[x.length]),h.useEffect(()=>{c(20)},[o]),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{onSearch:w}),l.jsx("main",{className:"pt-20 sm:pt-24 pb-6 sm:pb-12",children:l.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-6 sm:mb-8 text-center sm:text-left",children:"Sries"}),t.length>0?l.jsxs(l.Fragment,{children:[l.jsx(w1,{availableGenres:u,selectedGenres:o,onGenreToggle:b,onClearFilters:g,onShuffle:v}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:_.map(S=>l.jsx(Ea,{id:S.id,title:S.title,cover:S.cover,rating:S.rating,year:S.year,type:"series"},S.id))}),a<x.length&&l.jsx("div",{className:"text-center mt-6 sm:mt-8",children:l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Carregando mais sries..."})})]}):l.jsx("div",{className:"text-center py-16 sm:py-20",children:l.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground",children:f?"Nenhuma srie encontrada com esse termo de busca.":"Nenhuma srie publicada ainda."})})]})})]})},qL=()=>{const[e,t]=h.useState([]),{movies:r,series:n}=h.useMemo(()=>({movies:e.filter(s=>s.type==="movie"),series:e.filter(s=>s.type==="series")}),[e]);return h.useEffect(()=>{const s=()=>{const i=JSON.parse(localStorage.getItem("favorites")||"[]");t(i)};s(),window.addEventListener("storage",s);const o=setInterval(s,1e3);return()=>{window.removeEventListener("storage",s),clearInterval(o)}},[]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsx("main",{className:"pt-24 pb-12",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Favoritos"}),e.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Voc ainda no tem favoritos"}),l.jsx("p",{className:"text-muted-foreground",children:"Adicione filmes e sries aos favoritos clicando no cone de corao"})]}):l.jsxs("div",{className:"space-y-12",children:[r.length>0&&l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Filmes"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:r.map(s=>l.jsx(Ea,{id:s.id,title:s.title,cover:s.cover,rating:s.rating,year:s.year,type:s.type},`${s.type}-${s.id}`))})]}),n.length>0&&l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Sries"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:n.map(s=>l.jsx(Ea,{id:s.id,title:s.title,cover:s.cover,rating:s.rating,year:s.year,type:s.type},`${s.type}-${s.id}`))})]})]})]})})]})},_y=["doubleclick.net","googlesyndication.com","adservice.google.com","advertising.com","popup.com","popads.net","popcash.net","propellerads.com","adsterra.com","exoclick.com","clickadu.com","hilltopads.net","trafficjunky.com","trafficstars.com","ero-advertising.com","juicyads.com","plugrush.com","ads.php","ad.php","banner.php","click.php","popup.php","otieu.com","www.otieu.com"],x1=()=>{h.useEffect(()=>{const e=window.open;window.open=function(...n){var i;const s=((i=n[0])==null?void 0:i.toString())||"";return _y.some(a=>s.includes(a))?(console.log(" Popup bloqueado:",s),null):e.apply(window,n)};const t=n=>(n.preventDefault(),n.returnValue="",""),r=n=>{const o=n.target.closest("a");o&&o.href&&_y.some(a=>o.href.includes(a))&&(n.preventDefault(),n.stopPropagation(),console.log(" Redirecionamento bloqueado:",o.href))};return document.addEventListener("click",r,!0),window.addEventListener("beforeunload",t),()=>{window.open=e,document.removeEventListener("click",r,!0),window.removeEventListener("beforeunload",t)}},[])},Ka=()=>{const{user:e}=Sr(),[t,r]=h.useState("one_per_40min"),[n,s]=h.useState(null),[o,i]=h.useState([]),[a,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState(0),[p,b]=h.useState(!1);h.useEffect(()=>{if(!e){c(!1);return}console.log(" useAdSystem: Carregando configuraes para user:",e.id),v(),w(),g()},[e==null?void 0:e.id]);const g=async()=>{try{const{data:C,error:N}=await q.from("ad_settings").select("interval_minutes, ads_required_for_free_time, free_time_hours").maybeSingle();C&&!N?d(C):N&&console.error("Error loading ad settings:",N)}catch(C){console.error("Error loading ad settings:",C)}},v=async()=>{if(!e){c(!1);return}try{console.log(" Carregando preferncias do usurio:",e.id);const{data:C,error:N}=await q.from("profiles").select("ad_preference, ad_free_until, ads_watched_count, is_vip, vip_expires_at").eq("id",e.id).maybeSingle();if(N){console.error(" Erro ao carregar preferncias:",N),c(!1);return}if(C){const R=C.ad_preference||"one_per_40min";if(console.log(" Preferncia carregada do banco:",R,"ad_free_until:",C.ad_free_until,"ads_watched:",C.ads_watched_count,"is_vip:",C.is_vip),r(R),s(C.ad_free_until?new Date(C.ad_free_until):null),m(C.ads_watched_count||0),C.is_vip&&C.vip_expires_at){const D=new Date(C.vip_expires_at);b(D>new Date)}else b(!1)}else console.warn(" Perfil no encontrado para o usurio:",e.id)}catch(C){console.error(" Exceo ao carregar preferncias:",C)}finally{c(!1)}},w=async()=>{const{data:C,error:N}=await q.from("ad_urls").select("id, url").eq("is_active",!0).limit(5);C&&!N&&i(C)},y=async C=>{if(!e)return console.error(" Usurio no autenticado"),{error:"Usurio no autenticado"};try{console.log(" Iniciando salvamento - Preferncia:",C,"User ID:",e.id);const{error:N}=await q.from("profiles").upsert({id:e.id,email:e.email,ad_preference:C,ads_watched_count:0},{onConflict:"id"});if(N)return console.error(" Erro ao salvar preferncia:",N),{error:N.message};console.log(" Preferncia salva no banco"),r(C),m(0);const{data:R,error:D}=await q.from("profiles").select("ad_preference").eq("id",e.id).maybeSingle();return!D&&R&&console.log(" Verificao aps salvar:",R.ad_preference),{error:null}}catch(N){return console.error(" Exceo ao atualizar preferncia:",N),{error:N.message||"Erro desconhecido"}}},x=async()=>{if(!e)return{error:"Usurio no autenticado"};const C=f+1,{error:N}=await q.from("profiles").upsert({id:e.id,email:e.email,ads_watched_count:C},{onConflict:"id"});return N?console.error(" Erro ao salvar progresso:",N):(m(C),console.log(" Progresso salvo:",C)),{error:N,newCount:C}},_=async C=>{const N=(u==null?void 0:u.ads_required_for_free_time)||5;if(console.log(" watchFiveAds chamado:",{adsWatched:C,requiredAds:N,user:!!e}),C>=N&&e){const R=(u==null?void 0:u.free_time_hours)||24,D=new Date;D.setHours(D.getHours()+R),console.log(" Salvando ad_free_until:",D.toISOString());const{error:M}=await q.from("profiles").upsert({id:e.id,email:e.email,ad_free_until:D.toISOString(),ads_watched_count:0},{onConflict:"id"});if(M)console.error(" Erro ao salvar ad_free_until:",M);else{console.log(" ad_free_until salvo com sucesso"),s(D),m(0);try{const{data:G}=await q.from("affiliate_settings").select("daily_ads_reward").maybeSingle();G&&await q.functions.invoke("affiliate-track",{body:{action:"conversion",userId:e.id,conversionType:"daily_ads",amount:G.daily_ads_reward}})}catch(G){console.error(" Erro ao registrar comisso de anncios:",G)}}return{error:M}}return{error:null}},S=async C=>{if(!e)return{error:"Usurio no autenticado"};const N=new Date;N.setMinutes(N.getMinutes()+C);const{error:R}=await q.from("profiles").upsert({id:e.id,email:e.email,ad_free_until:N.toISOString()},{onConflict:"id"});if(!R){s(N);try{const{data:D}=await q.from("affiliate_settings").select("per_ad_reward").maybeSingle();D&&await q.functions.invoke("affiliate-track",{body:{action:"conversion",userId:e.id,conversionType:"per_ad",amount:D.per_ad_reward}})}catch(D){console.error(" Erro ao registrar comisso de anncio por tempo:",D)}}return{error:R}},E=()=>p?!0:n?new Date<n:!1,j=()=>{if(!n||!E())return null;const C=new Date,N=n.getTime()-C.getTime(),R=Math.floor(N/(1e3*60*60)),D=Math.floor(N%(1e3*60*60)/(1e3*60));return{hours:R,minutes:D}},k=()=>t!=="five_at_once"||E()?0:(u==null?void 0:u.ads_required_for_free_time)||5;return{adPreference:t,adFreeUntil:n,adUrls:o,loading:a,adSettings:u,adsWatchedCount:f,isVip:p,updateAdPreference:y,incrementAdsWatched:x,watchFiveAds:_,grantAdFreeTime:S,isAdFree:E,getRemainingAdFreeTime:j,getAdsRemainingCount:k,needsToCompleteAds:()=>p?!1:t==="five_at_once"&&!E()&&k()>0}},b1=()=>{const{user:e}=Sr(),{adPreference:t,adUrls:r,isAdFree:n}=Ka(),[s,o]=h.useState(!1),[i,a]=h.useState(""),[c,u]=h.useState(!1),[d,f]=h.useState(null),m=h.useRef(null),p=h.useRef(0),b=h.useRef(0),g=h.useRef(null),v="ad_playback_state";h.useEffect(()=>{x(),w()},[]);const w=()=>{try{const A=localStorage.getItem(v);if(A){const C=JSON.parse(A);p.current=C.accumulatedTime||0,b.current=C.lastCheckTime||Date.now()}}catch(A){console.error("Error loading saved state:",A)}},y=()=>{try{localStorage.setItem(v,JSON.stringify({accumulatedTime:p.current,lastCheckTime:b.current}))}catch(A){console.error("Error saving state:",A)}},x=async()=>{try{const{data:A,error:C}=await q.from("ad_settings").select("*").single();A&&!C&&f(A)}catch(A){console.error("Error loading ad settings:",A)}},_=()=>d?d.interval_minutes*60*1e3:40*60*1e3,S=()=>{if(console.log(" Iniciando playback",{isAdFree:n(),adPreference:t,hasSettings:!!d,user:!!e}),!e){console.log(" Usurio no autenticado, no verifica anncios"),u(!0);return}if(n()){console.log(" Usurio est livre de anncios - no inicia tracking"),u(!0);return}t==="one_per_40min"?(m.current||(m.current=Date.now()),b.current=Date.now(),u(!0),console.log(" Cronmetro iniciado - modo one_per_40min",{accumulated:p.current,intervalMs:d!=null&&d.interval_minutes?d.interval_minutes*60*1e3:"no carregado"})):(console.log(" Modo five_at_once - no inicia tracking automtico"),u(!0))},E=()=>{if(m.current){const A=Date.now()-b.current;p.current+=A,b.current=Date.now(),y()}u(!1)},j=()=>{m.current=null,p.current=0,b.current=0,u(!1),localStorage.removeItem(v)};return h.useEffect(()=>{if(g.current&&(clearInterval(g.current),g.current=null),console.log(" useAdPlayback - Verificando condies:",{isPlaying:c,user:!!e,adPreference:t,isAdFree:n(),intervalMinutes:d==null?void 0:d.interval_minutes}),!c||!d||!e){console.log(" Verificao pausada - isPlaying:",c,"hasSettings:",!!d,"hasUser:",!!e);return}if(n()){console.log(" Usurio livre de anncios - no verifica");return}if(t!=="one_per_40min"){console.log(' Preferncia  "'+t+'", no mostra anncios peridicos');return}const A=_();return console.log(" Iniciando verificao de anncios - intervalMs:",A,"intervalMinutes:",d.interval_minutes),g.current=setInterval(()=>{var R;if(n()){console.log(" Usurio agora est livre de anncios - parando tracking"),g.current&&(clearInterval(g.current),g.current=null);return}const C=Date.now()-b.current,N=p.current+C;if(console.log(" Check:",{elapsed:Math.floor(C/1e3)+"s",accumulated:Math.floor(p.current/1e3)+"s",total:Math.floor(N/1e3)+"s",required:Math.floor(A/1e3)+"s",remaining:Math.floor((A-N)/1e3)+"s"}),N>=A){console.log(" Tempo atingido! Mostrando anncio");const D=d.redirect_url||((R=r[Math.floor(Math.random()*r.length)])==null?void 0:R.url);D?(a(D),o(!0),E(),y()):console.error(" Nenhuma URL de anncio disponvel")}else Math.floor(N/1e4)!==Math.floor((N-1e3)/1e4)&&y()},1e3),()=>{g.current&&(clearInterval(g.current),g.current=null)}},[c,n,t,r,d,e]),{showAdPopup:s,currentAdUrl:i,startPlayback:S,pausePlayback:E,resetPlayback:j,handleAdWatched:async()=>{console.log(" Anncio assistido, reiniciando cronmetro"),o(!1),p.current=0,m.current=Date.now(),b.current=Date.now(),y(),u(!0),console.log(" Cronmetro resetado, novo ciclo iniciado")},adSettings:d}};var Ru="Dialog",[_1,S1]=ct(Ru),[KL,Er]=_1(Ru),E1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u,d]=wr({prop:n,defaultProp:s??!1,onChange:o,caller:Ru});return l.jsx(KL,{scope:t,triggerRef:a,contentRef:c,contentId:vr(),titleId:vr(),descriptionId:vr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};E1.displayName=Ru;var j1="DialogTrigger",C1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(j1,r),o=oe(t,s.triggerRef);return l.jsx(Z.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pm(s.open),...n,ref:o,onClick:L(e.onClick,s.onOpenToggle)})});C1.displayName=j1;var fm="DialogPortal",[GL,k1]=_1(fm,{forceMount:void 0}),N1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Er(fm,t);return l.jsx(GL,{scope:t,forceMount:r,children:h.Children.map(n,i=>l.jsx(yt,{present:r||o.open,children:l.jsx(si,{asChild:!0,container:s,children:i})}))})};N1.displayName=fm;var Oc="DialogOverlay",P1=h.forwardRef((e,t)=>{const r=k1(Oc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Er(Oc,e.__scopeDialog);return o.modal?l.jsx(yt,{present:n||o.open,children:l.jsx(QL,{...s,ref:t})}):null});P1.displayName=Oc;var YL=Os("DialogOverlay.RemoveScroll"),QL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(Oc,r);return l.jsx(Va,{as:YL,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Z.div,{"data-state":pm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ms="DialogContent",T1=h.forwardRef((e,t)=>{const r=k1(Ms,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Er(Ms,e.__scopeDialog);return l.jsx(yt,{present:n||o.open,children:o.modal?l.jsx(JL,{...s,ref:t}):l.jsx(XL,{...s,ref:t})})});T1.displayName=Ms;var JL=h.forwardRef((e,t)=>{const r=Er(Ms,e.__scopeDialog),n=h.useRef(null),s=oe(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Su(o)},[]),l.jsx(R1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault())})}),XL=h.forwardRef((e,t)=>{const r=Er(Ms,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(R1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),R1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Er(Ms,r),c=h.useRef(null),u=oe(t,c);return _u(),l.jsxs(l.Fragment,{children:[l.jsx(Ba,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(zs,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pm(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(e4,{titleId:a.titleId}),l.jsx(r4,{contentRef:c,descriptionId:a.descriptionId})]})]})}),hm="DialogTitle",A1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(hm,r);return l.jsx(Z.h2,{id:s.titleId,...n,ref:t})});A1.displayName=hm;var O1="DialogDescription",I1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(O1,r);return l.jsx(Z.p,{id:s.descriptionId,...n,ref:t})});I1.displayName=O1;var M1="DialogClose",D1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(M1,r);return l.jsx(Z.button,{type:"button",...n,ref:t,onClick:L(e.onClick,()=>s.onOpenChange(!1))})});D1.displayName=M1;function pm(e){return e?"open":"closed"}var $1="DialogTitleWarning",[ZL,L1]=$N($1,{contentName:Ms,titleName:hm,docsSlug:"dialog"}),e4=({titleId:e})=>{const t=L1($1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},t4="DialogDescriptionWarning",r4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L1(t4).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},F1=E1,n4=C1,U1=N1,mm=P1,gm=T1,vm=A1,ym=I1,wm=D1;const Ga=F1,s4=U1,B1=h.forwardRef(({className:e,...t},r)=>l.jsx(mm,{ref:r,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));B1.displayName=mm.displayName;const hi=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(s4,{children:[l.jsx(B1,{}),l.jsxs(gm,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(wm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(au,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hi.displayName=gm.displayName;const pi=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pi.displayName="DialogHeader";const z1=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});z1.displayName="DialogFooter";const mi=h.forwardRef(({className:e,...t},r)=>l.jsx(vm,{ref:r,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));mi.displayName=vm.displayName;const gi=h.forwardRef(({className:e,...t},r)=>l.jsx(ym,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));gi.displayName=ym.displayName;const V1=({open:e,adUrl:t,onAdWatched:r,adPreference:n="one_per_40min",intervalMinutes:s=40,freeTimeHours:o=24})=>{const i=()=>{window.open(t,"_blank"),r()},a=()=>n==="five_at_once"?`Aps assistir aos anncios, voc ter ${o}h livres sem interrupes.`:`Abra o anncio para continuar assistindo. Prximo anncio daqui a ${s} minutos.`;return l.jsx(Ga,{open:e,onOpenChange:()=>{},children:l.jsxs(hi,{className:"sm:max-w-[400px]",onPointerDownOutside:c=>c.preventDefault(),children:[l.jsxs(pi,{children:[l.jsx(mi,{children:"Momento do anncio"}),l.jsx(gi,{children:"Assista a um anncio para continuar"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:a()}),l.jsxs(te,{onClick:i,className:"w-full",children:[l.jsx(bp,{className:"mr-2 h-4 w-4"}),"Abrir anncio"]})]})]})})},W1=({open:e,adsRemaining:t,totalRequired:r,adUrls:n,onComplete:s,onClose:o})=>{const i=Nt(),{adsWatchedCount:a,incrementAdsWatched:c,watchFiveAds:u}=Ka(),d=async()=>{if(a<r&&n.length>0){const p=a%n.length;window.open(n[p].url,"_blank");const b=await c();!b.error&&b.newCount&&b.newCount>=r&&(await u(r),s())}},f=()=>{o(),i("/profile")},m=r-a;return l.jsx(Ga,{open:e,onOpenChange:o,children:l.jsxs(hi,{className:"sm:max-w-[450px]",onPointerDownOutside:p=>p.preventDefault(),children:[l.jsxs(pi,{children:[l.jsxs(mi,{className:"flex items-center gap-2",children:[l.jsx(RP,{className:"h-5 w-5 text-warning"}),"Anncios obrigatrios pendentes"]}),l.jsx(gi,{children:"Complete os anncios para liberar acesso sem interrupes"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[l.jsxs("p",{className:"text-sm text-foreground mb-2",children:["Voc ainda no completou os ",l.jsxs("span",{className:"font-semibold",children:[r," anncios necessrios"]})," para liberar 24h sem anncios."]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conclua os anncios ou altere sua preferncia no perfil."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Progresso:"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[a," de ",r," anncios"]})]}),l.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${a/r*100}%`}})}),m>0&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Faltam ",m," anncios"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(te,{onClick:d,className:"w-full",disabled:a>=r,children:[l.jsx(bp,{className:"mr-2 h-4 w-4"}),m>0?`Assistir anncio (${m} restantes)`:"Todos os anncios assistidos"]}),l.jsx(te,{onClick:f,variant:"outline",className:"w-full",children:"Trocar de opo"})]})]})]})})},o4=()=>{const{id:e}=Ob(),[t,r]=h.useState(null),[n,s]=h.useState(!1),[o,i]=h.useState(!0),[a,c]=h.useState(!1),u=h.useRef(null);x1();const{showAdPopup:d,currentAdUrl:f,startPlayback:m,pausePlayback:p,handleAdWatched:b,adSettings:g}=b1(),{adPreference:v,needsToCompleteAds:w,getAdsRemainingCount:y,adUrls:x,adSettings:_,watchFiveAds:S}=Ka(),[E,j]=h.useState(!1);h.useEffect(()=>{var N,R;if(d&&a){if(p(),u.current)try{(N=u.current.contentWindow)==null||N.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),(R=u.current.contentWindow)==null||R.postMessage(JSON.stringify({method:"pause"}),"*")}catch{console.log("No foi possvel pausar via postMessage")}}else!d&&a&&m()},[d,a]),h.useEffect(()=>{k()},[e]);const k=async()=>{if(e){i(!0);try{const{data:N,error:R}=await q.from("media_items").select("*").eq("id",e).eq("type","movie").eq("published",!0).single();if(R)throw R;if(r(N),N){const D=JSON.parse(localStorage.getItem("favorites")||"[]");s(D.some(M=>M.id===N.id&&M.type==="movie"))}}catch(N){console.error("Error fetching movie:",N),r(null)}finally{i(!1)}}};if(o)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-primary",children:"Carregando..."})});if(!t)return l.jsx(Lb,{to:"/movies"});const A=()=>{const N=JSON.parse(localStorage.getItem("favorites")||"[]"),R=N.findIndex(D=>D.id===t.id&&D.type==="movie");R>=0?N.splice(R,1):N.push({id:t.id,title:t.title,cover:t.poster_url,type:"movie"}),localStorage.setItem("favorites",JSON.stringify(N)),s(!n)},C=()=>t?`https://primevicio.lat/embed/movie/${t.tmdb_id}`:null;return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsxs("main",{className:"pt-14 sm:pt-16",children:[l.jsxs("div",{className:"relative h-[40vh] sm:h-[50vh] lg:h-[60vh] w-full overflow-hidden",children:[l.jsx("img",{src:t.poster_url||"/placeholder.svg",alt:t.title,className:"h-full w-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),l.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 -mt-24 sm:-mt-32 lg:-mt-40 relative z-10",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 lg:gap-8",children:[l.jsx("div",{className:"flex-shrink-0 mx-auto md:mx-0",children:l.jsx("img",{src:t.poster_url||"/placeholder.svg",alt:t.title,className:"w-40 sm:w-48 md:w-56 lg:w-64 rounded-lg shadow-2xl"})}),l.jsxs("div",{className:"flex-1 space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4 text-center md:text-left",children:t.title}),l.jsx("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 sm:gap-4 mb-4 sm:mb-6",children:l.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[l.jsx(su,{className:"h-4 w-4"}),"TMDB ID: ",t.tmdb_id]})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2 text-center md:text-left",children:"Sinopse"}),l.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base text-center md:text-left",children:t.synopsis||"Nenhuma sinopse disponvel."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center md:justify-start",children:[l.jsxs(te,{size:"lg",className:"gap-2 bg-primary hover:bg-primary/90 text-black font-semibold w-full sm:w-auto",onClick:()=>{w()?j(!0):(c(!0),m())},children:[l.jsx(iu,{className:"h-5 w-5"}),"Assistir Agora"]}),l.jsxs(te,{size:"lg",variant:"secondary",onClick:A,className:"gap-2 w-full sm:w-auto",children:[l.jsx(ou,{className:`h-5 w-5 ${n?"fill-primary text-primary":""}`}),l.jsx("span",{className:"hidden sm:inline",children:n?"Remover dos Favoritos":"Adicionar aos Favoritos"}),l.jsx("span",{className:"sm:hidden",children:n?"Remover":"Favoritar"})]})]})]})]})}),l.jsx("div",{className:"h-12 sm:h-20"})]}),a&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-2 sm:p-4",children:l.jsxs("div",{className:"relative w-full max-w-7xl aspect-video",children:[l.jsx(te,{variant:"secondary",size:"icon",className:"absolute -top-10 sm:-top-12 right-0 z-10 h-8 w-8 sm:h-10 sm:w-10",onClick:()=>{c(!1),p()},children:l.jsx(au,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),l.jsx("iframe",{ref:u,src:C()||"",className:"w-full h-full rounded-md sm:rounded-lg",style:{display:d?"none":"block"},allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",sandbox:"allow-same-origin allow-scripts allow-forms"}),d&&l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-black/80 rounded-md sm:rounded-lg",children:l.jsx("p",{className:"text-white text-lg",children:"Player pausado durante anncio..."})})]})}),l.jsx(V1,{open:d,adUrl:f,onAdWatched:b,adPreference:v,intervalMinutes:(g==null?void 0:g.interval_minutes)||40,freeTimeHours:(g==null?void 0:g.free_time_hours)||24}),l.jsx(W1,{open:E,adsRemaining:y(),totalRequired:(_==null?void 0:_.ads_required_for_free_time)||5,adUrls:x,onComplete:async()=>{await S((_==null?void 0:_.ads_required_for_free_time)||5),j(!1),X.success("Parabns! Voc ganhou 24h sem anncios!")},onClose:()=>j(!1)})]})},i4=()=>{var P;const{id:e}=Ob(),[t,r]=h.useState(null),[n,s]=h.useState(!1),[o,i]=h.useState(!0),[a,c]=h.useState(!1),[u,d]=h.useState([]),[f,m]=h.useState(1),[p,b]=h.useState(1),g=h.useRef(null);x1();const{showAdPopup:v,currentAdUrl:w,startPlayback:y,pausePlayback:x,handleAdWatched:_,adSettings:S}=b1(),{adPreference:E,needsToCompleteAds:j,getAdsRemainingCount:k,adUrls:A,adSettings:C,watchFiveAds:N}=Ka(),[R,D]=h.useState(!1);h.useEffect(()=>{var I,V;if(v&&a){if(x(),g.current)try{(I=g.current.contentWindow)==null||I.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),(V=g.current.contentWindow)==null||V.postMessage(JSON.stringify({method:"pause"}),"*")}catch{console.log("No foi possvel pausar via postMessage")}}else!v&&a&&y()},[v,a]),h.useEffect(()=>{M()},[e]),h.useEffect(()=>{t&&G()},[t]);const M=async()=>{if(e){i(!0);try{const{data:I,error:V}=await q.from("media_items").select("*").eq("id",e).eq("type","series").eq("published",!0).single();if(V)throw V;if(r(I),I){const z=JSON.parse(localStorage.getItem("favorites")||"[]");s(z.some(ee=>ee.id===I.id&&ee.type==="series"))}}catch(I){console.error("Error fetching series:",I),r(null)}finally{i(!1)}}},G=async()=>{var I,V;if(t)try{const z="1277db1c4fa6fcebfac9f1fc7692eb7b",ee=[];for(let W=1;W<=t.seasons;W++){const le=await fetch(`https://api.themoviedb.org/3/tv/${t.tmdb_id}/season/${W}?api_key=${z}&language=pt-BR`);if(le.ok){const ve=await le.json();ee.push({season_number:W,episode_count:((I=ve.episodes)==null?void 0:I.length)||0,episodes:((V=ve.episodes)==null?void 0:V.map(B=>({episode_number:B.episode_number,name:B.name})))||[]})}}d(ee)}catch(z){console.error("Error fetching season data:",z)}};if(o)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-primary",children:"Carregando..."})});if(!t)return l.jsx(Lb,{to:"/series"});const F=()=>{const I=JSON.parse(localStorage.getItem("favorites")||"[]"),V=I.findIndex(z=>z.id===t.id&&z.type==="series");V>=0?I.splice(V,1):I.push({id:t.id,title:t.title,cover:t.poster_url,type:"series"}),localStorage.setItem("favorites",JSON.stringify(I)),s(!n)},Y=()=>t?`https://primevicio.lat/embed/tv/${t.tmdb_id}/${f}/${p}`:null,T=()=>u.find(I=>I.season_number===f);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsxs("main",{className:"pt-14 sm:pt-16",children:[l.jsxs("div",{className:"relative h-[40vh] sm:h-[50vh] lg:h-[60vh] w-full overflow-hidden",children:[l.jsx("img",{src:t.poster_url||"/placeholder.svg",alt:t.title,className:"h-full w-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),l.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 -mt-24 sm:-mt-32 lg:-mt-40 relative z-10",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 lg:gap-8",children:[l.jsx("div",{className:"flex-shrink-0 mx-auto md:mx-0",children:l.jsx("img",{src:t.poster_url||"/placeholder.svg",alt:t.title,className:"w-40 sm:w-48 md:w-56 lg:w-64 rounded-lg shadow-2xl"})}),l.jsxs("div",{className:"flex-1 space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4 text-center md:text-left",children:t.title}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 sm:gap-4 mb-4 sm:mb-6",children:[l.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[l.jsx(su,{className:"h-4 w-4"}),"TMDB ID: ",t.tmdb_id]}),l.jsxs("span",{className:"text-muted-foreground text-sm",children:[t.seasons," ",t.seasons===1?"Temporada":"Temporadas"]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2 text-center md:text-left",children:"Sinopse"}),l.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base text-center md:text-left",children:t.synopsis||"Nenhuma sinopse disponvel."})]}),u.length>0&&l.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-center md:text-left",children:"Selecionar Temporada"}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:u.map(I=>l.jsxs(te,{variant:f===I.season_number?"default":"outline",onClick:()=>{m(I.season_number),b(1),c(!1)},className:"min-w-[70px] sm:min-w-[80px] text-xs sm:text-sm h-8 sm:h-10",children:["T",I.season_number]},I.season_number))})]}),T()&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-center md:text-left",children:"Selecionar Episdio"}),l.jsx("div",{className:"flex flex-wrap gap-2 max-h-40 sm:max-h-48 overflow-y-auto justify-center md:justify-start",children:(P=T())==null?void 0:P.episodes.map(I=>l.jsxs(te,{variant:p===I.episode_number?"default":"outline",onClick:()=>{b(I.episode_number),c(!1)},className:"min-w-[60px] sm:min-w-[70px] text-xs sm:text-sm h-8 sm:h-10",title:I.name,children:["E",I.episode_number]},I.episode_number))})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center md:justify-start",children:[l.jsxs(te,{size:"lg",className:"gap-2 bg-primary hover:bg-primary/90 text-black font-semibold w-full sm:w-auto",onClick:()=>{j()?D(!0):(c(!0),y())},children:[l.jsx(iu,{className:"h-5 w-5"}),"Assistir T",f,"E",p]}),l.jsxs(te,{size:"lg",variant:"secondary",onClick:F,className:"gap-2 w-full sm:w-auto",children:[l.jsx(ou,{className:`h-5 w-5 ${n?"fill-primary text-primary":""}`}),l.jsx("span",{className:"hidden sm:inline",children:n?"Remover dos Favoritos":"Adicionar aos Favoritos"}),l.jsx("span",{className:"sm:hidden",children:n?"Remover":"Favoritar"})]})]})]})]})}),l.jsx("div",{className:"h-12 sm:h-20"})]}),a&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-2 sm:p-4",children:l.jsxs("div",{className:"relative w-full max-w-7xl aspect-video",children:[l.jsx(te,{variant:"secondary",size:"icon",className:"absolute -top-10 sm:-top-12 right-0 z-10 h-8 w-8 sm:h-10 sm:w-10",onClick:()=>{c(!1),x()},children:l.jsx(au,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),l.jsx("iframe",{ref:g,src:Y()||"",className:"w-full h-full rounded-md sm:rounded-lg",style:{display:v?"none":"block"},allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",sandbox:"allow-same-origin allow-scripts allow-forms"}),v&&l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-black/80 rounded-md sm:rounded-lg",children:l.jsx("p",{className:"text-white text-lg",children:"Player pausado durante anncio..."})})]})}),l.jsx(V1,{open:v,adUrl:w,onAdWatched:_,adPreference:E,intervalMinutes:(S==null?void 0:S.interval_minutes)||40,freeTimeHours:(S==null?void 0:S.free_time_hours)||24}),l.jsx(W1,{open:R,adsRemaining:k(),totalRequired:(C==null?void 0:C.ads_required_for_free_time)||5,adUrls:A,onComplete:async()=>{await N((C==null?void 0:C.ads_required_for_free_time)||5),D(!1),X.success("Parabns! Voc ganhou 24h sem anncios!")},onClose:()=>D(!1)})]})},a4=()=>{const e=Jn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};var l4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xm=l4.reduce((e,t)=>{const r=XS(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),c4="Label",H1=h.forwardRef((e,t)=>l.jsx(xm.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));H1.displayName=c4;var q1=H1;const u4=nu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=h.forwardRef(({className:e,...t},r)=>l.jsx(q1,{ref:r,className:K(u4(),e),...t}));ze.displayName=q1.displayName;const be=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));be.displayName="Card";const _e=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:K("flex flex-col space-y-1.5 p-6",e),...t}));_e.displayName="CardHeader";const Se=h.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:K("text-2xl font-semibold leading-none tracking-tight",e),...t}));Se.displayName="CardTitle";const Ye=h.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:K("text-sm text-muted-foreground",e),...t}));Ye.displayName="CardDescription";const Ee=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:K("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const d4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:K("flex items-center p-6 pt-0",e),...t}));d4.displayName="CardFooter";const f4=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[s,o]=h.useState(!1),{signIn:i,user:a,loading:c}=Sr(),u=Nt(),[d]=La(),f=d.get("redirect")||"/";h.useEffect(()=>{!c&&a&&u(f)},[a,c,u,f]);const m=async p=>{p.preventDefault(),o(!0);const{data:b,error:g}=await i(e,r);g?X.error("Erro ao fazer login: "+g.message):(X.success("Login realizado com sucesso!"),u(f)),o(!1)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs(be,{className:"w-full max-w-md",children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Login"}),l.jsx(Ye,{children:"Entre com suas credenciais para acessar o sistema"})]}),l.jsx(Ee,{children:l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"email",children:"Email"}),l.jsx(Ze,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:p=>t(p.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"password",children:"Senha"}),l.jsx(Ze,{id:"password",type:"password",placeholder:"",value:r,onChange:p=>n(p.target.value),required:!0})]}),l.jsxs(te,{type:"submit",className:"w-full",disabled:s,children:[s&&l.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrar"]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No tem uma conta?"," ",l.jsx(Kr,{to:"/signup",className:"text-primary hover:underline",children:"Cadastre-se"})]})]})})]})})},h4=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[s,o]=h.useState(""),[i,a]=h.useState(!1),{signUp:c,user:u,loading:d}=Sr(),f=Nt(),[m]=La(),p=m.get("redirect")||"/",{getStoredRefCode:b,clearStoredRefCode:g}=z_();h.useEffect(()=>{!d&&u&&f(p)},[u,d,f,p]);const v=async w=>{if(w.preventDefault(),r!==s){X.error("As senhas no coincidem");return}if(r.length<6){X.error("A senha deve ter pelo menos 6 caracteres");return}a(!0);const y=b();console.log(" Cdigo de referncia ao criar conta:",y);const{data:x,error:_}=await c(e,r);if(_){X.error("Erro ao criar conta: "+_.message),a(!1);return}if(y&&(x!=null&&x.user))try{console.log(` Tentando registrar signup com ref=${y} para usurio ${x.user.id}`),await new Promise(j=>setTimeout(j,1500));const{data:S,error:E}=await q.functions.invoke("affiliate-track",{body:{action:"signup",affiliateCode:y,userId:x.user.id}});if(E)console.error(" Erro ao registrar signup:",E);else{console.log(" Signup registrado com sucesso:",S);const{data:j}=await q.from("profiles").select("referred_by").eq("id",x.user.id).single();console.log(" Verificao final - referred_by no banco:",j==null?void 0:j.referred_by)}g(),console.log(" Cdigo de referncia limpo do storage")}catch(S){console.error(" Erro ao processar indicao:",S)}else console.log(" Nenhum cdigo de referncia encontrado no signup");X.success("Conta criada com sucesso!"),f(p),a(!1)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs(be,{className:"w-full max-w-md",children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Cadastro"}),l.jsx(Ye,{children:"Crie sua conta para acessar o sistema"})]}),l.jsx(Ee,{children:l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"email",children:"Email"}),l.jsx(Ze,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:w=>t(w.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"password",children:"Senha"}),l.jsx(Ze,{id:"password",type:"password",placeholder:"",value:r,onChange:w=>n(w.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),l.jsx(Ze,{id:"confirmPassword",type:"password",placeholder:"",value:s,onChange:w=>o(w.target.value),required:!0})]}),l.jsxs(te,{type:"submit",className:"w-full",disabled:i,children:[i&&l.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Conta"]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["J tem uma conta?"," ",l.jsx(Kr,{to:"/login",className:"text-primary hover:underline",children:"Faa login"})]})]})})]})})};var Au="Tabs",[p4]=ct(Au,[fi]),K1=fi(),[m4,bm]=p4(Au),G1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Ua(a),[f,m]=wr({prop:n,onChange:s,defaultProp:o??"",caller:Au});return l.jsx(m4,{scope:r,baseId:vr(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:l.jsx(Z.div,{dir:d,"data-orientation":i,...u,ref:t})})});G1.displayName=Au;var Y1="TabsList",Q1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=bm(Y1,r),i=K1(r);return l.jsx(Xp,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(Z.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});Q1.displayName=Y1;var J1="TabsTrigger",X1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=bm(J1,r),a=K1(r),c=tE(i.baseId,n),u=rE(i.baseId,n),d=n===i.value;return l.jsx(Zp,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(Z.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:L(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:L(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:L(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});X1.displayName=J1;var Z1="TabsContent",eE=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=bm(Z1,r),c=tE(a.baseId,n),u=rE(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(yt,{present:s||d,children:({present:m})=>l.jsx(Z.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});eE.displayName=Z1;function tE(e,t){return`${e}-trigger-${t}`}function rE(e,t){return`${e}-content-${t}`}var g4=G1,nE=Q1,sE=X1,oE=eE;const v4=g4,iE=h.forwardRef(({className:e,...t},r)=>l.jsx(nE,{ref:r,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));iE.displayName=nE.displayName;const lo=h.forwardRef(({className:e,...t},r)=>l.jsx(sE,{ref:r,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));lo.displayName=sE.displayName;const co=h.forwardRef(({className:e,...t},r)=>l.jsx(oE,{ref:r,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));co.displayName=oE.displayName;const _m=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:K("w-full caption-bottom text-sm",e),...t})}));_m.displayName="Table";const Sm=h.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:K("[&_tr]:border-b",e),...t}));Sm.displayName="TableHeader";const Em=h.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:K("[&_tr:last-child]:border-0",e),...t}));Em.displayName="TableBody";const y4=h.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));y4.displayName="TableFooter";const Oo=h.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:K("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Oo.displayName="TableRow";const Rt=h.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:K("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Rt.displayName="TableHead";const bt=h.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:K("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));bt.displayName="TableCell";const w4=h.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:K("mt-4 text-sm text-muted-foreground",e),...t}));w4.displayName="TableCaption";var aE="AlertDialog",[x4]=ct(aE,[S1]),on=S1(),lE=e=>{const{__scopeAlertDialog:t,...r}=e,n=on(t);return l.jsx(F1,{...n,...r,modal:!0})};lE.displayName=aE;var b4="AlertDialogTrigger",_4=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=on(r);return l.jsx(n4,{...s,...n,ref:t})});_4.displayName=b4;var S4="AlertDialogPortal",cE=e=>{const{__scopeAlertDialog:t,...r}=e,n=on(t);return l.jsx(U1,{...n,...r})};cE.displayName=S4;var E4="AlertDialogOverlay",uE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=on(r);return l.jsx(mm,{...s,...n,ref:t})});uE.displayName=E4;var Io="AlertDialogContent",[j4,C4]=x4(Io),k4=s0("AlertDialogContent"),dE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=on(r),i=h.useRef(null),a=oe(t,i),c=h.useRef(null);return l.jsx(ZL,{contentName:Io,titleName:fE,docsSlug:"alert-dialog",children:l.jsx(j4,{scope:r,cancelRef:c,children:l.jsxs(gm,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:L(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(k4,{children:n}),l.jsx(P4,{contentRef:i})]})})})});dE.displayName=Io;var fE="AlertDialogTitle",hE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=on(r);return l.jsx(vm,{...s,...n,ref:t})});hE.displayName=fE;var pE="AlertDialogDescription",mE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=on(r);return l.jsx(ym,{...s,...n,ref:t})});mE.displayName=pE;var N4="AlertDialogAction",gE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=on(r);return l.jsx(wm,{...s,...n,ref:t})});gE.displayName=N4;var vE="AlertDialogCancel",yE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=C4(vE,r),o=on(r),i=oe(t,s);return l.jsx(wm,{...o,...n,ref:i})});yE.displayName=vE;var P4=({contentRef:e})=>{const t=`\`${Io}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Io}\` by passing a \`${pE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Io}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},T4=lE,R4=cE,wE=uE,xE=dE,bE=gE,_E=yE,SE=hE,EE=mE;const A4=T4,O4=R4,jE=h.forwardRef(({className:e,...t},r)=>l.jsx(wE,{className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));jE.displayName=wE.displayName;const CE=h.forwardRef(({className:e,...t},r)=>l.jsxs(O4,{children:[l.jsx(jE,{}),l.jsx(xE,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));CE.displayName=xE.displayName;const kE=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});kE.displayName="AlertDialogHeader";const NE=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});NE.displayName="AlertDialogFooter";const PE=h.forwardRef(({className:e,...t},r)=>l.jsx(SE,{ref:r,className:K("text-lg font-semibold",e),...t}));PE.displayName=SE.displayName;const TE=h.forwardRef(({className:e,...t},r)=>l.jsx(EE,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));TE.displayName=EE.displayName;const RE=h.forwardRef(({className:e,...t},r)=>l.jsx(bE,{ref:r,className:K(am(),e),...t}));RE.displayName=bE.displayName;const AE=h.forwardRef(({className:e,...t},r)=>l.jsx(_E,{ref:r,className:K(am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));AE.displayName=_E.displayName;function I4({open:e,onOpenChange:t,item:r}){return r?l.jsx(Ga,{open:e,onOpenChange:t,children:l.jsxs(hi,{className:"max-w-2xl",children:[l.jsxs(pi,{children:[l.jsx(mi,{children:r.title}),l.jsxs(gi,{children:["Preview do item - TMDB ID: ",r.tmdb_id]})]}),l.jsxs("div",{className:"space-y-4",children:[r.poster_url&&l.jsx("img",{src:r.poster_url,alt:r.title,className:"w-full max-w-sm mx-auto rounded-lg shadow-lg"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qt,{variant:r.type==="movie"?"default":"secondary",children:r.type==="movie"?"Filme":"Srie"}),l.jsx(Qt,{variant:r.published?"default":"outline",children:r.published?"Publicado":"No Publicado"}),r.last_check_status&&l.jsx(Qt,{variant:r.last_check_status==="ok"?"default":r.last_check_status==="not_found"?"destructive":"secondary",children:r.last_check_status})]}),r.seasons&&r.type==="series"&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.seasons," temporada",r.seasons>1?"s":""]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Sinopse"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r.synopsis||"Sem sinopse"})]}),r.last_check_message&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"ltimo Check"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r.last_check_message}),r.last_check_date&&l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.last_check_date).toLocaleString("pt-BR")})]})]})]})]})}):null}function M4({open:e,onOpenChange:t,item:r}){if(!r)return null;const n=r.embed_url||(r.type==="movie"?`https://primevicio.lat/api/stream/movies/${r.tmdb_id}`:`https://primevicio.lat/api/stream/series/${r.tmdb_id}/1/1`),s=`<iframe src="${n}" width="100%" height="500" frameborder="0" allowfullscreen></iframe>`,o=()=>{navigator.clipboard.writeText(s),X.success("Cdigo copiado!")};return l.jsx(Ga,{open:e,onOpenChange:t,children:l.jsxs(hi,{className:"max-w-3xl",children:[l.jsxs(pi,{children:[l.jsxs(mi,{children:["Manual Embed - ",r.title]}),l.jsx(gi,{children:"Preview e cdigo do iframe para incorporao"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-muted p-4 rounded-lg",children:l.jsx("div",{className:"aspect-video",children:l.jsx("iframe",{src:n,className:"w-full h-full rounded-md",frameBorder:"0",allowFullScreen:!0})})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cdigo do Iframe"}),l.jsxs(te,{size:"sm",variant:"outline",onClick:o,children:[l.jsx(I0,{className:"h-4 w-4 mr-2"}),"Copiar"]})]}),l.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto",children:s})]})]})]})})}function D4({items:e,onRefresh:t}){const[r,n]=h.useState(null),[s,o]=h.useState(null),[i,a]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState(null),m=async g=>{o(g);try{const{data:{session:v}}=await q.auth.getSession(),w=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-check",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v==null?void 0:v.access_token}`},body:JSON.stringify({itemId:g})}),y=await w.json();if(!w.ok)throw new Error(y.error||"Failed to check item");X.success(y.message||"Check realizado com sucesso!"),t()}catch(v){X.error(v.message||"Erro ao fazer check")}finally{o(null)}},p=async(g,v)=>{a(g);try{const{data:{session:w}}=await q.auth.getSession(),y=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-publish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w==null?void 0:w.access_token}`},body:JSON.stringify({itemId:g,published:!v})}),x=await y.json();if(!y.ok)throw new Error(x.error||"Failed to publish item");X.success(v?"Item despublicado!":"Item publicado!"),t()}catch(w){X.error(w.message||"Erro ao publicar/despublicar")}finally{a(null)}},b=async()=>{if(r)try{const{data:{session:g}}=await q.auth.getSession(),v=await fetch(`https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-items/${r.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${g==null?void 0:g.access_token}`}});if(!v.ok){const w=await v.json();throw new Error(w.error||"Failed to delete item")}X.success("Item deletado com sucesso!"),t()}catch(g){X.error(g.message||"Erro ao deletar item")}finally{n(null)}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"rounded-md border",children:l.jsxs(_m,{children:[l.jsx(Sm,{children:l.jsxs(Oo,{children:[l.jsx(Rt,{children:"TMDB ID"}),l.jsx(Rt,{children:"Ttulo"}),l.jsx(Rt,{children:"Tipo"}),l.jsx(Rt,{children:"Status"}),l.jsx(Rt,{children:"ltimo Check"}),l.jsx(Rt,{children:"Criado em"}),l.jsx(Rt,{className:"text-right",children:"Aes"})]})}),l.jsx(Em,{children:e.length===0?l.jsx(Oo,{children:l.jsx(bt,{colSpan:7,className:"text-center text-muted-foreground",children:"Nenhum item encontrado"})}):e.map(g=>l.jsxs(Oo,{children:[l.jsx(bt,{className:"font-mono",children:g.tmdb_id}),l.jsx(bt,{className:"font-medium",children:g.title}),l.jsx(bt,{children:l.jsx(Qt,{variant:g.type==="movie"?"default":"secondary",children:g.type==="movie"?"Filme":"Srie"})}),l.jsx(bt,{children:l.jsx(Qt,{variant:g.published?"default":"outline",children:g.published?"Publicado":"No Publicado"})}),l.jsx(bt,{children:g.last_check_status&&l.jsx(Qt,{variant:g.last_check_status==="ok"?"default":g.last_check_status==="not_found"?"destructive":"secondary",children:g.last_check_status})}),l.jsx(bt,{className:"text-sm text-muted-foreground",children:new Date(g.created_at).toLocaleDateString("pt-BR")}),l.jsx(bt,{className:"text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx(te,{size:"sm",variant:"ghost",onClick:()=>m(g.id),disabled:s===g.id,children:s===g.id?l.jsx(qe,{className:"h-4 w-4 animate-spin"}):l.jsx(AP,{className:"h-4 w-4"})}),l.jsx(te,{size:"sm",variant:"ghost",onClick:()=>u(g),children:l.jsx($P,{className:"h-4 w-4"})}),l.jsx(te,{size:"sm",variant:"ghost",onClick:()=>p(g.id,g.published),disabled:i===g.id||g.last_check_status!=="ok"&&!g.published,children:i===g.id?l.jsx(qe,{className:"h-4 w-4 animate-spin"}):l.jsx(FP,{className:"h-4 w-4"})}),l.jsx(te,{size:"sm",variant:"ghost",onClick:()=>f(g),children:l.jsx(HP,{className:"h-4 w-4"})}),l.jsx(te,{size:"sm",variant:"ghost",onClick:()=>n(g),children:l.jsx(Sp,{className:"h-4 w-4"})})]})})]},g.id))})]})}),l.jsx(A4,{open:!!r,onOpenChange:g=>!g&&n(null),children:l.jsxs(CE,{children:[l.jsxs(kE,{children:[l.jsx(PE,{children:"Confirmar excluso"}),l.jsxs(TE,{children:['Tem certeza que deseja deletar "',r==null?void 0:r.title,'"? Esta ao no pode ser desfeita.']})]}),l.jsxs(NE,{children:[l.jsx(AE,{children:"Cancelar"}),l.jsx(RE,{onClick:b,children:"Deletar"})]})]})}),l.jsx(I4,{open:!!c,onOpenChange:g=>!g&&u(null),item:c}),l.jsx(M4,{open:!!d,onOpenChange:g=>!g&&f(null),item:d})]})}function Sy(e,[t,r]){return Math.min(r,Math.max(t,e))}var $4=[" ","Enter","ArrowUp","ArrowDown"],L4=[" ","Enter"],Ds="Select",[Ou,Iu,F4]=eu(Ds),[vi]=ct(Ds,[F4,Yn]),Mu=Yn(),[U4,ts]=vi(Ds),[B4,z4]=vi(Ds),OE=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:b}=e,g=Mu(t),[v,w]=h.useState(null),[y,x]=h.useState(null),[_,S]=h.useState(!1),E=Ua(u),[j,k]=wr({prop:n,defaultProp:s??!1,onChange:o,caller:Ds}),[A,C]=wr({prop:i,defaultProp:a,onChange:c,caller:Ds}),N=h.useRef(null),R=v?b||!!v.closest("form"):!0,[D,M]=h.useState(new Set),G=Array.from(D).map(F=>F.props.value).join(";");return l.jsx(Op,{...g,children:l.jsxs(U4,{required:p,scope:t,trigger:v,onTriggerChange:w,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:vr(),value:A,onValueChange:C,open:j,onOpenChange:k,dir:E,triggerPointerDownPosRef:N,disabled:m,children:[l.jsx(Ou.Provider,{scope:t,children:l.jsx(B4,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{M(Y=>new Set(Y).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{M(Y=>{const T=new Set(Y);return T.delete(F),T})},[]),children:r})}),R?l.jsxs(nj,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:F=>C(F.target.value),disabled:m,form:b,children:[A===void 0?l.jsx("option",{value:""}):null,Array.from(D)]},G):null]})})};OE.displayName=Ds;var IE="SelectTrigger",ME=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Mu(r),i=ts(IE,r),a=i.disabled||n,c=oe(t,i.onTriggerChange),u=Iu(r),d=h.useRef("touch"),[f,m,p]=oj(g=>{const v=u().filter(x=>!x.disabled),w=v.find(x=>x.value===i.value),y=ij(v,g,w);y!==void 0&&i.onValueChange(y.value)}),b=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx($a,{asChild:!0,...o,children:l.jsx(Z.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sj(i.value)?"":void 0,...s,ref:c,onClick:L(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:L(s.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:L(s.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&$4.includes(g.key)&&(b(),g.preventDefault())})})})});ME.displayName=IE;var DE="SelectValue",$E=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=ts(DE,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=oe(t,c.onValueNodeChange);return rt(()=>{u(d)},[u,d]),l.jsx(Z.span,{...a,ref:f,style:{pointerEvents:"none"},children:sj(c.value)?l.jsx(l.Fragment,{children:i}):o})});$E.displayName=DE;var V4="SelectIcon",LE=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(Z.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});LE.displayName=V4;var W4="SelectPortal",FE=e=>l.jsx(si,{asChild:!0,...e});FE.displayName=W4;var $s="SelectContent",UE=h.forwardRef((e,t)=>{const r=ts($s,e.__scopeSelect),[n,s]=h.useState();if(rt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Bs.createPortal(l.jsx(BE,{scope:e.__scopeSelect,children:l.jsx(Ou.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(zE,{...e,ref:t})});UE.displayName=$s;var or=10,[BE,rs]=vi($s),H4="SelectContentImpl",q4=Os("SelectContent.RemoveScroll"),zE=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:v,...w}=e,y=ts($s,r),[x,_]=h.useState(null),[S,E]=h.useState(null),j=oe(t,B=>_(B)),[k,A]=h.useState(null),[C,N]=h.useState(null),R=Iu(r),[D,M]=h.useState(!1),G=h.useRef(!1);h.useEffect(()=>{if(x)return Su(x)},[x]),_u();const F=h.useCallback(B=>{const[pe,...me]=R().map(ge=>ge.ref.current),[de]=me.slice(-1),fe=document.activeElement;for(const ge of B)if(ge===fe||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===pe&&S&&(S.scrollTop=0),ge===de&&S&&(S.scrollTop=S.scrollHeight),ge==null||ge.focus(),document.activeElement!==fe))return},[R,S]),Y=h.useCallback(()=>F([k,x]),[F,k,x]);h.useEffect(()=>{D&&Y()},[D,Y]);const{onOpenChange:T,triggerPointerDownPosRef:P}=y;h.useEffect(()=>{if(x){let B={x:0,y:0};const pe=de=>{var fe,ge;B={x:Math.abs(Math.round(de.pageX)-(((fe=P.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ge=P.current)==null?void 0:ge.y)??0))}},me=de=>{B.x<=10&&B.y<=10?de.preventDefault():x.contains(de.target)||T(!1),document.removeEventListener("pointermove",pe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",me,{capture:!0})}}},[x,T,P]),h.useEffect(()=>{const B=()=>T(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[T]);const[I,V]=oj(B=>{const pe=R().filter(fe=>!fe.disabled),me=pe.find(fe=>fe.ref.current===document.activeElement),de=ij(pe,B,me);de&&setTimeout(()=>de.ref.current.focus())}),z=h.useCallback((B,pe,me)=>{const de=!G.current&&!me;(y.value!==void 0&&y.value===pe||de)&&(A(B),de&&(G.current=!0))},[y.value]),ee=h.useCallback(()=>x==null?void 0:x.focus(),[x]),W=h.useCallback((B,pe,me)=>{const de=!G.current&&!me;(y.value!==void 0&&y.value===pe||de)&&N(B)},[y.value]),le=n==="popper"?ph:VE,ve=le===ph?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:v}:{};return l.jsx(BE,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:z,selectedItem:k,onItemLeave:ee,itemTextRefCallback:W,focusSelectedItem:Y,selectedItemText:C,position:n,isPositioned:D,searchRef:I,children:l.jsx(Va,{as:q4,allowPinchZoom:!0,children:l.jsx(Ba,{asChild:!0,trapped:y.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:L(s,B=>{var pe;(pe=y.trigger)==null||pe.focus({preventScroll:!0}),B.preventDefault()}),children:l.jsx(zs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(le,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:B=>B.preventDefault(),...w,...ve,onPlaced:()=>M(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:L(w.onKeyDown,B=>{const pe=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!pe&&B.key.length===1&&V(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let de=R().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(B.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const fe=B.target,ge=de.indexOf(fe);de=de.slice(ge+1)}setTimeout(()=>F(de)),B.preventDefault()}})})})})})})});zE.displayName=H4;var K4="SelectItemAlignedPosition",VE=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ts($s,r),i=rs($s,r),[a,c]=h.useState(null),[u,d]=h.useState(null),f=oe(t,j=>d(j)),m=Iu(r),p=h.useRef(!1),b=h.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:w,focusSelectedItem:y}=i,x=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&v&&w){const j=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),C=w.getBoundingClientRect();if(o.dir!=="rtl"){const fe=C.left-k.left,ge=A.left-fe,nt=j.left-ge,Bt=j.width+nt,ns=Math.max(Bt,k.width),an=window.innerWidth-or,ss=Sy(ge,[or,Math.max(or,an-ns)]);a.style.minWidth=Bt+"px",a.style.left=ss+"px"}else{const fe=k.right-C.right,ge=window.innerWidth-A.right-fe,nt=window.innerWidth-j.right-ge,Bt=j.width+nt,ns=Math.max(Bt,k.width),an=window.innerWidth-or,ss=Sy(ge,[or,Math.max(or,an-ns)]);a.style.minWidth=Bt+"px",a.style.right=ss+"px"}const N=m(),R=window.innerHeight-or*2,D=g.scrollHeight,M=window.getComputedStyle(u),G=parseInt(M.borderTopWidth,10),F=parseInt(M.paddingTop,10),Y=parseInt(M.borderBottomWidth,10),T=parseInt(M.paddingBottom,10),P=G+F+D+T+Y,I=Math.min(v.offsetHeight*5,P),V=window.getComputedStyle(g),z=parseInt(V.paddingTop,10),ee=parseInt(V.paddingBottom,10),W=j.top+j.height/2-or,le=R-W,ve=v.offsetHeight/2,B=v.offsetTop+ve,pe=G+F+B,me=P-pe;if(pe<=W){const fe=N.length>0&&v===N[N.length-1].ref.current;a.style.bottom="0px";const ge=u.clientHeight-g.offsetTop-g.offsetHeight,nt=Math.max(le,ve+(fe?ee:0)+ge+Y),Bt=pe+nt;a.style.height=Bt+"px"}else{const fe=N.length>0&&v===N[0].ref.current;a.style.top="0px";const nt=Math.max(W,G+g.offsetTop+(fe?z:0)+ve)+me;a.style.height=nt+"px",g.scrollTop=pe-W+g.offsetTop}a.style.margin=`${or}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,u,g,v,w,o.dir,n]);rt(()=>x(),[x]);const[_,S]=h.useState();rt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(j=>{j&&b.current===!0&&(x(),y==null||y(),b.current=!1)},[x,y]);return l.jsx(Y4,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(Z.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VE.displayName=K4;var G4="SelectPopperPosition",ph=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=or,...o}=e,i=Mu(r);return l.jsx(hu,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ph.displayName=G4;var[Y4,jm]=vi($s,{}),mh="SelectViewport",WE=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=rs(mh,r),i=jm(mh,r),a=oe(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Ou.Slot,{scope:r,children:l.jsx(Z.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:L(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-or*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),w=Math.max(g,v);if(w<b){const y=w+p,x=Math.min(b,y),_=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WE.displayName=mh;var HE="SelectGroup",[Q4,J4]=vi(HE),X4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=vr();return l.jsx(Q4,{scope:r,id:s,children:l.jsx(Z.div,{role:"group","aria-labelledby":s,...n,ref:t})})});X4.displayName=HE;var qE="SelectLabel",KE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=J4(qE,r);return l.jsx(Z.div,{id:s.id,...n,ref:t})});KE.displayName=qE;var Ic="SelectItem",[Z4,GE]=vi(Ic),YE=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=ts(Ic,r),c=rs(Ic,r),u=a.value===n,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),b=oe(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,s)}),g=vr(),v=h.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Z4,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:h.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(Ou.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(Z.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:L(i.onFocus,()=>p(!0)),onBlur:L(i.onBlur,()=>p(!1)),onClick:L(i.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:L(i.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:L(i.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:L(i.onPointerMove,y=>{var x;v.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(i.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:L(i.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(L4.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});YE.displayName=Ic;var Di="SelectItemText",QE=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ts(Di,r),a=rs(Di,r),c=GE(Di,r),u=z4(Di,r),[d,f]=h.useState(null),m=oe(t,w=>f(w),c.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return rt(()=>(g(b),()=>v(b)),[g,v,b]),l.jsxs(l.Fragment,{children:[l.jsx(Z.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Bs.createPortal(o.children,i.valueNode):null]})});QE.displayName=Di;var JE="SelectItemIndicator",XE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return GE(JE,r).isSelected?l.jsx(Z.span,{"aria-hidden":!0,...n,ref:t}):null});XE.displayName=JE;var gh="SelectScrollUpButton",ZE=h.forwardRef((e,t)=>{const r=rs(gh,e.__scopeSelect),n=jm(gh,e.__scopeSelect),[s,o]=h.useState(!1),i=oe(t,n.onScrollButtonChange);return rt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(tj,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});ZE.displayName=gh;var vh="SelectScrollDownButton",ej=h.forwardRef((e,t)=>{const r=rs(vh,e.__scopeSelect),n=jm(vh,e.__scopeSelect),[s,o]=h.useState(!1),i=oe(t,n.onScrollButtonChange);return rt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(tj,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});ej.displayName=vh;var tj=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=rs("SelectScrollButton",r),i=h.useRef(null),a=Iu(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),rt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(Z.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:L(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:L(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:L(s.onPointerLeave,()=>{c()})})}),eF="SelectSeparator",rj=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Z.div,{"aria-hidden":!0,...n,ref:t})});rj.displayName=eF;var yh="SelectArrow",tF=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Mu(r),o=ts(yh,r),i=rs(yh,r);return o.open&&i.position==="popper"?l.jsx(pu,{...s,...n,ref:t}):null});tF.displayName=yh;var rF="SelectBubbleInput",nj=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=oe(n,s),i=Pu(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(Z.select,{...r,style:{...l0,...r.style},ref:o,defaultValue:t})});nj.displayName=rF;function sj(e){return e===""||e===void 0}function oj(e){const t=kt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function ij(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=nF(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function nF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sF=OE,aj=ME,oF=$E,iF=LE,aF=FE,lj=UE,lF=WE,cj=KE,uj=YE,cF=QE,uF=XE,dj=ZE,fj=ej,hj=rj;const dF=sF,fF=oF,pj=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(aj,{ref:n,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(iF,{asChild:!0,children:l.jsx(R0,{className:"h-4 w-4 opacity-50"})})]}));pj.displayName=aj.displayName;const mj=h.forwardRef(({className:e,...t},r)=>l.jsx(dj,{ref:r,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(TP,{className:"h-4 w-4"})}));mj.displayName=dj.displayName;const gj=h.forwardRef(({className:e,...t},r)=>l.jsx(fj,{ref:r,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(R0,{className:"h-4 w-4"})}));gj.displayName=fj.displayName;const vj=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(aF,{children:l.jsxs(lj,{ref:s,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(mj,{}),l.jsx(lF,{className:K("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(gj,{})]})}));vj.displayName=lj.displayName;const hF=h.forwardRef(({className:e,...t},r)=>l.jsx(cj,{ref:r,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hF.displayName=cj.displayName;const wh=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(uj,{ref:n,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(uF,{children:l.jsx(fa,{className:"h-4 w-4"})})}),l.jsx(cF,{children:t})]}));wh.displayName=uj.displayName;const pF=h.forwardRef(({className:e,...t},r)=>l.jsx(hj,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));pF.displayName=hj.displayName;function mF({open:e,onOpenChange:t,onSuccess:r}){const[n,s]=h.useState(""),[o,i]=h.useState("movie"),[a,c]=h.useState(!1),u=async d=>{d.preventDefault(),c(!0);try{const{data:{session:f}}=await q.auth.getSession(),m=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-items",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f==null?void 0:f.access_token}`},body:JSON.stringify({tmdb_id:parseInt(n),type:o})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to add item");X.success("Item adicionado com sucesso!"),s(""),i("movie"),r(),t(!1)}catch(f){X.error(f.message||"Erro ao adicionar item")}finally{c(!1)}};return l.jsx(Ga,{open:e,onOpenChange:t,children:l.jsxs(hi,{children:[l.jsxs(pi,{children:[l.jsx(mi,{children:"Adicionar Novo Item"}),l.jsx(gi,{children:"Insira o TMDB ID e o tipo para adicionar um novo filme ou srie"})]}),l.jsxs("form",{onSubmit:u,children:[l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"tmdb-id",children:"TMDB ID"}),l.jsx(Ze,{id:"tmdb-id",type:"number",placeholder:"550",value:n,onChange:d=>s(d.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"type",children:"Tipo"}),l.jsxs(dF,{value:o,onValueChange:d=>i(d),children:[l.jsx(pj,{id:"type",children:l.jsx(fF,{})}),l.jsxs(vj,{children:[l.jsx(wh,{value:"movie",children:"Filme"}),l.jsx(wh,{value:"series",children:"Srie"})]})]})]})]}),l.jsxs(z1,{children:[l.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),l.jsxs(te,{type:"submit",disabled:a,children:[a&&l.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Adicionar"]})]})]})]})})}const gF=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!0),[s,o]=h.useState(!1),[i,a]=h.useState(40),[c,u]=h.useState(5),[d,f]=h.useState(24),[m,p]=h.useState("");h.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const{data:v,error:w}=await q.from("ad_settings").select("*").single();if(w)throw w;v&&(t(v),a(v.interval_minutes),u(v.ads_required_for_free_time),f(v.free_time_hours),p(v.redirect_url))}catch(v){console.error("Error loading ad settings:",v),pr({title:"Erro ao carregar configuraes",description:"No foi possvel carregar as configuraes de anncios.",variant:"destructive"})}finally{n(!1)}},g=async()=>{if(i<1||c<1||d<1){pr({title:"Valores invlidos",description:"Todos os valores devem ser maiores que zero.",variant:"destructive"});return}if(!m.startsWith("http://")&&!m.startsWith("https://")){pr({title:"URL invlida",description:"A URL de redirecionamento deve comear com http:// ou https://",variant:"destructive"});return}o(!0);try{const{data:v,error:w}=await q.functions.invoke("ad-config",{body:{action:"update",interval_minutes:i,ads_required_for_free_time:c,free_time_hours:d,redirect_url:m}});if(w)throw new Error(w.message||"Erro ao salvar configuraes");pr({title:"Configuraes salvas",description:"As configuraes de anncios foram atualizadas com sucesso."}),b()}catch(v){console.error("Error saving ad settings:",v),pr({title:"Erro ao salvar configuraes",description:v.message||"No foi possvel salvar as configuraes. Verifique sua conexo e tente novamente.",variant:"destructive"})}finally{o(!1)}};return r?l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Configuraes de Anncios"}),l.jsx(Ye,{children:"Configure as regras do sistema de anncios"})]}),l.jsx(Ee,{className:"flex items-center justify-center py-8",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})})]}):l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Configuraes de Anncios"}),l.jsx(Ye,{children:"Configure as regras do sistema de anncios e redirecionamentos"})]}),l.jsxs(Ee,{className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"interval",children:"Intervalo entre anncios (minutos)"}),l.jsx(Ze,{id:"interval",type:"number",min:"1",value:i,onChange:v=>a(parseInt(v.target.value)||0),placeholder:"Ex: 40"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo em minutos entre cada anncio durante a reproduo"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"adsRequired",children:"Quantidade de anncios necessrios"}),l.jsx(Ze,{id:"adsRequired",type:"number",min:"1",value:c,onChange:v=>u(parseInt(v.target.value)||0),placeholder:"Ex: 5"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantos anncios o usurio precisa assistir de uma vez"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"freeTime",children:"Tempo livre de anncios (horas)"}),l.jsx(Ze,{id:"freeTime",type:"number",min:"1",value:d,onChange:v=>f(parseInt(v.target.value)||0),placeholder:"Ex: 24"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo em horas que o usurio ficar sem anncios"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"redirectUrl",children:"URL de redirecionamento"}),l.jsx(Ze,{id:"redirectUrl",type:"url",value:m,onChange:v=>p(v.target.value),placeholder:"https://site-de-anuncio.com"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"URL para onde os usurios sero redirecionados"})]})]}),l.jsx("div",{className:"pt-4 border-t",children:l.jsx(te,{onClick:g,disabled:s,className:"w-full sm:w-auto",size:"lg",children:s?l.jsxs(l.Fragment,{children:[l.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(BP,{className:"mr-2 h-4 w-4"}),"Salvar Configuraes"]})})})]})]})};var Du="Switch",[vF]=ct(Du),[yF,wF]=vF(Du),yj=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=h.useState(null),b=oe(t,x=>p(x)),g=h.useRef(!1),v=m?d||!!m.closest("form"):!0,[w,y]=wr({prop:s,defaultProp:o??!1,onChange:u,caller:Du});return l.jsxs(yF,{scope:r,checked:w,disabled:a,children:[l.jsx(Z.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":_j(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:b,onClick:L(e.onClick,x=>{y(_=>!_),v&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),v&&l.jsx(bj,{control:m,bubbles:!g.current,name:n,value:c,checked:w,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});yj.displayName=Du;var wj="SwitchThumb",xj=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=wF(wj,r);return l.jsx(Z.span,{"data-state":_j(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});xj.displayName=wj;var xF="SwitchBubbleInput",bj=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),a=oe(i,o),c=Pu(r),u=fu(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bj.displayName=xF;function _j(e){return e?"checked":"unchecked"}var Sj=yj,bF=xj;const Ej=h.forwardRef(({className:e,...t},r)=>l.jsx(Sj,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:l.jsx(bF,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ej.displayName=Sj.displayName;function jr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ls(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const jj=6048e5,_F=864e5;let SF={};function $u(){return SF}function ja(e,t){var a,c,u,d;const r=$u(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=jr(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Mc(e){return ja(e,{weekStartsOn:1})}function Cj(e){const t=jr(e),r=t.getFullYear(),n=Ls(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Mc(n),o=Ls(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Mc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ey(e){const t=jr(e);return t.setHours(0,0,0,0),t}function jy(e){const t=jr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function EF(e,t){const r=Ey(e),n=Ey(t),s=+r-jy(r),o=+n-jy(n);return Math.round((s-o)/_F)}function jF(e){const t=Cj(e),r=Ls(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mc(r)}function CF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kF(e){if(!CF(e)&&typeof e!="number")return!1;const t=jr(e);return!isNaN(Number(t))}function NF(e){const t=jr(e),r=Ls(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const PF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TF=(e,t,r)=>{let n;const s=PF[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const RF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IF={date:Mo({formats:RF,defaultWidth:"full"}),time:Mo({formats:AF,defaultWidth:"full"}),dateTime:Mo({formats:OF,defaultWidth:"full"})},MF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DF=(e,t,r,n)=>MF[e];function Ar(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const $F={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VF=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WF={ordinalNumber:VF,era:Ar({values:$F,defaultWidth:"wide"}),quarter:Ar({values:LF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ar({values:FF,defaultWidth:"wide"}),day:Ar({values:UF,defaultWidth:"wide"}),dayPeriod:Ar({values:BF,defaultWidth:"wide",formattingValues:zF,defaultFormattingWidth:"wide"})};function Or(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?qF(a,f=>f.test(i)):HF(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function HF(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function qF(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function kj(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const KF=/^(\d+)(th|st|nd|rd)?/i,GF=/\d+/i,YF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QF={any:[/^b/i,/^(a|c)/i]},JF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XF={any:[/1/i,/2/i,/3/i,/4/i]},ZF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o3={ordinalNumber:kj({matchPattern:KF,parsePattern:GF,valueCallback:e=>parseInt(e,10)}),era:Or({matchPatterns:YF,defaultMatchWidth:"wide",parsePatterns:QF,defaultParseWidth:"any"}),quarter:Or({matchPatterns:JF,defaultMatchWidth:"wide",parsePatterns:XF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Or({matchPatterns:ZF,defaultMatchWidth:"wide",parsePatterns:e3,defaultParseWidth:"any"}),day:Or({matchPatterns:t3,defaultMatchWidth:"wide",parsePatterns:r3,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:n3,defaultMatchWidth:"any",parsePatterns:s3,defaultParseWidth:"any"})},i3={code:"en-US",formatDistance:TF,formatLong:IF,formatRelative:DF,localize:WF,match:o3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function a3(e){const t=jr(e);return EF(t,NF(t))+1}function l3(e){const t=jr(e),r=+Mc(t)-+jF(t);return Math.round(r/jj)+1}function Nj(e,t){var d,f,m,p;const r=jr(e),n=r.getFullYear(),s=$u(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ls(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=ja(i,t),c=Ls(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=ja(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function c3(e,t){var a,c,u,d;const r=$u(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Nj(e,t),o=Ls(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ja(o,t)}function u3(e,t){const r=jr(e),n=+ja(r,t)-+c3(r,t);return Math.round(n/jj)+1}function ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const mn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ye(r+1,2)},d(e,t){return ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ye(e.getHours()%12||12,t.length)},H(e,t){return ye(e.getHours(),t.length)},m(e,t){return ye(e.getMinutes(),t.length)},s(e,t){return ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ye(s,t.length)}},so={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cy={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return mn.y(e,t)},Y:function(e,t,r,n){const s=Nj(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ye(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ye(o,t.length)},R:function(e,t){const r=Cj(e);return ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return mn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=u3(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ye(s,t.length)},I:function(e,t,r){const n=l3(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):mn.d(e,t)},D:function(e,t,r){const n=a3(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ye(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ye(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ye(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=so.noon:n===0?s=so.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=so.evening:n>=12?s=so.afternoon:n>=4?s=so.morning:s=so.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):mn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):mn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):mn.s(e,t)},S:function(e,t){return mn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ny(n);case"XXXX":case"XX":return fs(n);case"XXXXX":case"XXX":default:return fs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ny(n);case"xxxx":case"xx":return fs(n);case"xxxxx":case"xxx":default:return fs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ky(n,":");case"OOOO":default:return"GMT"+fs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ky(n,":");case"zzzz":default:return"GMT"+fs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ye(n,t.length)},T:function(e,t,r){const n=e.getTime();return ye(n,t.length)}};function ky(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+ye(o,2)}function Ny(e,t){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):fs(e,t)}function fs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ye(Math.trunc(n/60),2),o=ye(n%60,2);return r+s+t+o}const Py=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Pj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},d3=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Py(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Py(n,t)).replace("{{time}}",Pj(s,t))},f3={p:Pj,P:d3},h3=/^D+$/,p3=/^Y+$/,m3=["D","DD","YY","YYYY"];function g3(e){return h3.test(e)}function v3(e){return p3.test(e)}function y3(e,t,r){const n=w3(e,t,r);if(console.warn(n),m3.includes(e))throw new RangeError(n)}function w3(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_3=/^'([^]*?)'?$/,S3=/''/g,E3=/[a-zA-Z]/;function Cm(e,t,r){var d,f,m,p,b,g,v,w;const n=$u(),s=(r==null?void 0:r.locale)??n.locale??i3,o=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,a=jr(e);if(!kF(a))throw new RangeError("Invalid time value");let c=t.match(b3).map(y=>{const x=y[0];if(x==="p"||x==="P"){const _=f3[x];return _(y,s.formatLong)}return y}).join("").match(x3).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:j3(y)};if(Cy[x])return{isToken:!0,value:y};if(x.match(E3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&v3(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&g3(x))&&y3(x,t,String(e));const _=Cy[x[0]];return _(a,x,s.localize,u)}).join("")}function j3(e){const t=e.match(_3);return t?t[1].replace(S3,"'"):e}const C3={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},k3=(e,t,r)=>{let n;const s=C3[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},N3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},P3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},T3={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R3={date:Mo({formats:N3,defaultWidth:"full"}),time:Mo({formats:P3,defaultWidth:"full"}),dateTime:Mo({formats:T3,defaultWidth:"full"})},A3={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},O3=(e,t,r,n)=>{const s=A3[e];return typeof s=="function"?s(t):s},I3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},M3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},D3={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},$3={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},L3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},F3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},U3=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},B3={ordinalNumber:U3,era:Ar({values:I3,defaultWidth:"wide"}),quarter:Ar({values:M3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ar({values:D3,defaultWidth:"wide"}),day:Ar({values:$3,defaultWidth:"wide"}),dayPeriod:Ar({values:L3,defaultWidth:"wide",formattingValues:F3,defaultFormattingWidth:"wide"})},z3=/^(\d+)[o]?/i,V3=/\d+/i,W3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},H3={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},q3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},K3={any:[/1/i,/2/i,/3/i,/4/i]},G3={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Y3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Q3={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},J3={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},X3={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Z3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},eU={ordinalNumber:kj({matchPattern:z3,parsePattern:V3,valueCallback:e=>parseInt(e,10)}),era:Or({matchPatterns:W3,defaultMatchWidth:"wide",parsePatterns:H3,defaultParseWidth:"any"}),quarter:Or({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:K3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Or({matchPatterns:G3,defaultMatchWidth:"wide",parsePatterns:Y3,defaultParseWidth:"any"}),day:Or({matchPatterns:Q3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:X3,defaultMatchWidth:"any",parsePatterns:Z3,defaultParseWidth:"any"})},km={code:"pt-BR",formatDistance:k3,formatLong:R3,formatRelative:O3,localize:B3,match:eU,options:{weekStartsOn:0,firstWeekContainsDate:1}},tU=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(30),[s,o]=h.useState(19.9),[i,a]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[b,g]=h.useState(!1);h.useEffect(()=>{v(),w()},[]);const v=async()=>{try{const{data:E,error:j}=await q.from("vip_settings").select("test_payment_enabled, vip_duration_days, vip_price").single();if(j)throw j;t(E.test_payment_enabled),n(E.vip_duration_days),o(E.vip_price)}catch(E){console.error("Error loading VIP settings:",E)}},w=async()=>{f(!0);try{const{data:{session:E}}=await q.auth.getSession(),j=await q.functions.invoke("vip-admin",{body:{action:"list_vip_users"},headers:{Authorization:`Bearer ${E==null?void 0:E.access_token}`}});if(j.error)throw j.error;a(j.data.users||[])}catch(E){console.error("Error loading VIP users:",E),X.error("Erro ao carregar usurios VIP")}finally{f(!1)}},y=async E=>{u(!0);try{const{data:{session:j}}=await q.auth.getSession(),k=await q.functions.invoke("vip-admin",{body:{action:"toggle_test_payment",testPaymentEnabled:E},headers:{Authorization:`Bearer ${j==null?void 0:j.access_token}`}});if(k.error)throw k.error;t(E),X.success(E?"Pagamento de teste ativado":"Pagamento de teste desativado")}catch(j){console.error("Error toggling test payment:",j),X.error("Erro ao alterar configurao")}finally{u(!1)}},x=async()=>{if(r<1){X.error("A durao deve ser no mnimo 1 dia");return}p(!0);try{const{data:{session:E}}=await q.auth.getSession(),j=await q.functions.invoke("vip-admin",{body:{action:"update_vip_duration",vipDurationDays:r},headers:{Authorization:`Bearer ${E==null?void 0:E.access_token}`}});if(j.error)throw j.error;X.success("Durao do VIP atualizada com sucesso")}catch(E){console.error("Error updating VIP duration:",E),X.error("Erro ao atualizar durao do VIP")}finally{p(!1)}},_=async()=>{if(s<.01){X.error("O preo deve ser maior que zero");return}g(!0);try{const{data:{session:E}}=await q.auth.getSession(),j=await q.functions.invoke("vip-admin",{body:{action:"update_vip_price",vipPrice:s},headers:{Authorization:`Bearer ${E==null?void 0:E.access_token}`}});if(j.error)throw j.error;X.success("Preo do VIP atualizado com sucesso")}catch(E){console.error("Error updating VIP price:",E),X.error("Erro ao atualizar preo do VIP")}finally{g(!1)}},S=async(E,j)=>{if(confirm(`Tem certeza que deseja remover o VIP de ${j}?`))try{const{data:{session:k}}=await q.auth.getSession(),A=await q.functions.invoke("vip-admin",{body:{action:"remove_vip",userId:E},headers:{Authorization:`Bearer ${k==null?void 0:k.access_token}`}});if(A.error)throw A.error;X.success("VIP removido com sucesso"),w()}catch(k){console.error("Error removing VIP:",k),X.error("Erro ao remover VIP")}};return l.jsxs(be,{children:[l.jsx(_e,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Se,{className:"flex items-center gap-2",children:[l.jsx($r,{className:"w-5 h-5 text-primary"}),"Gerenciamento VIP"]}),l.jsx(Ye,{children:"Configure o sistema de pagamento e gerencie usurios VIP"})]}),l.jsxs(te,{variant:"outline",size:"sm",onClick:w,disabled:d,children:[l.jsx(M0,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Atualizar"]})]})}),l.jsxs(Ee,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ze,{htmlFor:"test-payment",children:"Pagamento de Teste"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando ativado, os pagamentos so aprovados automaticamente"})]}),l.jsx(Ej,{id:"test-payment",checked:e,onCheckedChange:y,disabled:c})]}),l.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ze,{htmlFor:"vip-duration",children:"Durao do VIP (dias)"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantos dias o VIP ficar ativo aps a ativao"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ze,{id:"vip-duration",type:"number",min:"1",value:r,onChange:E=>n(parseInt(E.target.value)||1),className:"max-w-[200px]"}),l.jsx(te,{onClick:x,disabled:m,children:m?"Salvando...":"Salvar"})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ze,{htmlFor:"vip-price",children:"Preo do VIP (R$)"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor mensal do plano VIP"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ze,{id:"vip-price",type:"number",min:"0.01",step:"0.01",value:s,onChange:E=>o(parseFloat(E.target.value)||.01),className:"max-w-[200px]"}),l.jsx(te,{onClick:_,disabled:b,children:b?"Salvando...":"Salvar"})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Usurios VIP (",i.length,")"]}),i.length===0?l.jsxs("div",{className:"text-center p-8 border rounded-lg border-dashed",children:[l.jsx($r,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),l.jsx("p",{className:"text-muted-foreground",children:"Nenhum usurio VIP no momento"})]}):l.jsx("div",{className:"space-y-3",children:i.map(E=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-medium",children:E.email}),l.jsx(Qt,{variant:"default",className:"text-xs",children:"VIP"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expira em: ",Cm(new Date(E.vip_expires_at),"dd 'de' MMMM 'de' yyyy",{locale:km})]})]}),l.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>S(E.id,E.email),children:[l.jsx(Sp,{className:"w-4 h-4 mr-2"}),"Remover VIP"]})]},E.id))})]})]})]})},rU=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!1),[s,o]=h.useState(null);h.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const{data:{session:d}}=await q.auth.getSession(),f=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-users",{method:"POST",headers:{Authorization:`Bearer ${d==null?void 0:d.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"list"})}),m=await f.json();if(!f.ok)throw new Error(m.error||"Failed to fetch users");t(m.users||[])}catch(d){X.error(d.message||"Erro ao carregar usurios")}finally{n(!1)}},a=async d=>{o(d);try{const{data:{session:f}}=await q.auth.getSession(),m=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-users",{method:"POST",headers:{Authorization:`Bearer ${f==null?void 0:f.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_admin",userId:d})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to toggle admin");X.success("Status de admin atualizado"),await i()}catch(f){X.error(f.message||"Erro ao atualizar admin")}finally{o(null)}},c=async d=>{o(d);try{const{data:{session:f}}=await q.auth.getSession(),m=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-users",{method:"POST",headers:{Authorization:`Bearer ${f==null?void 0:f.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"grant_vip",userId:d})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to grant VIP");X.success("VIP concedido com sucesso"),await i()}catch(f){X.error(f.message||"Erro ao conceder VIP")}finally{o(null)}},u=async d=>{o(d);try{const{data:{session:f}}=await q.auth.getSession(),m=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-users",{method:"POST",headers:{Authorization:`Bearer ${f==null?void 0:f.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_affiliate",userId:d})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to toggle affiliate");X.success("Status de afiliado atualizado"),await i()}catch(f){X.error(f.message||"Erro ao atualizar afiliado")}finally{o(null)}};return l.jsxs(be,{className:"shadow-sm",children:[l.jsxs(_e,{className:"border-b bg-muted/30",children:[l.jsx(Se,{children:"Gerenciar Usurios"}),l.jsx(Ye,{children:"Gerencie permisses de admin e status VIP de todos os usurios"})]}),l.jsx(Ee,{className:"pt-6",children:r?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs(_m,{children:[l.jsx(Sm,{children:l.jsxs(Oo,{children:[l.jsx(Rt,{children:"Email"}),l.jsx(Rt,{children:"Data de Criao"}),l.jsx(Rt,{children:"Status"}),l.jsx(Rt,{children:"VIP Expira"}),l.jsx(Rt,{className:"text-right",children:"Aes"})]})}),l.jsx(Em,{children:e.map(d=>l.jsxs(Oo,{children:[l.jsx(bt,{className:"font-medium",children:d.email}),l.jsx(bt,{children:new Date(d.created_at).toLocaleDateString("pt-BR")}),l.jsx(bt,{children:l.jsxs("div",{className:"flex gap-2",children:[d.is_admin&&l.jsxs(Qt,{variant:"secondary",className:"gap-1",children:[l.jsx($f,{className:"h-3 w-3"}),"Admin"]}),d.is_vip&&l.jsxs(Qt,{variant:"default",className:"gap-1",children:[l.jsx($r,{className:"h-3 w-3"}),"VIP"]}),d.is_affiliate&&l.jsxs(Qt,{variant:"outline",className:"gap-1",children:[l.jsx(wc,{className:"h-3 w-3"}),"Afiliado"]})]})}),l.jsx(bt,{children:d.is_vip&&d.vip_expires_at?new Date(d.vip_expires_at).toLocaleDateString("pt-BR"):"-"}),l.jsx(bt,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end flex-wrap",children:[l.jsx(te,{variant:d.is_admin?"destructive":"outline",size:"sm",onClick:()=>a(d.id),disabled:s===d.id,children:s===d.id?l.jsx(qe,{className:"h-4 w-4 animate-spin"}):d.is_admin?l.jsxs(l.Fragment,{children:[l.jsx(VP,{className:"h-4 w-4 mr-1"}),"Remover Admin"]}):l.jsxs(l.Fragment,{children:[l.jsx($f,{className:"h-4 w-4 mr-1"}),"Tornar Admin"]})}),l.jsx(te,{variant:"default",size:"sm",onClick:()=>c(d.id),disabled:s===d.id,children:s===d.id?l.jsx(qe,{className:"h-4 w-4 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx($r,{className:"h-4 w-4 mr-1"}),"Conceder VIP"]})}),l.jsx(te,{variant:d.is_affiliate?"secondary":"outline",size:"sm",onClick:()=>u(d.id),disabled:s===d.id,children:s===d.id?l.jsx(qe,{className:"h-4 w-4 animate-spin"}):d.is_affiliate?l.jsxs(l.Fragment,{children:[l.jsx(GP,{className:"h-4 w-4 mr-1"}),"Remover Afiliado"]}):l.jsxs(l.Fragment,{children:[l.jsx(wc,{className:"h-4 w-4 mr-1"}),"Tornar Afiliado"]})})]})})]},d.id))})]})})]})},nU=()=>{const{user:e,loading:t,signOut:r}=Sr(),n=Nt(),[s,o]=h.useState([]),[i,a]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[b,g]=h.useState(!1),[v,w]=h.useState(1),[y,x]=h.useState(1),[_,S]=h.useState({totalItems:0,published:0,movies:0,series:0});h.useEffect(()=>{!t&&!e&&(X.error("Faa login para acessar o painel."),n("/login"))},[e,t,n]),h.useEffect(()=>{e&&(E(),j())},[e,v]);const E=async()=>{var N;u(!0);try{const{data:{session:R}}=await q.auth.getSession(),D=await fetch(`https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-items?page=${v}`,{headers:{Authorization:`Bearer ${R==null?void 0:R.access_token}`}}),M=await D.json();if(!D.ok)throw new Error(M.error||"Failed to fetch items");o(M.items||[]),x(((N=M.pagination)==null?void 0:N.totalPages)||1);const G=M.items||[];S({totalItems:G.length,published:G.filter(F=>F.published).length,movies:G.filter(F=>F.type==="movie").length,series:G.filter(F=>F.type==="series").length})}catch(R){X.error(R.message||"Erro ao carregar items")}finally{u(!1)}},j=async()=>{try{const{data:{session:N}}=await q.auth.getSession(),R=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-logs?limit=50",{headers:{Authorization:`Bearer ${N==null?void 0:N.access_token}`}}),D=await R.json();R.ok&&a(D||[])}catch(N){console.error("Error fetching logs:",N)}},k=async()=>{f(!0);try{const{data:{session:N}}=await q.auth.getSession(),R=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-sync",{method:"POST",headers:{Authorization:`Bearer ${N==null?void 0:N.access_token}`}}),D=await R.json();if(!R.ok)throw new Error(D.error||"Failed to sync");X.success(`Sincronizao completa: ${D.checked} checados, ${D.published} publicados, ${D.failed} falharam`),E(),j()}catch(N){X.error(N.message||"Erro ao sincronizar")}finally{f(!1)}},A=async()=>{p(!0);try{const{data:{session:N}}=await q.auth.getSession(),R=await fetch("https://cykbjtdksxjexzgsshcc.supabase.co/functions/v1/admin-cache",{method:"DELETE",headers:{Authorization:`Bearer ${N==null?void 0:N.access_token}`}}),D=await R.json();if(!R.ok)throw new Error(D.error||"Failed to clear cache");X.success("Cache limpo com sucesso!")}catch(N){X.error(N.message||"Erro ao limpar cache")}finally{p(!1)}};if(t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})});if(!e)return null;const C=async()=>{await r(),n("/login")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[l.jsx("header",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-50",children:l.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(vd,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:"Painel Administrativo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Gerenciar Filmes e Sries"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:e.email}),l.jsxs(te,{variant:"outline",size:"sm",onClick:C,children:[l.jsx(_p,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})}),l.jsxs("main",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[l.jsxs(be,{className:"border-l-4 border-l-primary",children:[l.jsx(_e,{className:"pb-3",children:l.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Total de Items"})}),l.jsx(Ee,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-3xl font-bold",children:_.totalItems}),l.jsx(vd,{className:"h-8 w-8 text-primary/20"})]})})]}),l.jsxs(be,{className:"border-l-4 border-l-green-500",children:[l.jsx(_e,{className:"pb-3",children:l.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Publicados"})}),l.jsx(Ee,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-3xl font-bold",children:_.published}),l.jsx(OP,{className:"h-8 w-8 text-green-500/20"})]})})]}),l.jsxs(be,{className:"border-l-4 border-l-blue-500",children:[l.jsx(_e,{className:"pb-3",children:l.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Filmes"})}),l.jsx(Ee,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-3xl font-bold",children:_.movies}),l.jsx(ev,{className:"h-8 w-8 text-blue-500/20"})]})})]}),l.jsxs(be,{className:"border-l-4 border-l-purple-500",children:[l.jsx(_e,{className:"pb-3",children:l.jsx(Se,{className:"text-sm font-medium text-muted-foreground",children:"Sries"})}),l.jsx(Ee,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-3xl font-bold",children:_.series}),l.jsx(KP,{className:"h-8 w-8 text-purple-500/20"})]})})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(te,{variant:"outline",onClick:A,disabled:m,children:[m?l.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Sp,{className:"mr-2 h-4 w-4"}),"Limpar Cache"]}),l.jsxs(te,{variant:"outline",onClick:k,disabled:d,children:[d?l.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(M0,{className:"mr-2 h-4 w-4"}),"Sincronizar"]})]}),l.jsxs(te,{onClick:()=>g(!0),size:"lg",children:[l.jsx(IP,{className:"mr-2 h-5 w-5"}),"Adicionar Item"]})]}),l.jsxs(v4,{defaultValue:"items",className:"w-full",children:[l.jsxs(iE,{className:"grid w-full max-w-3xl grid-cols-5 mb-6",children:[l.jsxs(lo,{value:"items",className:"gap-2",children:[l.jsx(ev,{className:"h-4 w-4"}),"Items de Mdia"]}),l.jsxs(lo,{value:"ad-settings",className:"gap-2",children:[l.jsx(D0,{className:"h-4 w-4"}),"Config. Anncios"]}),l.jsxs(lo,{value:"vip",className:"gap-2",children:[l.jsx($r,{className:"h-4 w-4"}),"VIP"]}),l.jsxs(lo,{value:"users",className:"gap-2",children:[l.jsx(wc,{className:"h-4 w-4"}),"Usurios"]}),l.jsxs(lo,{value:"logs",className:"gap-2",children:[l.jsx(vd,{className:"h-4 w-4"}),"Logs"]})]}),l.jsx(co,{value:"items",className:"space-y-4",children:l.jsxs(be,{className:"shadow-sm",children:[l.jsxs(_e,{className:"border-b bg-muted/30",children:[l.jsx(Se,{children:"Gerenciar Items de Mdia"}),l.jsx(Ye,{children:"Adicione, verifique e publique filmes e sries na plataforma"})]}),l.jsx(Ee,{className:"pt-6",children:c?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx(D4,{items:s,onRefresh:E}),y>1&&l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[l.jsx(te,{variant:"outline",onClick:()=>w(N=>Math.max(1,N-1)),disabled:v===1,children:"Anterior"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",v," de ",y]}),l.jsx(te,{variant:"outline",onClick:()=>w(N=>Math.min(y,N+1)),disabled:v===y,children:"Prxima"})]})]})})]})}),l.jsx(co,{value:"ad-settings",children:l.jsx(gF,{})}),l.jsx(co,{value:"vip",children:l.jsx(tU,{})}),l.jsx(co,{value:"users",children:l.jsx(rU,{})}),l.jsx(co,{value:"logs",children:l.jsxs(be,{className:"shadow-sm",children:[l.jsxs(_e,{className:"border-b bg-muted/30",children:[l.jsx(Se,{children:"Logs de Atividade"}),l.jsx(Ye,{children:"Histrico completo de aes administrativas no sistema"})]}),l.jsx(Ee,{className:"pt-6",children:l.jsx("div",{className:"space-y-2",children:i.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum log encontrado"}):i.map(N=>{var R;return l.jsxs("div",{className:"flex items-start justify-between border-b pb-2 last:border-0",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-sm font-medium",children:[N.action,((R=N.media_items)==null?void 0:R.title)&&` - ${N.media_items.title}`]}),N.message&&l.jsx("p",{className:"text-xs text-muted-foreground",children:N.message})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(N.created_at).toLocaleString("pt-BR")}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${N.status==="success"?"bg-green-100 text-green-800":N.status==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:N.status})]})]},N.id)})})})]})})]})]}),l.jsx(mF,{open:b,onOpenChange:g,onSuccess:E})]})};var Nm="Radio",[sU,Tj]=ct(Nm),[oU,iU]=sU(Nm),Rj=h.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:c,form:u,...d}=e,[f,m]=h.useState(null),p=oe(t,v=>m(v)),b=h.useRef(!1),g=f?u||!!f.closest("form"):!0;return l.jsxs(oU,{scope:r,checked:s,disabled:i,children:[l.jsx(Z.button,{type:"button",role:"radio","aria-checked":s,"data-state":Mj(s),"data-disabled":i?"":void 0,disabled:i,value:a,...d,ref:p,onClick:L(e.onClick,v=>{s||c==null||c(),g&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),g&&l.jsx(Ij,{control:f,bubbles:!b.current,name:n,value:a,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});Rj.displayName=Nm;var Aj="RadioIndicator",Oj=h.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=iU(Aj,r);return l.jsx(yt,{present:n||o.checked,children:l.jsx(Z.span,{"data-state":Mj(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Oj.displayName=Aj;var aU="RadioBubbleInput",Ij=h.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),a=oe(i,o),c=Pu(r),u=fu(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),l.jsx(Z.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ij.displayName=aU;function Mj(e){return e?"checked":"unchecked"}var lU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lu="RadioGroup",[cU]=ct(Lu,[fi,Tj]),Dj=fi(),$j=Tj(),[uU,dU]=cU(Lu),Lj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,p=Dj(r),b=Ua(u),[g,v]=wr({prop:o,defaultProp:s??null,onChange:f,caller:Lu});return l.jsx(uU,{scope:r,name:n,required:i,disabled:a,value:g,onValueChange:v,children:l.jsx(Xp,{asChild:!0,...p,orientation:c,dir:b,loop:d,children:l.jsx(Z.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":a?"":void 0,dir:b,...m,ref:t})})})});Lj.displayName=Lu;var Fj="RadioGroupItem",Uj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=dU(Fj,r),i=o.disabled||n,a=Dj(r),c=$j(r),u=h.useRef(null),d=oe(t,u),f=o.value===s.value,m=h.useRef(!1);return h.useEffect(()=>{const p=g=>{lU.includes(g.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",b)}},[]),l.jsx(Zp,{asChild:!0,...a,focusable:!i,active:f,children:l.jsx(Rj,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:L(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:L(s.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});Uj.displayName=Fj;var fU="RadioGroupIndicator",Bj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=$j(r);return l.jsx(Oj,{...s,...n,ref:t})});Bj.displayName=fU;var zj=Lj,Vj=Uj,hU=Bj;const Wj=h.forwardRef(({className:e,...t},r)=>l.jsx(zj,{className:K("grid gap-2",e),...t,ref:r}));Wj.displayName=zj.displayName;const xh=h.forwardRef(({className:e,...t},r)=>l.jsx(Vj,{ref:r,className:K("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(hU,{className:"flex items-center justify-center",children:l.jsx(O0,{className:"h-2.5 w-2.5 fill-current text-current"})})}));xh.displayName=Vj.displayName;function pU(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i);a.displayName=o+"Context";const c=r.length;r=[...r,i];const u=f=>{var w;const{scope:m,children:p,...b}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[c])||a,v=h.useMemo(()=>b,Object.values(b));return l.jsx(g.Provider,{value:v,children:p})};u.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||a,b=h.useContext(p);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,mU(s,...t)]}function mU(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Pm="Progress",Tm=100,[gU]=pU(Pm),[vU,yU]=gU(Pm),Hj=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=wU,...i}=e;(s||s===0)&&!Ty(s)&&console.error(xU(`${s}`,"Progress"));const a=Ty(s)?s:Tm;n!==null&&!Ry(n,a)&&console.error(bU(`${n}`,"Progress"));const c=Ry(n,a)?n:null,u=Dc(c)?o(c,a):void 0;return l.jsx(vU,{scope:r,value:c,max:a,children:l.jsx(xm.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Dc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Gj(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});Hj.displayName=Pm;var qj="ProgressIndicator",Kj=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=yU(qj,r);return l.jsx(xm.div,{"data-state":Gj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Kj.displayName=qj;function wU(e,t){return`${Math.round(e/t*100)}%`}function Gj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Dc(e){return typeof e=="number"}function Ty(e){return Dc(e)&&!isNaN(e)&&e>0}function Ry(e,t){return Dc(e)&&!isNaN(e)&&e<=t&&e>=0}function xU(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Tm}\`.`}function bU(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Tm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Yj=Hj,_U=Kj;const Qj=h.forwardRef(({className:e,value:t,...r},n)=>l.jsx(Yj,{ref:n,className:K("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(_U,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Qj.displayName=Yj.displayName;const SU=()=>{const e=Nt(),{user:t,loading:r,signOut:n}=Sr(),{isVip:s,vipExpiresAt:o,loading:i}=lm(),{getRemainingAdFreeTime:a,isAdFree:c,adPreference:u,loading:d,adSettings:f,adUrls:m,adsWatchedCount:p,updateAdPreference:b,incrementAdsWatched:g,watchFiveAds:v}=Ka(),w=async k=>{console.log(" Salvando preferncia:",k);const{error:A}=await b(k);A?(console.error(" Erro ao salvar:",A),pr({title:"Erro ao salvar preferncia",description:A,variant:"destructive"})):(console.log(" Preferncia salva automaticamente"),pr({title:"Preferncia salva",description:"Sua preferncia de anncios foi atualizada."}))},y=async()=>{const k=(f==null?void 0:f.ads_required_for_free_time)||5;if(p>=k)return;const A=m[p%m.length];if(A){window.open(A.url,"_blank");const C=await g();if(C.error){console.error(" Erro ao salvar progresso:",C.error),pr({title:"Erro",description:"No foi possvel salvar o progresso",variant:"destructive"});return}if((C.newCount||0)>=k){console.log(" Todos os anncios assistidos, concedendo tempo livre");const R=await v(k);if(R.error)console.error(" Erro ao conceder tempo livre:",R.error);else{const D=(f==null?void 0:f.free_time_hours)||24;console.log(` Tempo livre concedido: ${D}h`),pr({title:"Parabns!",description:`Voc ganhou ${D} horas sem anncios!`})}}}},x=async()=>{const{error:k}=await n();k||(pr({title:"Logout realizado",description:"Voc saiu da sua conta com sucesso."}),e("/login"))};if(h.useEffect(()=>{!r&&!t&&e(`/login?redirect=${encodeURIComponent("/profile")}`)},[t,r,e]),r||d||i)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!t)return null;const _=a(),S=(f==null?void 0:f.ads_required_for_free_time)||5,E=(f==null?void 0:f.free_time_hours)||24,j=(f==null?void 0:f.interval_minutes)||40;return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsx("main",{className:"container mx-auto px-4 py-8 mt-20",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Perfil do Usurio"}),l.jsx(Ye,{children:"Gerencie suas informaes e preferncias"})]}),l.jsx(Ee,{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),l.jsx("p",{className:"font-medium",children:t.email})]})})]}),l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Configuraes de Anncios"}),l.jsx(Ye,{children:s?"Voc  um membro VIP - sem anncios!":"Configure como voc prefere lidar com anncios"})]}),l.jsxs(Ee,{className:"space-y-6",children:[s&&o?l.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 flex items-center gap-3",children:[l.jsx($r,{className:"h-6 w-6 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-sm",children:"Voc  VIP!"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Seu VIP expira em: ",Cm(new Date(o),"dd/MM/yyyy 's' HH:mm",{locale:km})]})]})]}):c()&&_?l.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 flex items-center gap-3",children:[l.jsx(MP,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-sm",children:"Voc est livre de anncios!"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tempo restante: ",_.hours,"h ",_.minutes,"min"]})]})]}):null,!s&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Wj,{value:u,onValueChange:k=>w(k),className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border border-border hover:bg-accent/50 transition-colors",children:[l.jsx(xh,{value:"five_at_once",id:"five_at_once",className:"mt-1"}),l.jsxs(ze,{htmlFor:"five_at_once",className:"flex-1 cursor-pointer",children:[l.jsxs("div",{className:"font-medium",children:["Assistir ",S," anncios de uma vez"]}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Assista ",S," anncios agora e ganhe ",E,"h sem interrupes"]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border border-border hover:bg-accent/50 transition-colors",children:[l.jsx(xh,{value:"one_per_40min",id:"one_per_40min",className:"mt-1"}),l.jsxs(ze,{htmlFor:"one_per_40min",className:"flex-1 cursor-pointer",children:[l.jsxs("div",{className:"font-medium",children:["Assistir 1 anncio a cada ",j," minutos"]}),l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Um anncio curto aparecer durante a reproduo"})]})]})]}),u==="five_at_once"&&!c()&&l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),l.jsxs("span",{className:"font-medium",children:[p," de ",S]})]}),l.jsx(Qj,{value:p/S*100,className:"h-2"})]}),l.jsxs(te,{onClick:y,disabled:p>=S,className:"w-full",children:[l.jsx(bp,{className:"mr-2 h-4 w-4"}),p>=S?"Todos os anncios assistidos!":`Assistir anncio ${p+1} de ${S}`]})]})]})]})]}),l.jsxs(be,{children:[l.jsx(_e,{children:l.jsx(Se,{children:"Aes da Conta"})}),l.jsx(Ee,{children:l.jsxs(te,{onClick:x,variant:"destructive",className:"w-full",children:[l.jsx(_p,{className:"mr-2 h-4 w-4"}),"Sair da conta"]})})]})]})})]})},EU=()=>{const e=Nt(),{user:t,loading:r}=Sr(),{isVip:n,vipExpiresAt:s,loading:o,testPaymentEnabled:i,vipDurationDays:a,vipPrice:c,activateVip:u}=lm();if(h.useEffect(()=>{!r&&!t&&e("/login")},[t,r,e]),r||o)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});const d=[`Sem anncios por ${a} dias`,"Acesso ilimitado a todos os filmes e sries","Qualidade de streaming premium","Suporte prioritrio","Experincia sem interrupes"];return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsx("div",{className:"container mx-auto px-4 py-12",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/10 mb-4",children:l.jsx($r,{className:"w-10 h-10 text-primary"})}),l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Plano VIP"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Aproveite uma experincia premium sem anncios"})]}),n?l.jsxs(be,{className:"border-primary/50 bg-primary/5",children:[l.jsx(_e,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Se,{className:"text-2xl flex items-center gap-2",children:[l.jsx($r,{className:"w-6 h-6 text-primary"}),"Voc  VIP!"]}),l.jsx(Ye,{className:"text-lg mt-2",children:"Aproveite sua experincia premium"})]}),l.jsx(Qt,{variant:"default",className:"text-lg px-4 py-2",children:"Ativo"})]})}),l.jsxs(Ee,{children:[s&&l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-6",children:[l.jsx(su,{className:"w-5 h-5"}),l.jsxs("span",{children:["Expira em: ",Cm(new Date(s),"dd 'de' MMMM 'de' yyyy",{locale:km})]})]}),l.jsx("div",{className:"space-y-3 mb-6",children:d.map((f,m)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:l.jsx(fa,{className:"w-4 h-4 text-primary"})}),l.jsx("span",{className:"text-foreground",children:f})]},m))}),i&&l.jsxs(te,{onClick:u,className:"w-full",size:"lg",children:["Renovar VIP por ",a," dias"]})]})]}):l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{className:"text-2xl",children:"Assine o Plano VIP"}),l.jsxs(Ye,{className:"text-lg",children:["R$ ",c.toFixed(2).replace(".",",")," / ms"]})]}),l.jsxs(Ee,{children:[l.jsx("div",{className:"space-y-3 mb-8",children:d.map((f,m)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:l.jsx(fa,{className:"w-4 h-4 text-primary"})}),l.jsx("span",{className:"text-foreground",children:f})]},m))}),i?l.jsxs(te,{onClick:u,className:"w-full",size:"lg",children:[l.jsx($r,{className:"w-5 h-5 mr-2"}),"Assinar VIP (Teste - Grtis)"]}):l.jsx("div",{className:"text-center p-6 bg-muted rounded-lg",children:l.jsxs("p",{className:"text-muted-foreground",children:["O sistema de pagamento est sendo configurado.",l.jsx("br",{}),"Em breve voc poder assinar o plano VIP."]})})]})]})]})})})};function jU(){const{user:e,loading:t}=Sr(),r=Nt(),[n,s]=h.useState(!0),[o,i]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(0),[f,m]=h.useState(0),[p,b]=h.useState(0),[g,v]=h.useState(0),[w,y]=h.useState(0),[x,_]=h.useState(0),[S,E]=h.useState([]);h.useEffect(()=>{if(!t&&!e){r("/login");return}e&&j()},[e,t,r]);const j=async()=>{try{const{data:C,error:N}=await q.from("profiles").select("is_affiliate, affiliate_code, affiliate_balance").eq("id",e==null?void 0:e.id).single();if(N)throw N;if(!(C!=null&&C.is_affiliate)){X.error("Voc no  um afiliado"),r("/");return}i(!0),c(C.affiliate_code||""),d(C.affiliate_balance||0),await k()}catch(C){console.error("Error checking affiliate status:",C),X.error("Erro ao verificar status de afiliado"),r("/")}finally{s(!1)}},k=async()=>{if(e)try{const{data:C}=await q.from("profiles").select("affiliate_code").eq("id",e.id).single(),N=(C==null?void 0:C.affiliate_code)||a;if(!N){console.log(" Nenhum cdigo de afiliado encontrado");return}console.log(" Carregando stats para afiliado:",e.id,"cdigo:",N);const{count:R}=await q.from("affiliate_clicks").select("*",{count:"exact",head:!0}).eq("affiliate_code",N);console.log(" Total de cliques:",R);const{data:D,count:M,error:G}=await q.from("profiles").select("id, email, created_at, is_vip, vip_expires_at",{count:"exact"}).eq("referred_by",N);G?console.error(" Erro ao buscar indicados:",G):(console.log(" Total de cadastros (referred_by):",M),console.log(" Usurios indicados:",D),E(D||[]),m(M||0));const{data:F}=await q.from("affiliate_conversions").select("*").eq("affiliate_id",e.id);if(F){const Y=new Date,T=new Date(Y.getFullYear(),Y.getMonth(),1),I=F.filter(W=>new Date(W.created_at)>=T).reduce((W,le)=>W+(le.amount||0),0);b(I);const V=F.filter(W=>W.conversion_type==="daily_ads"),z=F.filter(W=>W.conversion_type==="per_ad"),ee=F.filter(W=>W.conversion_type==="vip_subscription");v(V.reduce((W,le)=>W+(le.amount||0),0)),y(z.reduce((W,le)=>W+(le.amount||0),0)),_(ee.reduce((W,le)=>W+(le.amount||0),0)),console.log("Converses carregadas:",{dailyAds:V.length,perAd:z.length,vip:ee.length})}}catch(C){console.error("Erro ao carregar estatsticas:",C)}},A=()=>{const C=`${window.location.origin}/signup?ref=${a}`;navigator.clipboard.writeText(C),X.success("Link copiado para a rea de transferncia!")};return t||n?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando..."})})]}):o?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard de Afiliado"}),l.jsx("p",{className:"text-muted-foreground",children:"Acompanhe seus ganhos e converses"})]}),l.jsxs(be,{className:"mb-6",children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Seu Link de Afiliado"}),l.jsx(Ye,{children:"Compartilhe este link para ganhar comisses"})]}),l.jsxs(Ee,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:`${window.location.origin}/signup?ref=${a}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-secondary rounded-md text-sm"}),l.jsxs(te,{onClick:A,variant:"outline",children:[l.jsx(I0,{className:"h-4 w-4 mr-2"}),"Copiar"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Cdigo: ",l.jsx("span",{className:"font-mono font-semibold",children:a})]})]})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[l.jsxs(be,{children:[l.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Se,{className:"text-sm font-medium",children:"Saldo Total"}),l.jsx(DP,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ee,{children:l.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",u.toFixed(2)]})})]}),l.jsxs(be,{children:[l.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Se,{className:"text-sm font-medium",children:"Ganhos do Ms"}),l.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ee,{children:l.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",p.toFixed(2)]})})]}),l.jsxs(be,{children:[l.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Se,{className:"text-sm font-medium",children:"Total de Indicaes"}),l.jsx(wc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ee,{children:l.jsx("div",{className:"text-2xl font-bold",children:f})})]}),l.jsxs(be,{children:[l.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Se,{className:"text-sm font-medium",children:"Converses VIP"}),l.jsx(qP,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ee,{children:l.jsx("div",{className:"text-2xl font-bold",children:x.toFixed(2)})})]})]}),l.jsxs(be,{className:"mb-6",children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Converses por Tipo"}),l.jsx(Ye,{children:"Detalhamento dos seus ganhos"})]}),l.jsx(Ee,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Anncios Dirios (5 por dia)"}),l.jsxs("span",{className:"font-semibold",children:["R$ ",g.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Anncios por 40min"}),l.jsxs("span",{className:"font-semibold",children:["R$ ",w.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Assinaturas VIP"}),l.jsxs("span",{className:"font-semibold",children:["R$ ",x.toFixed(2)]})]})]})})]}),l.jsxs(be,{className:"mb-6",children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Usurios Indicados"}),l.jsx(Ye,{children:"Lista de todos os usurios que voc indicou"})]}),l.jsx(Ee,{children:S.length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum usurio indicado ainda"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm",children:"Email"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm",children:"Data de Cadastro"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm",children:"Status"})]})}),l.jsx("tbody",{children:S.map(C=>l.jsxs("tr",{className:"border-b last:border-0",children:[l.jsx("td",{className:"py-3 px-4 text-sm",children:C.email||"Email no disponvel"}),l.jsx("td",{className:"py-3 px-4 text-sm",children:C.created_at?new Date(C.created_at).toLocaleDateString("pt-BR"):"Data no disponvel"}),l.jsx("td",{className:"py-3 px-4",children:C.is_vip&&C.vip_expires_at&&new Date(C.vip_expires_at)>new Date?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:"VIP"}):l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary text-secondary-foreground",children:"Ativo"})})]},C.id))})]})})})]}),l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Solicitar Saque"}),l.jsxs(Ye,{children:["Saldo disponvel: R$ ",u.toFixed(2)]})]}),l.jsxs(Ee,{children:[l.jsx(te,{onClick:()=>r("/affiliate/withdraw"),disabled:u<20,className:"w-full sm:w-auto",children:"Solicitar Saque"}),u<20&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Saldo mnimo para saque: R$ 20,00"})]})]})]})]}):null}function CU(){const{user:e,loading:t}=Sr(),r=Nt(),[n,s]=h.useState(!0),[o,i]=h.useState(!1),[a,c]=h.useState(!1),[u,d]=h.useState(0),[f,m]=h.useState({pixName:"",pixKey:"",amount:""});h.useEffect(()=>{if(!t&&!e){r("/login");return}e&&p()},[e,t,r]);const p=async()=>{try{const{data:g,error:v}=await q.from("profiles").select("is_affiliate, affiliate_balance").eq("id",e==null?void 0:e.id).single();if(v)throw v;if(!(g!=null&&g.is_affiliate)){X.error("Voc no  um afiliado"),r("/");return}c(!0),d(g.affiliate_balance||0)}catch(g){console.error("Error checking affiliate status:",g),X.error("Erro ao verificar status de afiliado"),r("/")}finally{s(!1)}},b=async g=>{g.preventDefault();const v=parseFloat(f.amount);if(!f.pixName||!f.pixKey||!f.amount){X.error("Preencha todos os campos");return}if(v<20){X.error("Valor mnimo para saque  R$ 20,00");return}if(v>u){X.error("Saldo insuficiente");return}i(!0);try{const{error:w}=await q.from("affiliate_withdrawals").insert({affiliate_id:e==null?void 0:e.id,pix_name:f.pixName,pix_key:f.pixKey,amount:v,status:"pendente"});if(w)throw w;X.success("Solicitao de saque enviada com sucesso!"),r("/affiliate/dashboard")}catch(w){console.error("Error submitting withdrawal:",w),X.error("Erro ao solicitar saque")}finally{i(!1)}};return t||n?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando..."})})]}):a?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(_r,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(te,{variant:"ghost",onClick:()=>r("/affiliate/dashboard"),className:"mb-4",children:" Voltar ao Dashboard"}),l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitar Saque"}),l.jsxs("p",{className:"text-muted-foreground",children:["Saldo disponvel: R$ ",u.toFixed(2)]})]}),l.jsxs(be,{children:[l.jsxs(_e,{children:[l.jsx(Se,{children:"Dados para Saque"}),l.jsx(Ye,{children:"Preencha os dados da sua chave PIX. O saque ser processado manualmente."})]}),l.jsx(Ee,{children:l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"pixName",children:"Nome Completo"}),l.jsx(Ze,{id:"pixName",type:"text",placeholder:"Seu nome completo",value:f.pixName,onChange:g=>m({...f,pixName:g.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"pixKey",children:"Chave PIX"}),l.jsx(Ze,{id:"pixKey",type:"text",placeholder:"CPF, e-mail, telefone ou chave aleatria",value:f.pixKey,onChange:g=>m({...f,pixKey:g.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"amount",children:"Valor do Saque (R$)"}),l.jsx(Ze,{id:"amount",type:"number",step:"0.01",min:"20",max:u,placeholder:"20.00",value:f.amount,onChange:g=>m({...f,amount:g.target.value}),required:!0}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Valor mnimo: R$ 20,00 | Mximo: R$ ",u.toFixed(2)]})]}),l.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Informaes Importantes:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:" O saque ser processado manualmente em at 5 dias teis"}),l.jsx("li",{children:" Voc receber uma notificao quando o pagamento for aprovado"}),l.jsx("li",{children:" Certifique-se de que os dados do PIX esto corretos"})]})]}),l.jsx(te,{type:"submit",className:"w-full",disabled:o||u<20,children:o?"Enviando...":"Solicitar Saque"})]})})]})]})]}):null}const kU=new xO,NU=()=>(z_(),l.jsxs(p2,{children:[l.jsx(ut,{path:"/",element:l.jsx(SL,{})}),l.jsx(ut,{path:"/movies",element:l.jsx(WL,{})}),l.jsx(ut,{path:"/series",element:l.jsx(HL,{})}),l.jsx(ut,{path:"/favorites",element:l.jsx(qL,{})}),l.jsx(ut,{path:"/movie/:id",element:l.jsx(o4,{})}),l.jsx(ut,{path:"/series/:id",element:l.jsx(i4,{})}),l.jsx(ut,{path:"/login",element:l.jsx(f4,{})}),l.jsx(ut,{path:"/signup",element:l.jsx(h4,{})}),l.jsx(ut,{path:"/admin",element:l.jsx(nU,{})}),l.jsx(ut,{path:"/profile",element:l.jsx(SU,{})}),l.jsx(ut,{path:"/vip",element:l.jsx(EU,{})}),l.jsx(ut,{path:"/affiliate/dashboard",element:l.jsx(jU,{})}),l.jsx(ut,{path:"/affiliate/withdraw",element:l.jsx(CU,{})}),l.jsx(ut,{path:"*",element:l.jsx(a4,{})})]})),PU=()=>l.jsx(_O,{client:kU,children:l.jsxs(KA,{children:[l.jsx(RT,{}),l.jsx(cR,{}),l.jsx(_2,{children:l.jsx(NU,{})})]})});r0(document.getElementById("root")).render(l.jsx(PU,{}));
